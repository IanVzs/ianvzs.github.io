<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="author:Ian
Python GUI 💽 # pynput # 在 pynput 模块中，Win键被称为“特殊键”（Special keys），需要使用特殊的名称来表示。
以下是可以使用的特殊键名称列表：
https://pynput.readthedocs.io/en/latest/keyboard.html?highlight=%3Ccmd%3E#controlling-the-keyboard 因此，如果你想要在热键设置中使用 Win键+空格 这个热键，可以将它们分别替换为 cmd 和 space，如下所示：
from pynput import keyboard def on_activate(): print('Hotkey activated') def on_exit(): print('Hotkey exited') return False with keyboard.GlobalHotKeys({'<cmd>+<space>': on_activate}) as h: h.join(on_exit)``` 在这个例子中，我们使用 <cmd>+<space> 来表示 Win键+空格 热键，因为在Mac中，Command键（cmd）可以起到类似于Win键的作用。 ## PyQt ![qt](https://tse4-mm.cn.bing.net/th/id/OIP.J4_Nqrcc0x7slHHUFwKLSQHaI6?pid=ImgDet&amp;rs=1 &#34;tmp&#34;) 官方说明文档：<http://pyqt.sourceforge.net/Docs/PyQt4/index.html> 照例，先贴网址： <http://www.qaulau.com/books/PyQt4_Tutorial/index.html> ## 画界面 #PyQt4使用designer.exe import os for root, dirs, files in os.walk('.'): for file in files: if file.endswith('.ui'): os.system('pyuic4 -o ui_%s."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="图形化界面 （Python Gui）"><meta property="og:description" content="author:Ian
Python GUI 💽 # pynput # 在 pynput 模块中，Win键被称为“特殊键”（Special keys），需要使用特殊的名称来表示。
以下是可以使用的特殊键名称列表：
https://pynput.readthedocs.io/en/latest/keyboard.html?highlight=%3Ccmd%3E#controlling-the-keyboard 因此，如果你想要在热键设置中使用 Win键+空格 这个热键，可以将它们分别替换为 cmd 和 space，如下所示：
from pynput import keyboard def on_activate(): print('Hotkey activated') def on_exit(): print('Hotkey exited') return False with keyboard.GlobalHotKeys({'<cmd>+<space>': on_activate}) as h: h.join(on_exit)``` 在这个例子中，我们使用 <cmd>+<space> 来表示 Win键+空格 热键，因为在Mac中，Command键（cmd）可以起到类似于Win键的作用。 ## PyQt ![qt](https://tse4-mm.cn.bing.net/th/id/OIP.J4_Nqrcc0x7slHHUFwKLSQHaI6?pid=ImgDet&amp;rs=1 &#34;tmp&#34;) 官方说明文档：<http://pyqt.sourceforge.net/Docs/PyQt4/index.html> 照例，先贴网址： <http://www.qaulau.com/books/PyQt4_Tutorial/index.html> ## 画界面 #PyQt4使用designer.exe import os for root, dirs, files in os.walk('.'): for file in files: if file.endswith('.ui'): os.system('pyuic4 -o ui_%s."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/docs/programmer/gui/notespython/"><meta property="article:section" content="docs"><title>图形化界面 （Python Gui） | Ian's Blog</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.2d8d2bb9754cea7562c9f4c6dd439b23aa4670e648a288ebbc817f1f4eaa725f.js integrity="sha256-LY0ruXVM6nViyfTG3UObI6pGcOZIoojrvIF/H06qcl8=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Ian's Blog</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/programmer/>程序员笔记</a><ul><li><input type=checkbox id=section-8658298e10b544e890095f646916165a class=toggle>
<label for=section-8658298e10b544e890095f646916165a class="flex justify-between"><a role=button>云原生</a></label><ul><li><input type=checkbox id=section-62d608ed890b3abc76dae78ccfcab912 class=toggle>
<label for=section-62d608ed890b3abc76dae78ccfcab912 class="flex justify-between"><a role=button>k8s</a></label><ul><li><a href=/docs/programmer/cloudnative/k8s/elk%E5%9C%A8k8s%E4%B8%8A%E7%9A%84%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/>elk在k8s上的部署使用示例</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E9%85%8D%E5%A5%97%E8%AF%B4%E6%98%8E/>k8s 配套说明</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/>k8s技术分享</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/>k8s学习-常用命令和配置文件</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-workflow%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90/>Argo Workflow性能测试和使用场景分析</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/>Argo 使用记录</a></li></ul></li><li><input type=checkbox id=section-b828bf3d116bc282da9db25a06bf908e class=toggle>
<label for=section-b828bf3d116bc282da9db25a06bf908e class="flex justify-between"><a role=button>中间件</a></label><ul><li><a href=/docs/programmer/cloudnative/middleware/kafka-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/>Kafka 安装和使用</a></li></ul></li><li><a href=/docs/programmer/cloudnative/noteofdocker/>Docker</a></li><li><a href=/docs/programmer/cloudnative/tipsofweb/>Nginx高可用</a></li><li><a href=/docs/programmer/cloudnative/notesdjango/>Django的建站的(｡･･)ﾉﾞ</a></li><li><a href=/docs/programmer/cloudnative/sonar-%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5/>Sonar 代码静态检查</a></li></ul></li><li><input type=checkbox id=section-de7bfad1d124522974cdf8addfbb23f2 class=toggle>
<label for=section-de7bfad1d124522974cdf8addfbb23f2 class="flex justify-between"><a role=button>Net</a></label><ul><li><a href=/docs/programmer/net/uwsgi-%E5%A4%84%E7%90%86%E8%AE%B0%E5%BD%95/>uwsgi 处理记录</a></li><li><a href=/docs/programmer/net/tipsofgrpc/>gRpc使用小记</a></li><li><a href=/docs/programmer/net/net/>Epoll实现</a></li><li><a href=/docs/programmer/net/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginx实用配置</a></li></ul></li><li><input type=checkbox id=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class=toggle>
<label for=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class="flex justify-between"><a role=button>编程语言</a></label><ul><li><input type=checkbox id=section-771df6c720301e69f1715f7fc174ac3d class=toggle>
<label for=section-771df6c720301e69f1715f7fc174ac3d class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/docs/programmer/langs/python/pypi/>PyPi使用说明</a></li><li><a href=/docs/programmer/langs/python/paramiko-%E4%BD%BF%E7%94%A8-sshsftp/>Paramiko 使用 Ssh&amp;sftp</a></li><li><a href=/docs/programmer/langs/python/pytest/>Pytest</a></li><li><a href=/docs/programmer/langs/python/notespython/>笔记</a></li></ul></li><li><input type=checkbox id=section-9f8ac8f06e138c7ac13ff61f23b4d497 class=toggle>
<label for=section-9f8ac8f06e138c7ac13ff61f23b4d497 class="flex justify-between"><a role=button>Golang</a></label><ul><li><a href=/docs/programmer/langs/golang/noteofgoexp/>Golang进阶笔记</a></li><li><a href=/docs/programmer/langs/golang/noteofgolang/>Golang笔记</a></li></ul></li><li><a href=/docs/programmer/langs/cmake/>CMake 使用Tips</a></li><li><a href=/docs/programmer/langs/tipsofdebugers/>tips Of Debuggers</a></li><li><a href=/docs/programmer/langs/tipsofmarkdown/>Markdown</a></li><li><a href=/docs/programmer/langs/markdown/>Markdown</a></li><li><a href=/docs/programmer/langs/java/notesjava/>愉快的Java(happy to learn the fuck java)</a></li><li><a href=/docs/programmer/langs/noteoffmtdata/>数据格式笔记</a></li></ul></li><li><input type=checkbox id=section-883e27361d38e16afb68faff3435ac0b class=toggle>
<label for=section-883e27361d38e16afb68faff3435ac0b class="flex justify-between"><a role=button>机器学习</a></label><ul><li><a href=/docs/programmer/ml/tensorflow/>Tensorflow</a></li><li><a href=/docs/programmer/ml/opencv/>OpenCV</a></li><li><a href=/docs/programmer/ml/paddle/>Paddle</a></li><li><a href=/docs/programmer/ml/yolo/>Demo Test项目中的一些东西</a></li><li><a href=/docs/programmer/ml/noteofmachinelearning/>机器学习库</a></li></ul></li><li><input type=checkbox id=section-7e5360c5e7954906b897ed79085884b6 class=toggle checked>
<label for=section-7e5360c5e7954906b897ed79085884b6 class="flex justify-between"><a href=/docs/programmer/gui/>图形用户界面-GUI</a></label><ul><li><a href=/docs/programmer/gui/pyinstaller/>python打包</a></li><li><a href=/docs/programmer/gui/qt/>Qt/PySide</a></li><li><a href=/docs/programmer/gui/noteofvn_py/>Vn.Py学习笔记（Python交易平台框架）</a></li><li><a href=/docs/programmer/gui/notespython/ class=active>图形化界面 （Python Gui）</a></li></ul></li><li><input type=checkbox id=section-ddcbe632dc99a9fb372422dada8ee641 class=toggle>
<label for=section-ddcbe632dc99a9fb372422dada8ee641 class="flex justify-between"><a role=button>OS操作系统问题处理</a></label><ul><li><a href=/docs/programmer/os/install_some/>安装问题</a></li><li><a href=/docs/programmer/os/noteoflinux/>Linux</a></li><li><a href=/docs/programmer/os/android/>Android</a></li><li><a href=/docs/programmer/os/freebsd/>Freebsd</a></li><li><a href=/docs/programmer/os/npm/>Npm</a></li><li><a href=/docs/programmer/os/tipsofproblems/>解决问题</a></li></ul></li><li><input type=checkbox id=section-4446dd07527142b855f26d7cc8f0e617 class=toggle>
<label for=section-4446dd07527142b855f26d7cc8f0e617 class="flex justify-between"><a role=button>Database</a></label><ul><li><a href=/docs/programmer/database/dgraph/>Dgraph使用小记</a></li><li><a href=/docs/programmer/database/noteofdbdata/>db数据库</a></li><li><a href=/docs/programmer/database/mongodb/>Mongodb</a></li><li><a href=/docs/programmer/database/tip_dgraph/>Dgraph</a></li></ul></li><li><input type=checkbox id=section-d5f99046a51e5e750b61f2e037945fcc class=toggle>
<label for=section-d5f99046a51e5e750b61f2e037945fcc class="flex justify-between"><a role=button>基础工具和配置</a></label><ul><li><a href=/docs/programmer/basetc/for_china/>各个软件换源</a></li><li><a href=/docs/programmer/basetc/tipsofvim/>tip Of vim</a></li><li><a href=/docs/programmer/basetc/editer/>编辑器使用</a></li><li><a href=/docs/programmer/basetc/bash/>Bash</a></li><li><a href=/docs/programmer/basetc/gitbook/>Gitbook</a></li><li><a href=/docs/programmer/basetc/vim/>Vim</a></li></ul></li><li><input type=checkbox id=section-d325c59fc6513e1b1e05a60b192d4973 class=toggle>
<label for=section-d325c59fc6513e1b1e05a60b192d4973 class="flex justify-between"><a href=/docs/programmer/hardware/>硬件</a></label><ul><li><a href=/docs/programmer/hardware/raspberrypi/>Raspberry Pi</a></li><li><a href=/docs/programmer/hardware/screen/>Screen</a></li></ul></li></ul></li><li class=book-section-flat><span>建模和游戏</span><ul><li><a href=/docs/3dgame/blender/>Blender</a></li><li><a href=/docs/3dgame/noteofue4/>UE4 笔记</a></li></ul></li><li class=book-section-flat><a href=/docs/example/>Hugo特殊Markdown语法说明</a><ul><li><a href=/docs/example/table-of-contents/>Table of Contents</a><ul><li><a href=/docs/example/table-of-contents/with-toc/>With ToC</a></li><li><a href=/docs/example/table-of-contents/without-toc/>Without ToC</a></li></ul></li><li><a href=/docs/example/shortcodes/buttons/>Buttons</a></li><li><a href=/docs/example/shortcodes/columns/>Columns</a></li><li><a href=/docs/example/shortcodes/details/>Details</a></li><li><a href=/docs/example/shortcodes/expand/>Expand</a></li><li><a href=/docs/example/shortcodes/hints/>Hints</a></li><li><a href=/docs/example/shortcodes/tabs/>Tabs</a></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>图形化界面 （Python Gui）</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#pynput>pynput</a></li></ul></nav></aside></header><article class=markdown><p>author:Ian</p><h1 id=python-gui->Python GUI 💽
<a class=anchor href=#python-gui->#</a></h1><h2 id=pynput>pynput
<a class=anchor href=#pynput>#</a></h2><p>在 pynput 模块中，Win键被称为“特殊键”（Special keys），需要使用特殊的名称来表示。</p><p>以下是可以使用的特殊键名称列表：</p><ul><li><a href="https://pynput.readthedocs.io/en/latest/keyboard.html?highlight=%3Ccmd%3E#controlling-the-keyboard">https://pynput.readthedocs.io/en/latest/keyboard.html?highlight=%3Ccmd%3E#controlling-the-keyboard</a></li></ul><p>因此，如果你想要在热键设置中使用 Win键+空格 这个热键，可以将它们分别替换为 cmd 和 space，如下所示：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>from</span> pynput <span style=color:#f92672>import</span> keyboard
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_activate</span>():
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;Hotkey activated&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_exit</span>():
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;Hotkey exited&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> keyboard<span style=color:#f92672>.</span>GlobalHotKeys({<span style=color:#e6db74>&#39;&lt;cmd&gt;+&lt;space&gt;&#39;</span>: on_activate}) <span style=color:#66d9ef>as</span> h:
</span></span><span style=display:flex><span>    h<span style=color:#f92672>.</span>join(on_exit)<span style=color:#960050;background-color:#1e0010>```</span>
</span></span><span style=display:flex><span>在这个例子中<span style=color:#960050;background-color:#1e0010>，</span>我们使用 <span style=color:#f92672>&lt;</span>cmd<span style=color:#f92672>&gt;+&lt;</span>space<span style=color:#f92672>&gt;</span> 来表示 Win键<span style=color:#f92672>+</span>空格 热键<span style=color:#960050;background-color:#1e0010>，</span>因为在Mac中<span style=color:#960050;background-color:#1e0010>，</span>Command键<span style=color:#960050;background-color:#1e0010>（</span>cmd<span style=color:#960050;background-color:#1e0010>）</span>可以起到类似于Win键的作用<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#75715e>## PyQt</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>!</span>[qt](https:<span style=color:#f92672>//</span>tse4<span style=color:#f92672>-</span>mm<span style=color:#f92672>.</span>cn<span style=color:#f92672>.</span>bing<span style=color:#f92672>.</span>net<span style=color:#f92672>/</span>th<span style=color:#f92672>/</span>id<span style=color:#f92672>/</span>OIP<span style=color:#f92672>.</span>J4_Nqrcc0x7slHHUFwKLSQHaI6<span style=color:#960050;background-color:#1e0010>?</span>pid<span style=color:#f92672>=</span>ImgDet<span style=color:#f92672>&amp;</span>rs<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> <span style=color:#e6db74>&#34;tmp&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>官方说明文档<span style=color:#960050;background-color:#1e0010>：</span><span style=color:#f92672>&lt;</span>http:<span style=color:#f92672>//</span>pyqt<span style=color:#f92672>.</span>sourceforge<span style=color:#f92672>.</span>net<span style=color:#f92672>/</span>Docs<span style=color:#f92672>/</span>PyQt4<span style=color:#f92672>/</span>index<span style=color:#f92672>.</span>html<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>照例<span style=color:#960050;background-color:#1e0010>，</span>先贴网址<span style=color:#960050;background-color:#1e0010>：</span> <span style=color:#f92672>&lt;</span>http:<span style=color:#f92672>//</span>www<span style=color:#f92672>.</span>qaulau<span style=color:#f92672>.</span>com<span style=color:#f92672>/</span>books<span style=color:#f92672>/</span>PyQt4_Tutorial<span style=color:#f92672>/</span>index<span style=color:#f92672>.</span>html<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 画界面</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#PyQt4使用designer.exe</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> os 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> root, dirs, files <span style=color:#f92672>in</span> os<span style=color:#f92672>.</span>walk(<span style=color:#e6db74>&#39;.&#39;</span>): 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> file <span style=color:#f92672>in</span> files: 
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> file<span style=color:#f92672>.</span>endswith(<span style=color:#e6db74>&#39;.ui&#39;</span>): 
</span></span><span style=display:flex><span>                os<span style=color:#f92672>.</span>system(<span style=color:#e6db74>&#39;pyuic4 -o ui_</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>.py </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> (file<span style=color:#f92672>.</span>rsplit(<span style=color:#e6db74>&#39;.&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>0</span>], file))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> file<span style=color:#f92672>.</span>endswith(<span style=color:#e6db74>&#39;.qrc&#39;</span>): 
</span></span><span style=display:flex><span>                os<span style=color:#f92672>.</span>system(<span style=color:#e6db74>&#39;pyrcc4 -o </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>_rc.py </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> (file<span style=color:#f92672>.</span>rsplit(<span style=color:#e6db74>&#39;.&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>0</span>], file))
</span></span><span style=display:flex><span>    <span style=color:#75715e># 注：在Win中调用pyrcc4 可能无法识别该命令，即使添加到环境变量也不行，而是</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#pyrcc.exe才能调用简直……</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 窗口设置</span>
</span></span><span style=display:flex><span>    resize(<span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>8</span>)
</span></span><span style=display:flex><span>    setWindowTitle(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;标题&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>#### 获取图标</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>getIcon</span>(filename):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34; 获取图标 &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        fileInfo <span style=color:#f92672>=</span> Qt<span style=color:#f92672>.</span>QFileInfo(filename) 
</span></span><span style=display:flex><span>        fileIcon <span style=color:#f92672>=</span> Qt<span style=color:#f92672>.</span>QFileIconProvider() 
</span></span><span style=display:flex><span>        icon <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QIcon(fileIcon<span style=color:#f92672>.</span>icon(fileInfo)) 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> icon  
</span></span><span style=display:flex><span>    使用时<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>setWindowIcon(getIcon(<span style=color:#e6db74>&#39;../hi/app.ico&#39;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### Dock</span>
</span></span><span style=display:flex><span>    widgetTestM, dockTestM <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>createDock(AllMarketMonitor, vtText<span style=color:#f92672>.</span><span style=color:#960050;background-color:#1e0010>“</span>dock标题<span style=color:#960050;background-color:#1e0010>”</span>, QtCore<span style=color:#f92672>.</span>Qt<span style=color:#f92672>.</span>RightDockWidgetArea)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 方向有： `RightDockWidgetArea`,`BottomDockWidgetArea`,`LeftDockWidgetArea`</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建dock窗口</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># 可利用</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>tabifyDockWidget(dockMarketM, dockAllDataM)
</span></span><span style=display:flex><span>    来合并同一个方向上的dock
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># 此下还没看… </span>
</span></span><span style=display:flex><span>    dockTradeM<span style=color:#f92672>.</span>raise_()
</span></span><span style=display:flex><span>    dockPositionM<span style=color:#f92672>.</span>raise_()
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># 连接组件之间的信号</span>
</span></span><span style=display:flex><span>    widgetPositionM<span style=color:#f92672>.</span>itemDoubleClicked<span style=color:#f92672>.</span>connect(widgetTradingW<span style=color:#f92672>.</span>closePosition)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#75715e># 保存默认设置</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>saveWindowSettings(<span style=color:#e6db74>&#39;default&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>其实现函数为<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;创建停靠组件&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>createDock</span>(self, widgetClass, widgetName, widgetArea):
</span></span><span style=display:flex><span>        widget <span style=color:#f92672>=</span> widgetClass(self<span style=color:#f92672>.</span>mainEngine, self<span style=color:#f92672>.</span>eventEngine) 
</span></span><span style=display:flex><span>        dock <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QDockWidget(widgetName)
</span></span><span style=display:flex><span>        dock<span style=color:#f92672>.</span>setWidget(widget)
</span></span><span style=display:flex><span>        dock<span style=color:#f92672>.</span>setObjectName(widgetName)
</span></span><span style=display:flex><span>        dock<span style=color:#f92672>.</span>setFeatures(dock<span style=color:#f92672>.</span>DockWidgetFloatable<span style=color:#f92672>|</span>dock<span style=color:#f92672>.</span>DockWidgetMovable)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>addDockWidget(widgetArea, dock)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> widget, dock
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;</span> 再本质一点的东西为<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    widget1 <span style=color:#f92672>=</span> Ha(self)
</span></span><span style=display:flex><span>    dock <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QDockWidget(<span style=color:#e6db74>&#39;haha&#39;</span>)
</span></span><span style=display:flex><span>    dock<span style=color:#f92672>.</span>setObjectName(<span style=color:#e6db74>&#39;ha1&#39;</span>)
</span></span><span style=display:flex><span>    dock<span style=color:#f92672>.</span>setWidget(widget1)
</span></span><span style=display:flex><span>    dock<span style=color:#f92672>.</span>setFeatures(dock<span style=color:#f92672>.</span>DockWidgetFloatable <span style=color:#f92672>|</span> dock<span style=color:#f92672>.</span>DockWidgetMovable)
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>addDockWidget(QtCore<span style=color:#f92672>.</span>Qt<span style=color:#f92672>.</span>BottomDockWidgetArea, dock)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 动作</span>
</span></span><span style=display:flex><span>    exit <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QAction(QtGui<span style=color:#f92672>.</span>QIcon(<span style=color:#e6db74>&#39;hello.ico&#39;</span>), <span style=color:#e6db74>&#39;exit&#39;</span>, self)
</span></span><span style=display:flex><span>    exit<span style=color:#f92672>.</span>setShortcut(<span style=color:#e6db74>&#39;Ctrl+Q&#39;</span>)
</span></span><span style=display:flex><span>    exit<span style=color:#f92672>.</span>setStatusTip(<span style=color:#e6db74>&#39;Exit application&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 图标、文字、快捷键、提示信息</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    menubar <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>menuBar()
</span></span><span style=display:flex><span>    file <span style=color:#f92672>=</span> menubar<span style=color:#f92672>.</span>addMenu(<span style=color:#e6db74>&#39;&amp;File&#39;</span>)
</span></span><span style=display:flex><span>    file<span style=color:#f92672>.</span>addAction(exit)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建目录和工具栏，将动作添加进去。工具栏同理</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 定位布局</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 绝对定位</span>
</span></span><span style=display:flex><span>    label1 <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QLabel(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;绝对定位&#39;</span>, self)
</span></span><span style=display:flex><span>    label1<span style=color:#f92672>.</span>move(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>60</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建、移动到显示位置</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 框布局 及 布局元素平均分布</span>
</span></span><span style=display:flex><span>    okButton <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>&#34;OK&#34;</span>)
</span></span><span style=display:flex><span>    cancelButton <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>&#34;Cancel&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建按钮</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    hbox <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QHBoxLayout()
</span></span><span style=display:flex><span>    hbox<span style=color:#f92672>.</span>addStretch(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    hbox<span style=color:#f92672>.</span>addWidget(okButton)        <span style=color:#75715e># 增加组件</span>
</span></span><span style=display:flex><span>    hbox<span style=color:#f92672>.</span>addWidget(cancelButton)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建水平栏</span>
</span></span><span style=display:flex><span>    hbox<span style=color:#f92672>.</span>addStretch()   <span style=color:#75715e># 平均分布</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    vbox <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QVBoxLayout()
</span></span><span style=display:flex><span>    vbox<span style=color:#f92672>.</span>addStretch(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 创建竖列</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    vbox<span style=color:#f92672>.</span>addLayout(hbox)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 将水平栏插入竖列</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>setLayout(vbox)     
</span></span><span style=display:flex><span>    <span style=color:#75715e># 显示最终竖列</span>
</span></span><span style=display:flex><span>注意一下add时选择对类型就好了<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### QTableWidget</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;&lt;</span>textarea cols<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;50&#34;</span> rows<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;15&#34;</span> name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;code&#34;</span> class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;python&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#!/usr/bin/env python</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#coding=utf-8</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> PyQt4.QtGui  <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> PyQt4.QtCore <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyDialog</span>(QDialog):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, parent<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        super(MyDialog, self)<span style=color:#f92672>.</span>__init__(parent)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>MyTable <span style=color:#f92672>=</span> QTableWidget(<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setHorizontalHeaderLabels([<span style=color:#e6db74>&#39;姓名&#39;</span>,<span style=color:#e6db74>&#39;身高&#39;</span>,<span style=color:#e6db74>&#39;体重&#39;</span>])
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        newItem <span style=color:#f92672>=</span> QTableWidgetItem(<span style=color:#f92672>&amp;</span>quot;松鼠<span style=color:#f92672>&amp;</span>quot;)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setItem(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, newItem)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        newItem <span style=color:#f92672>=</span> QTableWidgetItem(<span style=color:#f92672>&amp;</span>quot;<span style=color:#ae81ff>10</span>cm<span style=color:#f92672>&amp;</span>quot;)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setItem(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, newItem)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        newItem <span style=color:#f92672>=</span> QTableWidgetItem(<span style=color:#f92672>&amp;</span>quot;<span style=color:#ae81ff>60</span>g<span style=color:#f92672>&amp;</span>quot;)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setItem(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, newItem) 
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>        layout <span style=color:#f92672>=</span> QHBoxLayout()
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(self<span style=color:#f92672>.</span>MyTable)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>setLayout(layout)    
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>    app <span style=color:#f92672>=</span> QApplication(sys<span style=color:#f92672>.</span>argv)
</span></span><span style=display:flex><span>    myWindow <span style=color:#f92672>=</span> MyDialog()
</span></span><span style=display:flex><span>    myWindow<span style=color:#f92672>.</span>show()
</span></span><span style=display:flex><span>    sys<span style=color:#f92672>.</span>exit(app<span style=color:#f92672>.</span>exec_())       <span style=color:#f92672>&lt;/</span>textarea<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span> <span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;&amp;</span>nbsp;<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>其中<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span>self<span style=color:#f92672>.</span>MyTable <span style=color:#f92672>=</span> QTableWidget(<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>3</span>)<span style=color:#f92672>&amp;</span>nbsp; 构造了一个QTableWidget的对象<span style=color:#960050;background-color:#1e0010>，</span>并且设置为4行<span style=color:#960050;background-color:#1e0010>，</span><span style=color:#ae81ff>3</span>列<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;&lt;</span>p<span style=color:#f92672>&gt;</span>self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setHorizontalHeaderLabels([<span style=color:#e6db74>&#39;姓名&#39;</span>,<span style=color:#e6db74>&#39;身高&#39;</span>,<span style=color:#e6db74>&#39;体重&#39;</span>]) 则设置表格的表头<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;&lt;</span>p<span style=color:#f92672>&gt;</span>newItem <span style=color:#f92672>=</span> QTableWidgetItem(<span style=color:#f92672>&amp;</span>quot;松鼠<span style=color:#f92672>&amp;</span>quot;)<span style=color:#f92672>&amp;</span>nbsp;<span style=color:#f92672>&amp;</span>nbsp; 则是生成了一个QTableWidgetItem的对象<span style=color:#960050;background-color:#1e0010>，</span>并让其名为<span style=color:#f92672>&amp;</span>ldquo;松鼠<span style=color:#f92672>&amp;</span>rdquo;<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;&lt;</span>p<span style=color:#f92672>&gt;</span>self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setItem(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, newItem)<span style=color:#f92672>&amp;</span>nbsp;<span style=color:#f92672>&amp;</span>nbsp;<span style=color:#f92672>&amp;</span>nbsp; 将刚才生成的Item加载到第0行<span style=color:#960050;background-color:#1e0010>、</span><span style=color:#ae81ff>0</span>列处
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;&amp;</span>nbsp;<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span>这样一个简单的QTableWidget就构造完成了<span style=color:#960050;background-color:#1e0010>。</span><span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;&lt;</span>img src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://hi.csdn.net/attachment/201103/1/0_1298961912c0mN.gif&#34;</span> alt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>感谢[来源](view<span style=color:#f92672>-</span>source:blog<span style=color:#f92672>.</span>csdn<span style=color:#f92672>.</span>net<span style=color:#f92672>/</span>vah101<span style=color:#f92672>/</span>article<span style=color:#f92672>/</span>details<span style=color:#f92672>/</span><span style=color:#ae81ff>6215066</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 以上。  之后的设置字体，底色，之类用的的时候再说。</span>
</span></span><span style=display:flex><span>其中<span style=color:#960050;background-color:#1e0010>：</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>##### 合并单元格效果的实现：</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>setSpan(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1</span>) 
</span></span><span style=display:flex><span>    <span style=color:#75715e># 其参数为： 要改变单元格的 1行数  2列数     要合并的 3行数  4列数</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### 表格表头的显示与隐藏</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>verticalHeader()<span style=color:#f92672>.</span>setVisible(<span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>MyTable<span style=color:#f92672>.</span>horizontalHeader()<span style=color:#f92672>.</span>setVisible(<span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 默认显示 且标号为： 1，2，3…</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 空位填补</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>.</span>addStretch()
</span></span><span style=display:flex><span>    <span style=color:#75715e># 不过比较鸡肋，还是下面的调整窗口显示比例比较好玩</span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### 调整各部分显示比例</span>
</span></span><span style=display:flex><span>    QVBoxLayout<span style=color:#f92672>*</span>  layout <span style=color:#f92672>=</span> new QVBoxLayout;
</span></span><span style=display:flex><span>    QPushButton<span style=color:#f92672>*</span>      btn <span style=color:#f92672>=</span> new QPushButton;
</span></span><span style=display:flex><span>    QTableWidget<span style=color:#f92672>*</span>     tableWidget <span style=color:#f92672>=</span> new QTableWidget;   
</span></span><span style=display:flex><span>    QHBoxLayout<span style=color:#f92672>*</span>     h_layout <span style=color:#f92672>=</span> new QHBoxLayout;
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>.</span>addWidget(btn);
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>.</span>addWidget(tableWidget);
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>.</span>addLayout(h_layout)
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>-&gt;</span>setStretchFactor(btn, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>-&gt;</span>setStretchFactor(tableWidget, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    layout<span style=color:#f92672>-&gt;</span>setStretchFactor(h_layout, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>上面是C<span style=color:#f92672>++</span>  所以下面的是俺的Python<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>    hbox1[i]<span style=color:#f92672>.</span>addWidget(self<span style=color:#f92672>.</span>buttonBox[i])
</span></span><span style=display:flex><span>        hbox1[i]<span style=color:#f92672>.</span>addWidget(self<span style=color:#f92672>.</span>paramMonitor[i])  
</span></span><span style=display:flex><span>        hbox1[i]<span style=color:#f92672>.</span>addWidget(self<span style=color:#f92672>.</span>varMonitor[i])
</span></span><span style=display:flex><span>        <span style=color:#75715e># 设置显示比例</span>
</span></span><span style=display:flex><span>        hbox1[i]<span style=color:#f92672>.</span>setStretchFactor(self<span style=color:#f92672>.</span>buttonBox[i], <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>        hbox1[i]<span style=color:#f92672>.</span>setStretchFactor(self<span style=color:#f92672>.</span>paramMonitor[i], <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>        hbox1[i]<span style=color:#f92672>.</span>setStretchFactor(self<span style=color:#f92672>.</span>varMonitor[i], <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 列表内添加按钮</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#960050;background-color:#1e0010>、</span>定义添加按钮的方法<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>div class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cnblogs_code&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 列表内添加按钮&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>     <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span> buttonForRow(self,id):
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         widget<span style=color:#f92672>=&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>QWidget()
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 修改&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>5</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         updateBtn <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;修改&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>6</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         updateBtn<span style=color:#f92672>.</span>setStyleSheet(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&#39;&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt; text-align : center;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt; 7&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                          background-color : NavajoWhite;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt; 8&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                          height : 30px;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt; 9&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                          border-style: outset;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;10&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                          font : 13px  &lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;&#39;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>11</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>12</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         updateBtn<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>lambda</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>:self<span style=color:#f92672>.</span>updateTable(id))
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>13</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>14</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 查看&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>15</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         viewBtn <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;查看&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>16</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         viewBtn<span style=color:#f92672>.</span>setStyleSheet(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&#39;&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt; text-align : center;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;17&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                  background-color : DarkSeaGreen;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;18&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                  height : 30px;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;19&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                  border-style: outset;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;20&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                  font : 13px; &lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;&#39;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>21</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>22</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         viewBtn<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>lambda</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>: self<span style=color:#f92672>.</span>viewTable(id))
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>23</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>24</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 删除&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>25</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         deleteBtn <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;删除&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>26</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         deleteBtn<span style=color:#f92672>.</span>setStyleSheet(<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #800000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;&#39;&#39;&lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt; text-align : center;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;27&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                    background-color : LightCoral;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;28&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                    height : 30px;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;29&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                    border-style: outset;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;30&lt;/span&gt; &lt;span style=&#34;color: #800000&#34;&gt;                                    font : 13px; &lt;/span&gt;&lt;span style=&#34;color: #800000&#34;&gt;&#39;&#39;&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>31</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>32</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> 
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>33</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         hLayout <span style=color:#f92672>=&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span> QHBoxLayout()
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>34</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>        hLayout<span style=color:#f92672>.</span>addWidget(updateBtn)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>35</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>        hLayout<span style=color:#f92672>.</span>addWidget(viewBtn)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>36</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>        hLayout<span style=color:#f92672>.</span>addWidget(deleteBtn)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>37</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         hLayout<span style=color:#f92672>.</span>setContentsMargins(<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>38</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>        widget<span style=color:#f92672>.</span>setLayout(hLayout)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>39</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>return</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> widget<span style=color:#f92672>&lt;/</span>pre<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>div<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2</span><span style=color:#960050;background-color:#1e0010>、</span>在向tableWidget里添加数据时插入即可<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>div class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cnblogs_code&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>for</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> row_number, row_data <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#f92672>in</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span> enumerate(rsdata):
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>    self<span style=color:#f92672>.</span>ui<span style=color:#f92672>.</span>tableWidget<span style=color:#f92672>.</span>insertRow(row_number)
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>3</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>     <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>for</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> i <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#f92672>in</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> range(len(row_data)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>):
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>4</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> i<span style=color:#f92672>&amp;</span>lt;<span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>len(row_data):
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>5</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>            self<span style=color:#f92672>.</span>ui<span style=color:#f92672>.</span>tableWidget<span style=color:#f92672>.</span>setItem(row_number, i, QtWidgets<span style=color:#f92672>.</span>QTableWidgetItem(str(row_data[i])))
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>6</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 添加按钮&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>7</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>         <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #0000ff&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> i<span style=color:#f92672>==&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #000000&#34;</span><span style=color:#f92672>&gt;</span>len(row_data):
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>8</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>             <span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008000&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#&lt;/span&gt;&lt;span style=&#34;color: #008000&#34;&gt; 传入当前id&lt;/span&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span style<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: #008080&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>9</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>             self<span style=color:#f92672>.</span>ui<span style=color:#f92672>.</span>tableWidget<span style=color:#f92672>.</span>setCellWidget(row_number, i,self<span style=color:#f92672>.</span>buttonForRow(str(row_data[<span style=color:#ae81ff>0</span>])))<span style=color:#f92672>&lt;/</span>pre<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/</span>div<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span>效果图<span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;&lt;</span>img src<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://images2017.cnblogs.com/blog/896442/201709/896442-20170907222902741-300228307.png&#34;</span> alt<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span><span style=color:#f92672>&gt;&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>就像以上显示的那样[来源](https:<span style=color:#f92672>//</span>www<span style=color:#f92672>.</span>cnblogs<span style=color:#f92672>.</span>com<span style=color:#f92672>/</span>yuanlipu<span style=color:#f92672>/</span>p<span style=color:#f92672>/</span><span style=color:#ae81ff>7492260.</span>html)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 值得注意的是，再排布的时候必须只有一个表格对其进行放置（也就是说指挥它去哪儿的只能有一个人），之前我为了测试，两个hbox 对其进行排版，简直……</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        labelSymbol <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QLabel(self<span style=color:#f92672>.</span>CtaEngine<span style=color:#f92672>.</span>strategyTickDict[self<span style=color:#f92672>.</span>name])
</span></span><span style=display:flex><span>        buttonInit[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;初始化&#39;</span>)
</span></span><span style=display:flex><span>        buttonStart[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;启动&#39;</span>)
</span></span><span style=display:flex><span>        buttonStop[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;停止&#39;</span>)
</span></span><span style=display:flex><span>        buttonUpdate[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;更新参数&#39;</span>)
</span></span><span style=display:flex><span>        buttonSave[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QPushButton(<span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;保存参数&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        buttonInit[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>init, i))
</span></span><span style=display:flex><span>        buttonStart[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>start, i))
</span></span><span style=display:flex><span>        buttonStop[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>stop, i))
</span></span><span style=display:flex><span>        buttonUpdate[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>updateParams,i))
</span></span><span style=display:flex><span>        buttonSave[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>saveParams, i))
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    hbox1[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QHBoxLayout()
</span></span><span style=display:flex><span>        <span style=color:#75715e>##参数设置显示</span>
</span></span><span style=display:flex><span>        hbox2[i] <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QHBoxLayout()
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(labelSymbol)</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(buttonInit[i])</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(buttonStart[i])</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(buttonStop[i])</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(buttonUpdate[i])</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#hbox1[i].addWidget(buttonSave[i])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>buttonBox[i]<span style=color:#f92672>.</span>setCellWidget(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, buttonInit[i])
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>buttonBox[i]<span style=color:#f92672>.</span>setCellWidget(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, buttonStart[i])
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>buttonBox[i]<span style=color:#f92672>.</span>setCellWidget(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, buttonStop[i])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 组件之间连接信号</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># classA(QtGui.QTableWidget):</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#   pass</span>
</span></span><span style=display:flex><span>    classA<span style=color:#f92672>.</span>itemDoubleClicked<span style=color:#f92672>.</span>connect(classB<span style=color:#f92672>.</span>actionFunction)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 这样单纯调用还是可以的，但是数据传输… 就得继续研究一下了。</span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### 关闭事件退出提示</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>closeEvent</span>(self, event):
</span></span><span style=display:flex><span>        reply <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QMessageBox<span style=color:#f92672>.</span>question(self, <span style=color:#e6db74>&#39;Message&#39;</span>,<span style=color:#e6db74>&#34;Are you sure to quit?&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            QtGui<span style=color:#f92672>.</span>QMessageBox<span style=color:#f92672>.</span>Yes, QtGui<span style=color:#f92672>.</span>QMessageBox<span style=color:#f92672>.</span>No)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> reply <span style=color:#f92672>==</span> QtGui<span style=color:#f92672>.</span>QMessageBox<span style=color:#f92672>.</span>Yes:
</span></span><span style=display:flex><span>        event<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        event<span style=color:#f92672>.</span>ignore()
</span></span><span style=display:flex><span>函数放置位置就是主窗口类下就好<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### QTableWidget 清除数据</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>updateData</span>(self, data): <span style=color:#75715e>#（缩进没问题吧…🙏）</span>
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;&#34;&#34;将数据更新到表格中&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>name <span style=color:#f92672>==</span> <span style=color:#e6db74>u</span><span style=color:#e6db74>&#39;RiskAlarmWidget&#39;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>updateBeginAction:
</span></span><span style=display:flex><span>            data <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>updateBeginAction(data)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> data:
</span></span><span style=display:flex><span>               <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>updateAction:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>updateAction(data)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> isinstance(data, unicode) <span style=color:#f92672>and</span> self<span style=color:#f92672>.</span>dataKey:
</span></span><span style=display:flex><span>                <span style=color:#75715e># 删除模式</span>
</span></span><span style=display:flex><span>                key <span style=color:#f92672>=</span> data
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>dataDict:
</span></span><span style=display:flex><span>                    d <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>dataDict[key]
</span></span><span style=display:flex><span>                    row <span style=color:#f92672>=</span> d[self<span style=color:#f92672>.</span>headerList[<span style=color:#ae81ff>0</span>]]<span style=color:#f92672>.</span>row()
</span></span><span style=display:flex><span>                    self<span style=color:#f92672>.</span>removeRow(row)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>del</span> self<span style=color:#f92672>.</span>dataDict[key]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                <span style=color:#75715e># 如果设置了dataKey，则采用存量更新模式</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>InsertMode:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># 如果允许了排序功能，则插入数据前必须关闭，否则插入新的数据会变乱</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_sorting:
</span></span><span style=display:flex><span>                        self<span style=color:#f92672>.</span>setSortingEnabled(<span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    newRow <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>InsertTopRow <span style=color:#66d9ef>else</span> self<span style=color:#f92672>.</span>rowCount()
</span></span><span style=display:flex><span>                    self<span style=color:#f92672>.</span>insertRow(newRow)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> n, header <span style=color:#f92672>in</span> enumerate(self<span style=color:#f92672>.</span>headerList):
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                        content <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>getContents(data, header)
</span></span><span style=display:flex><span>                        cellType <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>headerDict[header][<span style=color:#e6db74>&#39;cellType&#39;</span>]
</span></span><span style=display:flex><span>                        cell <span style=color:#f92672>=</span> cellType(content)
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>font:
</span></span><span style=display:flex><span>                            cell<span style=color:#f92672>.</span>setFont(self<span style=color:#f92672>.</span>font)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_saveData:            
</span></span><span style=display:flex><span>                            cell<span style=color:#f92672>.</span>data <span style=color:#f92672>=</span> data                
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                        self<span style=color:#f92672>.</span>setItem(newRow, n, cell)  
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>                    <span style=color:#75715e># 重新打开排序</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_sorting:
</span></span><span style=display:flex><span>                        self<span style=color:#f92672>.</span>setSortingEnabled(<span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>          
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:            
</span></span><span style=display:flex><span>                    key <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span>__getattribute__(self<span style=color:#f92672>.</span>dataKey)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>dataDict:
</span></span><span style=display:flex><span>                        <span style=color:#75715e># 已存在数据字典中，则更新相关单元格</span>
</span></span><span style=display:flex><span>                        d <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>dataDict[key]
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> header <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>headerList:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                            content <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>getContents(data, header)
</span></span><span style=display:flex><span>                            cell <span style=color:#f92672>=</span> d[header]
</span></span><span style=display:flex><span>                            cell<span style=color:#f92672>.</span>setContent(content)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_saveData:            
</span></span><span style=display:flex><span>                <span style=color:#75715e># 如果设置了保存数据对象，则进行对象保存</span>
</span></span><span style=display:flex><span>                                cell<span style=color:#f92672>.</span>data <span style=color:#f92672>=</span> data                    
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                        <span style=color:#75715e># 如果允许了排序功能，则插入数据前必须关闭，</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>#否则插入新的数据会变乱</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_sorting:
</span></span><span style=display:flex><span>                            self<span style=color:#f92672>.</span>setSortingEnabled(<span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>                        <span style=color:#75715e># 不存在数据字典中，插入新行，创建此行单元格</span>
</span></span><span style=display:flex><span>                        newRow <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>InsertTopRow <span style=color:#66d9ef>else</span> self<span style=color:#f92672>.</span>rowCount()
</span></span><span style=display:flex><span>                        self<span style=color:#f92672>.</span>insertRow(newRow)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>                        d <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> n, header <span style=color:#f92672>in</span> enumerate(self<span style=color:#f92672>.</span>headerList):
</span></span><span style=display:flex><span>                        
</span></span><span style=display:flex><span>                            content <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>getContents(data, header)
</span></span><span style=display:flex><span>                            cellType <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>headerDict[header][<span style=color:#e6db74>&#39;cellType&#39;</span>]
</span></span><span style=display:flex><span>                            cell <span style=color:#f92672>=</span> cellType(content)
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>font:
</span></span><span style=display:flex><span>                                cell<span style=color:#f92672>.</span>setFont(self<span style=color:#f92672>.</span>font)  
</span></span><span style=display:flex><span>                <span style=color:#75715e># 如果设置了特殊字体，则进行单元格设置</span>
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_saveData:            
</span></span><span style=display:flex><span>                <span style=color:#75715e># 如果设置了保存数据对象，则进行对象保存</span>
</span></span><span style=display:flex><span>                                cell<span style=color:#f92672>.</span>data <span style=color:#f92672>=</span> data
</span></span><span style=display:flex><span>                        
</span></span><span style=display:flex><span>                            self<span style=color:#f92672>.</span>setItem(newRow, n, cell)
</span></span><span style=display:flex><span>                            d[header] <span style=color:#f92672>=</span> cell
</span></span><span style=display:flex><span>                        self<span style=color:#f92672>.</span>dataDict[key] <span style=color:#f92672>=</span> d
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>                        <span style=color:#75715e># 重新打开排序</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_sorting:
</span></span><span style=display:flex><span>                            self<span style=color:#f92672>.</span>setSortingEnabled(<span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>updateAfterAction:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>updateAfterAction(data)            
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>插入后数据需要清理只需<span style=color:#960050;background-color:#1e0010>`</span><span style=color:#f92672>.</span>clearContentsText()<span style=color:#960050;background-color:#1e0010>`，</span>这样是清理数据但保留表格<span style=color:#960050;background-color:#1e0010>，</span>方便更新内容<span style=color:#960050;background-color:#1e0010>。`</span><span style=color:#f92672>.</span>clear()<span style=color:#960050;background-color:#1e0010>`</span>则清理数据以及表格方便<span style=color:#f92672>&lt;</span>font color<span style=color:#f92672>=</span><span style=color:#ae81ff>75362109</span><span style=color:#f92672>&gt;</span>重新<span style=color:#f92672>&lt;/</span>font<span style=color:#f92672>&gt;</span>填入新的内容
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### 调用Windows程序</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> win32api
</span></span><span style=display:flex><span>        path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;D:/.../dockerTrader/gateway/ctpGateway/CTP_connect.json&#39;</span>
</span></span><span style=display:flex><span>        win32api<span style=color:#f92672>.</span>ShellExecute(<span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#39;open&#39;</span>, <span style=color:#e6db74>&#39;notepad.exe&#39;</span>, path, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 使用记事本打开此文件</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### Json</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;D:/.../dockerTrader/gateway/ctpGateway/CTP_connect.json&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>    setting <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>load(f)
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>userID <span style=color:#f92672>=</span> str(setting[<span style=color:#e6db74>&#39;userID&#39;</span>])
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>password <span style=color:#f92672>=</span> str(setting[<span style=color:#e6db74>&#39;password&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 信号槽（传输额外参数）</span>
</span></span><span style=display:flex><span>一般来说<span style=color:#960050;background-color:#1e0010>，</span>比如一个按钮吧<span style=color:#960050;background-color:#1e0010>。</span> 在链接点击信号与槽时<span style=color:#960050;background-color:#1e0010>`</span>buttonInit[i]<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>init, i))<span style=color:#960050;background-color:#1e0010>`</span>就完事了<span style=color:#960050;background-color:#1e0010>。</span>然而<span style=color:#960050;background-color:#1e0010>，</span>当循环创建按钮<span style=color:#960050;background-color:#1e0010>，</span>对应同样的槽函数<span style=color:#960050;background-color:#1e0010>，</span>只是需要执行的变量有区别时<span style=color:#960050;background-color:#1e0010>，</span>就需要传输额外的参数<span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span>这时<span style=color:#960050;background-color:#1e0010>，</span>方法有二<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>环境<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>python2<span style=color:#ae81ff>.7.8</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pyqt <span style=color:#ae81ff>4.11.1</span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 一： 使用lambda表达式</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;prettyprint&#34;</span><span style=color:#f92672>&gt;&lt;</span>code class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;language-python hljs &#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>from<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> PyQt4<span style=color:#f92672>.</span>QtCore <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>*</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>from<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> PyQt4<span style=color:#f92672>.</span>QtGui <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>*</span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-class&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>class<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>MyForm<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(QMainWindow)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-function&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>__init__<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(self, parent<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>        super(MyForm, self)<span style=color:#f92672>.</span>__init__(parent)  
</span></span><span style=display:flex><span>        button1 <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;Button 1&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>        button2 <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;Button 1&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>        button1<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>lambda</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>: self<span style=color:#f92672>.</span>on_button(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-number&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  
</span></span><span style=display:flex><span>        button2<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>lambda</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>: self<span style=color:#f92672>.</span>on_button(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-number&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        layout <span style=color:#f92672>=</span> QHBoxLayout()  
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(button1)  
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(button2)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        main_frame <span style=color:#f92672>=</span> QWidget()  
</span></span><span style=display:flex><span>        main_frame<span style=color:#f92672>.</span>setLayout(layout)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>setCentralWidget(main_frame)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-function&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>on_button<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(self, n)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>        print(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;Button </span><span style=color:#e6db74>{0}</span><span style=color:#e6db74> clicked&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;.</span>format(n))  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> __name__ <span style=color:#f92672>==</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#34;__main__&#34;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:  
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> sys  
</span></span><span style=display:flex><span>    app <span style=color:#f92672>=</span> QApplication(sys<span style=color:#f92672>.</span>argv)  
</span></span><span style=display:flex><span>    form <span style=color:#f92672>=</span> MyForm()  
</span></span><span style=display:flex><span>    form<span style=color:#f92672>.</span>show()  
</span></span><span style=display:flex><span>    app<span style=color:#f92672>.</span>exec_()  <span style=color:#f92672>&lt;/</span>code<span style=color:#f92672>&gt;&lt;/</span>pre<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span>解释一下<span style=color:#960050;background-color:#1e0010>，</span>on_button是怎样处理从两个按钮传来的信号<span style=color:#960050;background-color:#1e0010>。</span>我们使用lambda传递按钮数字给槽<span style=color:#960050;background-color:#1e0010>，</span>也可以传递任何其他东西<span style=color:#960050;background-color:#1e0010>—</span>甚至是按钮组件本身<span style=color:#960050;background-color:#1e0010>（</span>假如<span style=color:#960050;background-color:#1e0010>，</span>槽打算把传递信号的按钮修改为不可用<span style=color:#960050;background-color:#1e0010>）</span><span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 二： 使用functools里的partial函数</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;prettyprint&#34;</span><span style=color:#f92672>&gt;&lt;</span>code class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;language-python hljs &#34;</span><span style=color:#f92672>&gt;</span>button1<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>on_button, <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-number&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>1</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  
</span></span><span style=display:flex><span>button2<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>on_button, <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-number&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  <span style=color:#f92672>&lt;/</span>code<span style=color:#f92672>&gt;&lt;/</span>pre<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>p<span style=color:#f92672>&gt;</span><span style=color:#960050;background-color:#1e0010>《</span>Rapid GUI Program <span style=color:#66d9ef>with</span> Python <span style=color:#f92672>and</span> QT<span style=color:#960050;background-color:#1e0010>》</span> P143例子<span style=color:#960050;background-color:#1e0010>。</span><span style=color:#f92672>&lt;/</span>p<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;prettyprint&#34;</span><span style=color:#f92672>&gt;&lt;</span>code class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;language-python hljs &#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>from<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> PyQt4<span style=color:#f92672>.</span>QtCore <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>*</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>from<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> PyQt4<span style=color:#f92672>.</span>QtGui <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>*</span>  
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>from<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> functools <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> partial  
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>import<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> sys  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-class&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>class<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>Bu1<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(QWidget)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-function&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>__init__<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(self, parent<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>        super(Bu1, self)<span style=color:#f92672>.</span>__init__(parent)  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#水平盒式布局  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        layout <span style=color:#f92672>=</span> QHBoxLayout()  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#显示  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>lbl <span style=color:#f92672>=</span> QLabel(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;no button is pressed&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#循环5个按钮  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>for</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> i <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#f92672>in</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> range(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-number&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>5</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>):  
</span></span><span style=display:flex><span>            but <span style=color:#f92672>=</span> QPushButton(str(i))  
</span></span><span style=display:flex><span>            layout<span style=color:#f92672>.</span>addWidget(but)  
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#信号和槽连接  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>            but<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(self<span style=color:#f92672>.</span>cliked)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#使用封装，lambda  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        but <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;5&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(but)  
</span></span><span style=display:flex><span>        but<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>lambda</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>: self<span style=color:#f92672>.</span>on_click(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;5&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#使用个who变量，结果不正常，显示 False is pressed  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#but.clicked.connect(lambda who=&#34;5&#34;: self.on_click(who))  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#使用封装，partial函数  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        but <span style=color:#f92672>=</span> QPushButton(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;6&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(but)  
</span></span><span style=display:flex><span>        but<span style=color:#f92672>.</span>clicked<span style=color:#f92672>.</span>connect(partial(self<span style=color:#f92672>.</span>on_click, <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;6&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>))  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        layout<span style=color:#f92672>.</span>addWidget(self<span style=color:#f92672>.</span>lbl)  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#设置布局  &lt;/span&gt;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>setLayout(layout)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-comment&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>#传递额外参数     &lt;/span&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-function&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>cliked<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(self)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>        bu <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>sender()  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> isinstance(bu, QPushButton):  
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>lbl<span style=color:#f92672>.</span>setText(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> is pressed&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>%</span> bu<span style=color:#f92672>.</span>text())  
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>else</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:  
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>lbl<span style=color:#f92672>.</span>setText(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;no effect&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>)  
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-function&#34;</span><span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span>def<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-title&#34;</span><span style=color:#f92672>&gt;</span>on_click<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-params&#34;</span><span style=color:#f92672>&gt;</span>(self, n)<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:<span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>  
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>lbl<span style=color:#f92672>.</span>setText(<span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> is pressed&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> <span style=color:#f92672>%</span> n)  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-keyword&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#66d9ef>if</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span> __name__ <span style=color:#f92672>==</span> <span style=color:#f92672>&lt;</span>span class<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hljs-string&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#e6db74>&#39;__main__&#39;</span><span style=color:#f92672>&lt;/</span>span<span style=color:#f92672>&gt;</span>:          
</span></span><span style=display:flex><span>    app <span style=color:#f92672>=</span> QApplication(sys<span style=color:#f92672>.</span>argv)  
</span></span><span style=display:flex><span>    bu <span style=color:#f92672>=</span>Bu1()  
</span></span><span style=display:flex><span>    bu<span style=color:#f92672>.</span>show()  
</span></span><span style=display:flex><span>    app<span style=color:#f92672>.</span>exec_()   <span style=color:#f92672>&lt;/</span>code<span style=color:#f92672>&gt;&lt;/</span>pre<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>三<span style=color:#960050;background-color:#1e0010>：</span>感谢[来源](http:<span style=color:#f92672>//</span>blog<span style=color:#f92672>.</span>csdn<span style=color:#f92672>.</span>net<span style=color:#f92672>/</span>fengyu09<span style=color:#f92672>/</span>article<span style=color:#f92672>/</span>details<span style=color:#f92672>/</span><span style=color:#ae81ff>39498777</span>) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>###</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## PyQt + echarts图表</span>
</span></span><span style=display:flex><span>    echarts绘制图标会在本地保存一个<span style=color:#960050;background-color:#1e0010>`</span>html<span style=color:#960050;background-color:#1e0010>`</span>文件<span style=color:#960050;background-color:#1e0010>，</span>所以使用<span style=color:#960050;background-color:#1e0010>`</span>PyQt<span style=color:#960050;background-color:#1e0010>`</span>将之作为一个网页页面加载即可<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> PyQt4.QtWebKit <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> PyQt4.QtGui  <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> PyQt4.QtCore <span style=color:#f92672>import</span> <span style=color:#f92672>*</span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> pyecharts <span style=color:#f92672>import</span> Kline, Page
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>creat_charts</span>():
</span></span><span style=display:flex><span>        page <span style=color:#f92672>=</span> Page()
</span></span><span style=display:flex><span>        chart_init <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;width&#34;</span>: <span style=color:#ae81ff>1600</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;height&#34;</span>: <span style=color:#ae81ff>900</span>,
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        chart <span style=color:#f92672>=</span> Kline(<span style=color:#e6db74>&#34;K 线图&#34;</span>, <span style=color:#f92672>**</span>chart_init)
</span></span><span style=display:flex><span>        chart<span style=color:#f92672>.</span>add(<span style=color:#e6db74>&#34;日K&#34;</span>, [<span style=color:#e6db74>&#34;2017/7/</span><span style=color:#e6db74>{}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>31</span>)], v1)
</span></span><span style=display:flex><span>        page<span style=color:#f92672>.</span>add(chart)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> page
</span></span><span style=display:flex><span>    creat_charts()_render()     <span style=color:#75715e># 生成`render.html`文件</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>view <span style=color:#f92672>=</span> QWebView()
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>create_charts()<span style=color:#f92672>.</span>render()
</span></span><span style=display:flex><span>    url <span style=color:#f92672>=</span> QUrl(<span style=color:#e6db74>&#34;render.html&#34;</span>)   <span style=color:#75715e># 需要加载`QUrl`使用字符串转化</span>
</span></span><span style=display:flex><span>    self<span style=color:#f92672>.</span>view<span style=color:#f92672>.</span>load(url)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## addWidget</span>
</span></span><span style=display:flex><span>在窗口布局的时候这玩意至关重要<span style=color:#960050;background-color:#1e0010>，</span>因为要先创建一个框架<span style=color:#960050;background-color:#1e0010>，</span>再往里面塞东西<span style=color:#960050;background-color:#1e0010>。</span>而塞的方法就是<span style=color:#960050;background-color:#1e0010>`</span>addWidget<span style=color:#960050;background-color:#1e0010>`。</span>所以简单记录一下小年这一天经常用到的环套<span style=color:#960050;background-color:#1e0010>：</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    hbox <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QHBoxLayout()
</span></span><span style=display:flex><span>        vbox <span style=color:#f92672>=</span> QtGui<span style=color:#f92672>.</span>QVBoxLayout()
</span></span><span style=display:flex><span>    可以通过<span style=color:#960050;background-color:#1e0010>`</span>addWidget<span style=color:#960050;background-color:#1e0010>`</span>来塞入<span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QWidget<span style=color:#960050;background-color:#1e0010>`</span>, <span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QGroupBox<span style=color:#960050;background-color:#1e0010>`</span>, 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QTableWidget<span style=color:#960050;background-color:#1e0010>`</span>  ,<span style=color:#960050;background-color:#1e0010>`</span>QScrollArea<span style=color:#960050;background-color:#1e0010>`</span>等
</span></span><span style=display:flex><span>    还可以<span style=color:#960050;background-color:#1e0010>`</span>addWidget<span style=color:#960050;background-color:#1e0010>`</span>诸如<span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QPushButton<span style=color:#960050;background-color:#1e0010>`</span>, <span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QLabel<span style=color:#960050;background-color:#1e0010>`</span>, 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QComboBox<span style=color:#960050;background-color:#1e0010>`</span>, <span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QLineEdit<span style=color:#960050;background-color:#1e0010>`</span>等小部件
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>`</span>hbox<span style=color:#960050;background-color:#1e0010>`</span>和<span style=color:#960050;background-color:#1e0010>`</span>vbox<span style=color:#960050;background-color:#1e0010>`</span>可以通过<span style=color:#960050;background-color:#1e0010>`</span>addLayout<span style=color:#960050;background-color:#1e0010>`</span>互相添加<span style=color:#960050;background-color:#1e0010>（</span>这两个是 框架<span style=color:#960050;background-color:#1e0010>，</span>即页面上的<span style=color:#960050;background-color:#1e0010>“</span>骨头<span style=color:#960050;background-color:#1e0010>”。</span>来摆设<span style=color:#960050;background-color:#1e0010>“</span>肌肉<span style=color:#960050;background-color:#1e0010>”</span><span style=color:#f92672>-&gt;</span><span style=color:#960050;background-color:#1e0010>“</span>Widget<span style=color:#960050;background-color:#1e0010>”、</span><span style=color:#e6db74>&#34;Box&#34;</span>等的<span style=color:#960050;background-color:#1e0010>）</span>
</span></span><span style=display:flex><span>    当然最后要显示谁<span style=color:#960050;background-color:#1e0010>，</span>需要<span style=color:#960050;background-color:#1e0010>`</span>self<span style=color:#f92672>.</span>setLayout(hbox)<span style=color:#960050;background-color:#1e0010>`</span> 而支持<span style=color:#960050;background-color:#1e0010>`</span>setLayout<span style=color:#960050;background-color:#1e0010>`</span>少不了有
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>`</span>QWidget<span style=color:#960050;background-color:#1e0010>`</span>,<span style=color:#960050;background-color:#1e0010>`</span>QScrollArea<span style=color:#960050;background-color:#1e0010>`</span>, 所以它们好像能够无限互相套下去<span style=color:#960050;background-color:#1e0010>…</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>### 小部件的方法</span>
</span></span><span style=display:flex><span>其实哪些方法也不用记<span style=color:#960050;background-color:#1e0010>…</span>打开<span style=color:#960050;background-color:#1e0010>`</span>QtDesigner<span style=color:#960050;background-color:#1e0010>`</span>直接搜索拖拽<span style=color:#960050;background-color:#1e0010>，</span>然后看右边的清单就行了<span style=color:#960050;background-color:#1e0010>，</span>但这几个还是记录下来吧<span style=color:#960050;background-color:#1e0010>，</span>在网上找太累了<span style=color:#f92672>~</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>`</span>QtGui<span style=color:#f92672>.</span>QComboBox<span style=color:#960050;background-color:#1e0010>`</span>: <span style=color:#960050;background-color:#1e0010>`</span>addItems<span style=color:#960050;background-color:#1e0010>`</span>, <span style=color:#e6db74>&#39;&#39;&#39;addItem`, `currentText`
</span></span></span><span style=display:flex><span><span style=color:#e6db74>`QtGui.QSpinBox`: `setValue`, 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>### QString2String
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    def QString2PyString(self, qStr):   
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        #QString，如果内容是中文，则直接使用会有问题，要转换成 python
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        #string
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        return unicode(qStr.toUtf8(), &#39;utf-8&#39;, &#39;ignore&#39;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>## QLineEdit
</span></span></span><span style=display:flex><span><span style=color:#e6db74>之所以放这么后面是因为我觉得这东西没什么好说的，也就是一个输入框嘛，但因为出现在后面所以说是现在发现了其中有趣的东西。那就是最近在做输入密码的时候想要限制，但在程序中去判断显然并不是什么有意思的事情。然后想起来输入的时候可以直接限制住啊。于是采用了`textChanged`去`connect`一个函数，来动态监测输入。但在调试中打开错了窗口所以以为没有用就找了其他的方法。那就是在初始化的时候直接卡死，结果没有找到设置长度的.set***但找到了现用的`setValidator`其配合正则表达式的食用方法如下：
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    import re
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        a = QtCore.QRegExp(&#34;[A-Za-z]{0,5}[1-9][0-9]{0,5}&#34;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        a = QtCore.QRegExp(&#34;[a-zA-Z0-9]{0,12}$&#34;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        self.txtPasswd.setValidator(QtGui.QRegExpValidator(a))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    # emm,很显然，把a替换成limitRule就要顺眼一些了。
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>不过&lt;font color=#ff3bffl9&gt;值得注意的是：&lt;/font&gt;如果用`setText`将其它字符写进这个编辑小框框中的话，那么这个框框的规则就会被打破然后随便写。但要是`setText`的内容没有超出所规定的形式之外的话，那么规则照旧，依然执行。
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># PyQtGraph:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>[Link](http://www.pyqtgraph.org/)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    import pyqtgraph.examples  
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    pyqtgraph.examples.run()  
</span></span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#pynput>pynput</a></li></ul></nav></div></aside></main></body></html>