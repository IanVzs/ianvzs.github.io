<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="突然想起它: [[noteOfjava]]
三板斧 - apktool # https://apktool.org/docs/install/#linux
java -jar apktool.jar d -f -o outputDir yourApp.apk // 或 ./apktool d -f -o outputDir yourApp.apk 文件目录说明:
目录/文件名 用途 内容 original 保存 Apktool 无法直接处理的原始文件 AndroidManifest.xml 和签名信息目录 META-INF res 包含应用程序的资源文件 drawable (图片资源), layout (布局文件), values (字符串等), menu (菜单定义), xml (其他 XML 资源) smali 包含反编译后的字节码文件 .smali 文件，每个对应一个 Java 类的方法 assets 存放原始文件资源，不经编译处理 音频、视频、HTML、字体等文件 lib 存放 native 库（.so 文件） 不同平台架构的 .so 文件 AndroidManifest.xml 应用的清单文件，定义应用名称、包名、版本、权限等 XML 格式的配置信息 apktool.yml Apktool 的配置文件，存储解码和重建参数 框架版本、资源位置、编码设置等 注意事项： 修改资源或代码后，使用 Apktool 重新打包 APK。 确保遵守法律法规和使用协议。 Smali 是一种用于 Android 应用程序的DEX（Dalvik Executable）文件的汇编语言。它是DEX代码的反汇编表示，类似于Java的字节码。Smali 语法具有特定的结构和规则，以下是一些基本概念和语法："><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="逆向三板斧"><meta property="og:description" content="突然想起它: [[noteOfjava]]
三板斧 - apktool # https://apktool.org/docs/install/#linux
java -jar apktool.jar d -f -o outputDir yourApp.apk // 或 ./apktool d -f -o outputDir yourApp.apk 文件目录说明:
目录/文件名 用途 内容 original 保存 Apktool 无法直接处理的原始文件 AndroidManifest.xml 和签名信息目录 META-INF res 包含应用程序的资源文件 drawable (图片资源), layout (布局文件), values (字符串等), menu (菜单定义), xml (其他 XML 资源) smali 包含反编译后的字节码文件 .smali 文件，每个对应一个 Java 类的方法 assets 存放原始文件资源，不经编译处理 音频、视频、HTML、字体等文件 lib 存放 native 库（.so 文件） 不同平台架构的 .so 文件 AndroidManifest.xml 应用的清单文件，定义应用名称、包名、版本、权限等 XML 格式的配置信息 apktool.yml Apktool 的配置文件，存储解码和重建参数 框架版本、资源位置、编码设置等 注意事项： 修改资源或代码后，使用 Apktool 重新打包 APK。 确保遵守法律法规和使用协议。 Smali 是一种用于 Android 应用程序的DEX（Dalvik Executable）文件的汇编语言。它是DEX代码的反汇编表示，类似于Java的字节码。Smali 语法具有特定的结构和规则，以下是一些基本概念和语法："><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/docs/programmer/platforms/%E9%80%86%E5%90%91/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2024-09-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-09-04T00:00:00+00:00"><title>逆向三板斧 | Ian's Blog</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.967a0b86a468867bef105ea781246b02d3ec23457360efc5c19bf3896a2eec17.js integrity="sha256-lnoLhqRohnvvEF6ngSRrAtPsI0VzYO/FwZvziWou7Bc=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Ian's Blog</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/programmer/>程序员笔记</a><ul><li><input type=checkbox id=section-883e27361d38e16afb68faff3435ac0b class=toggle>
<label for=section-883e27361d38e16afb68faff3435ac0b class="flex justify-between"><a role=button>机器学习</a></label><ul><li><a href=/docs/programmer/ml/stable-diffusion/>AI画图</a></li><li><a href=/docs/programmer/ml/%E5%9B%BE%E7%89%87%E8%83%8C%E6%99%AF%E6%B6%88%E9%99%A4/>图片背景消除</a></li><li><a href=/docs/programmer/ml/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%A1%8C%E4%B8%BA%E8%87%AA%E5%8A%A8%E7%BC%96%E6%8E%92%E5%92%8C%E4%BB%BB%E5%8A%A1/>机器人行为自动编排和任务</a></li><li><a href=/docs/programmer/ml/%E7%88%AC%E8%99%AB/>爬虫</a></li><li><a href=/docs/programmer/ml/paddle/>Paddle</a></li><li><a href=/docs/programmer/ml/tensorflow/>Tensorflow</a></li><li><a href=/docs/programmer/ml/opencv/>OpenCV</a></li><li><a href=/docs/programmer/ml/yolo/>Demo Test项目中的一些东西</a></li><li><a href=/docs/programmer/ml/python-%E5%9B%BE%E8%A1%A8/>Python 图表</a></li><li><a href=/docs/programmer/ml/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B8%B8%E7%94%A8%E5%BA%93%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/>机器学习库</a></li></ul></li><li><input type=checkbox id=section-8658298e10b544e890095f646916165a class=toggle>
<label for=section-8658298e10b544e890095f646916165a class="flex justify-between"><a href=/docs/programmer/cloudnative/>云原生</a></label><ul><li><input type=checkbox id=section-31d3b02fd4a132635e483e7e756058ea class=toggle>
<label for=section-31d3b02fd4a132635e483e7e756058ea class="flex justify-between"><a href=/docs/programmer/cloudnative/redis/>中间件</a></label><ul><li><a href=/docs/programmer/cloudnative/redis/python-redis-%E5%AE%A2%E6%88%B7%E7%AB%AF/>Python Redis 客户端</a></li><li><a href=/docs/programmer/cloudnative/redis/bigkey-and-hotkey/>大key、热key问题</a></li><li><a href=/docs/programmer/cloudnative/redis/the-basics-of-redis/>Redis基础</a></li><li><a href=/docs/programmer/cloudnative/redis/advanced-knowledge-of-redis/>Redis进阶</a></li><li><a href=/docs/programmer/cloudnative/redis/%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4/>Redis常用命令</a></li></ul></li><li><input type=checkbox id=section-62d608ed890b3abc76dae78ccfcab912 class=toggle>
<label for=section-62d608ed890b3abc76dae78ccfcab912 class="flex justify-between"><a role=button>k8s</a></label><ul><li><a href=/docs/programmer/cloudnative/k8s/elk%E5%9C%A8k8s%E4%B8%8A%E7%9A%84%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/>elk在k8s上的部署使用示例</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E9%85%8D%E5%A5%97%E8%AF%B4%E6%98%8E/>k8s 配套说明</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/>k8s技术分享</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/>k8s学习-常用命令和配置文件</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-workflow%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90/>Argo Workflow性能测试和使用场景分析</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/>Argo 使用记录</a></li></ul></li><li><input type=checkbox id=section-b828bf3d116bc282da9db25a06bf908e class=toggle>
<label for=section-b828bf3d116bc282da9db25a06bf908e class="flex justify-between"><a role=button>中间件</a></label><ul><li><a href=/docs/programmer/cloudnative/middleware/kafka-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/>Kafka 安装和使用</a></li></ul></li><li><a href=/docs/programmer/cloudnative/elk/%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9F/>日志收集系统: loki+promtail+Grafana</a></li><li><a href=/docs/programmer/cloudnative/%E5%AE%B9%E5%99%A8/note-of-podman/>Podman</a></li><li><a href=/docs/programmer/cloudnative/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginx实用配置</a></li><li><a href=/docs/programmer/cloudnative/uwsgi-%E5%A4%84%E7%90%86%E8%AE%B0%E5%BD%95/>uwsgi 处理记录</a></li><li><a href=/docs/programmer/cloudnative/note-of-docker/>Docker</a></li><li><a href=/docs/programmer/cloudnative/%E5%AE%B9%E5%99%A8/note-of-docker/>Docker</a></li><li><a href=/docs/programmer/cloudnative/fastapi/>Django的建站的(｡･･)ﾉﾞ</a></li><li><a href=/docs/programmer/cloudnative/nginx-%E9%AB%98%E5%8F%AF%E7%94%A8/>Nginx高可用</a></li><li><a href=/docs/programmer/cloudnative/notesdjango/>Django的建站的(｡･･)ﾉﾞ</a></li><li><a href=/docs/programmer/cloudnative/sonar-%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5/>Sonar 代码静态检查</a></li></ul></li><li><input type=checkbox id=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class=toggle>
<label for=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class="flex justify-between"><a href=/docs/programmer/langs/>编程语言</a></label><ul><li><input type=checkbox id=section-9f8ac8f06e138c7ac13ff61f23b4d497 class=toggle>
<label for=section-9f8ac8f06e138c7ac13ff61f23b4d497 class="flex justify-between"><a role=button>Golang</a></label><ul><li><a href=/docs/programmer/langs/golang/%E6%8A%8Agolang%E5%BD%93%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80%E7%94%A8/>把Golang当脚本语言用</a></li><li><a href=/docs/programmer/langs/golang/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/>常用命令</a></li><li><a href=/docs/programmer/langs/golang/advanced-knowledge-of-golang/>Golang进阶笔记</a></li><li><a href=/docs/programmer/langs/golang/note-of-golang/>Golang笔记</a></li></ul></li><li><input type=checkbox id=section-771df6c720301e69f1715f7fc174ac3d class=toggle>
<label for=section-771df6c720301e69f1715f7fc174ac3d class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/docs/programmer/langs/python/%E8%A7%84%E8%8C%83/>Python编码规范</a></li><li><a href=/docs/programmer/langs/python/sqlalchemy/>SqlAlchemy - 数据库Orm</a></li><li><a href=/docs/programmer/langs/python/pypi/>PyPi使用说明</a></li><li><a href=/docs/programmer/langs/python/pytest/>PyTest</a></li><li><a href=/docs/programmer/langs/python/paramiko-%E4%BD%BF%E7%94%A8-sshsftp/>Paramiko 使用 Ssh&amp;sftp</a></li><li><a href=/docs/programmer/langs/python/fastapi/>FastAPI</a></li><li><a href=/docs/programmer/langs/python/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%9A%E8%BF%9B%E7%A8%8B/>Python 多线程多进程</a></li><li><a href=/docs/programmer/langs/python/notespython/>Python 常用库</a></li><li><a href=/docs/programmer/langs/python/notespython/>Python 笔记</a></li><li><a href=/docs/programmer/langs/python/py%E5%B0%8F%E5%B7%A5%E5%85%B7%E5%92%8C%E5%8A%9F%E8%83%BD%E6%80%A7%E6%96%B9%E6%B3%95/>Py小工具和功能性方法</a></li><li><a href=/docs/programmer/langs/python/notespython/>解决问题</a></li></ul></li><li><a href=/docs/programmer/langs/cmake/>CMake 使用Tips</a></li><li><a href=/docs/programmer/langs/tips-of-debugers/>Tips of debuggers</a></li><li><a href=/docs/programmer/langs/tips-of-markdown/>Tips of MarkDown</a></li><li><a href=/docs/programmer/langs/java/notesjava/>愉快的Java(happy to learn the fuck java)</a></li><li><a href=/docs/programmer/langs/note-for-algo/>算法</a></li></ul></li><li><input type=checkbox id=section-d5f99046a51e5e750b61f2e037945fcc class=toggle>
<label for=section-d5f99046a51e5e750b61f2e037945fcc class="flex justify-between"><a role=button>基础工具和配置</a></label><ul><li><a href=/docs/programmer/basetc/%E7%BB%88%E7%AB%AF%E6%B5%8F%E8%A7%88%E5%99%A8/>终端浏览器</a></li><li><a href=/docs/programmer/basetc/curl/>curl</a></li><li><a href=/docs/programmer/basetc/%E6%96%87%E6%9C%AC%E4%B8%89%E5%89%91%E5%AE%A2/>文本三剑客</a></li><li><a href=/docs/programmer/basetc/tmux/>Tmux使用笔记</a></li><li><a href=/docs/programmer/basetc/obsidian%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E6%8F%92%E4%BB%B6/>Obsidian思维导图插件</a></li><li><a href=/docs/programmer/basetc/for_china/>各个软件换源</a></li><li><a href=/docs/programmer/basetc/tipsofvim/>tip Of vim</a></li><li><a href=/docs/programmer/basetc/editer/>编辑器使用</a></li><li><a href=/docs/programmer/basetc/bash/>Bash</a></li><li><a href=/docs/programmer/basetc/gitbook/>Gitbook</a></li><li><a href=/docs/programmer/basetc/vim/>Vim</a></li><li><a href=/docs/programmer/basetc/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/>supervisor</a></li></ul></li><li><input type=checkbox id=section-7e5360c5e7954906b897ed79085884b6 class=toggle>
<label for=section-7e5360c5e7954906b897ed79085884b6 class="flex justify-between"><a href=/docs/programmer/gui/>图形用户界面-GUI</a></label><ul><li><input type=checkbox id=section-d68552b374b14edaa2443cb0f45f94f7 class=toggle>
<label for=section-d68552b374b14edaa2443cb0f45f94f7 class="flex justify-between"><a href=/docs/programmer/gui/example/>Blog 构建</a></label><ul><li><input type=checkbox id=section-9610a10c098f6edce85f18e8d27ddc6d class=toggle>
<label for=section-9610a10c098f6edce85f18e8d27ddc6d class="flex justify-between"><a href=/docs/programmer/gui/example/table-of-contents/>Table of Contents</a></label><ul><li><a href=/docs/programmer/gui/example/table-of-contents/with-toc/>With ToC</a></li><li><a href=/docs/programmer/gui/example/table-of-contents/without-toc/>Without ToC</a></li></ul></li><li><input type=checkbox id=section-9ec2030fb4762791e574be1af10795d3 class=toggle>
<label for=section-9ec2030fb4762791e574be1af10795d3 class="flex justify-between"><a href=/docs/programmer/gui/example/shortcodes/>Shortcodes</a></label><ul><li><a href=/docs/programmer/gui/example/shortcodes/buttons/>Buttons</a></li><li><a href=/docs/programmer/gui/example/shortcodes/columns/>Columns</a></li><li><a href=/docs/programmer/gui/example/shortcodes/details/>Details</a></li><li><a href=/docs/programmer/gui/example/shortcodes/expand/>Expand</a></li><li><a href=/docs/programmer/gui/example/shortcodes/hints/>Hints</a></li><li><input type=checkbox id=section-0a13810fcdbb2cfbfd8459e55601b351 class=toggle>
<label for=section-0a13810fcdbb2cfbfd8459e55601b351 class="flex justify-between"><a href=/docs/programmer/gui/example/shortcodes/section/>Section</a></label><ul><li><a href=/docs/programmer/gui/example/shortcodes/section/first-page/>First Page</a></li><li><a href=/docs/programmer/gui/example/shortcodes/section/second-page/>Second Page</a></li></ul></li><li><a href=/docs/programmer/gui/example/shortcodes/tabs/>Tabs</a></li></ul></li></ul></li><li><a href=/docs/programmer/gui/ffmpeg/>ffmpeg 使用</a></li><li><a href=/docs/programmer/gui/pyinstaller-python%E6%89%93%E5%8C%85/>python打包</a></li><li><a href=/docs/programmer/gui/qt/>Qt/PySide</a></li><li><a href=/docs/programmer/gui/vn.py%E7%AC%94%E8%AE%B0-%E4%BA%A4%E6%98%93%E5%B9%B3%E5%8F%B0%E5%AE%A2%E6%88%B7%E7%AB%AF/>Vn.Py学习笔记（Python交易平台框架）</a></li><li><a href=/docs/programmer/gui/notespython/>图形化界面 （Python Gui）</a></li></ul></li><li><input type=checkbox id=section-0bf4f4329214e20fa67ca3e12c6aad0c class=toggle checked>
<label for=section-0bf4f4329214e20fa67ca3e12c6aad0c class="flex justify-between"><a role=button>平台</a></label><ul><li><a href=/docs/programmer/platforms/%E9%80%86%E5%90%91/ class=active>逆向三板斧</a></li><li><a href=/docs/programmer/platforms/os/steam/>Steam</a></li><li><a href=/docs/programmer/platforms/android/waydroid/>Linux 跑安卓</a></li><li><a href=/docs/programmer/platforms/os/ubuntu/>Ubuntu</a></li><li><a href=/docs/programmer/platforms/%E9%98%BF%E9%87%8C%E4%BA%91%E4%BD%BF%E7%94%A8/>阿里云使用</a></li><li><a href=/docs/programmer/platforms/wps-for-linux/>WPS for Linux</a></li><li><a href=/docs/programmer/platforms/appsflyer/>AppsFlyer-外网移动归因营销分析平台</a></li><li><a href=/docs/programmer/platforms/install_some/>安装问题</a></li><li><a href=/docs/programmer/platforms/android/android/>安卓</a></li><li><a href=/docs/programmer/platforms/os/freebsd/>FreeBSD</a></li><li><a href=/docs/programmer/platforms/os/note-of-linux/>Linux 笔记</a></li><li><a href=/docs/programmer/platforms/android/adb/>adb</a></li><li><a href=/docs/programmer/platforms/git/>Git</a></li><li><a href=/docs/programmer/platforms/os/ros/>ROS机器人操作系统</a></li><li><a href=/docs/programmer/platforms/os/problem-of-windows/>Windows 爬坑记</a></li><li><a href=/docs/programmer/platforms/tips-of-problems/>解决问题记录笔记</a></li></ul></li><li><input type=checkbox id=section-4446dd07527142b855f26d7cc8f0e617 class=toggle>
<label for=section-4446dd07527142b855f26d7cc8f0e617 class="flex justify-between"><a href=/docs/programmer/database/>Database</a></label><ul><li><a href=/docs/programmer/database/note-of-db-data-mariadb/>数据库-MariaDB篇</a></li><li><a href=/docs/programmer/database/dgraph-graph-db/>Dgraph使用小记</a></li><li><a href=/docs/programmer/database/note-of-db-data-mongodb/>数据库-MongoDB篇</a></li><li><a href=/docs/programmer/database/note-of-db-data-mysql/>数据库-MySQL篇</a></li></ul></li><li><input type=checkbox id=section-de7bfad1d124522974cdf8addfbb23f2 class=toggle>
<label for=section-de7bfad1d124522974cdf8addfbb23f2 class="flex justify-between"><a role=button>Net</a></label><ul><li><a href=/docs/programmer/net/tools/ngrok/>ngrok - 一个免费内网穿透api工具</a></li><li><a href=/docs/programmer/net/crawler/mitmproxy/>mitmproxy</a></li><li><a href=/docs/programmer/net/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/>网络编程</a></li><li><a href=/docs/programmer/net/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginx实用配置</a></li><li><a href=/docs/programmer/net/tips-of-grpc/>gRpc使用小记</a></li><li><a href=/docs/programmer/net/epoll%E5%AE%9E%E7%8E%B0/>Epoll实现</a></li></ul></li><li><input type=checkbox id=section-d325c59fc6513e1b1e05a60b192d4973 class=toggle>
<label for=section-d325c59fc6513e1b1e05a60b192d4973 class="flex justify-between"><a href=/docs/programmer/hardware/>硬件</a></label><ul><li><a href=/docs/programmer/hardware/raspberrypi/>Raspberry Pi</a></li><li><a href=/docs/programmer/hardware/screen/>Screen</a></li></ul></li></ul></li><li class=book-section-flat><span>建模和游戏</span><ul><li><a href=/docs/3dgame/blender/>Blender</a></li><li><a href=/docs/3dgame/noteofue4/>UE4 笔记</a></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>逆向三板斧</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#三板斧---apktool>三板斧 - apktool</a></li><li><a href=#smali语言>Smali语言</a><ul><li><a href=#基本结构>基本结构</a></li><li><a href=#类定义>类定义</a></li><li><a href=#字段定义>字段定义</a></li><li><a href=#方法定义>方法定义</a></li><li><a href=#指令>指令</a></li><li><a href=#注释>注释</a></li><li><a href=#数据类型>数据类型</a></li></ul></li></ul><ul><li><a href=#android>Android</a></li></ul></nav></aside></header><article class=markdown><p>突然想起它: [[noteOfjava]]</p><h2 id=三板斧---apktool>三板斧 - apktool
<a class=anchor href=#%e4%b8%89%e6%9d%bf%e6%96%a7---apktool>#</a></h2><blockquote><p><a href=https://apktool.org/docs/install/#linux>https://apktool.org/docs/install/#linux</a></p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>java -jar apktool.jar d -f -o outputDir yourApp.apk
</span></span><span style=display:flex><span>// 或
</span></span><span style=display:flex><span>./apktool d -f -o outputDir yourApp.apk
</span></span></code></pre></div><p>文件目录说明:</p><table><thead><tr><th>目录/文件名</th><th>用途</th><th>内容</th></tr></thead><tbody><tr><td><strong>original</strong></td><td>保存 Apktool 无法直接处理的原始文件</td><td><code>AndroidManifest.xml</code> 和签名信息目录 <code>META-INF</code></td></tr><tr><td><strong>res</strong></td><td>包含应用程序的资源文件</td><td><code>drawable</code> (图片资源), <code>layout</code> (布局文件), <code>values</code> (字符串等), <code>menu</code> (菜单定义), <code>xml</code> (其他 XML 资源)</td></tr><tr><td><strong>smali</strong></td><td>包含反编译后的字节码文件</td><td><code>.smali</code> 文件，每个对应一个 Java 类的方法</td></tr><tr><td><strong>assets</strong></td><td>存放原始文件资源，不经编译处理</td><td>音频、视频、HTML、字体等文件</td></tr><tr><td><strong>lib</strong></td><td>存放 native 库（<code>.so</code> 文件）</td><td>不同平台架构的 <code>.so</code> 文件</td></tr><tr><td><strong>AndroidManifest.xml</strong></td><td>应用的清单文件，定义应用名称、包名、版本、权限等</td><td>XML 格式的配置信息</td></tr><tr><td><strong>apktool.yml</strong></td><td>Apktool 的配置文件，存储解码和重建参数</td><td>框架版本、资源位置、编码设置等</td></tr><tr><td><strong>注意事项</strong>：</td><td></td><td></td></tr></tbody></table><ul><li>修改资源或代码后，使用 Apktool 重新打包 APK。</li><li><del>确保遵守法律法规和使用协议</del>。</li></ul><p>Smali 是一种用于 Android 应用程序的DEX（Dalvik Executable）文件的汇编语言。它是DEX代码的反汇编表示，类似于Java的字节码。Smali 语法具有特定的结构和规则，以下是一些基本概念和语法：</p><h2 id=smali语言>Smali语言
<a class=anchor href=#smali%e8%af%ad%e8%a8%80>#</a></h2><h3 id=基本结构>基本结构
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e7%bb%93%e6%9e%84>#</a></h3><p>一个 Smali 文件通常包含以下部分：</p><ul><li><strong>头部信息</strong>：包括文件版本、创建日期等。</li><li><strong>类定义</strong>：以 <code>.class</code> 开头，后跟类名和父类名。</li><li><strong>字段定义</strong>：以 <code>.field</code> 开头，定义类的字段。</li><li><strong>方法定义</strong>：以 <code>.method</code> 开头，定义类的方法。</li><li><strong>指令</strong>：方法内部的操作码，执行具体的操作。</li></ul><h3 id=类定义>类定义
<a class=anchor href=#%e7%b1%bb%e5%ae%9a%e4%b9%89>#</a></h3><pre tabindex=0><code>.class public Lcom/example/MyClass;
.super Ljava/lang/Object;
.source &#34;MyClass.java&#34;
</code></pre><ul><li><code>.class</code>：定义一个类，<code>public</code> 表示访问权限，<code>Lcom/example/MyClass;</code> 是类的全限定名。</li><li><code>.super</code>：指定父类，这里是 <code>Ljava/lang/Object;</code>，表示继承自 <code>Object</code> 类。</li><li><code>.source</code>：指定源文件的名称。</li></ul><h3 id=字段定义>字段定义
<a class=anchor href=#%e5%ad%97%e6%ae%b5%e5%ae%9a%e4%b9%89>#</a></h3><pre tabindex=0><code>.field private static myField:I
</code></pre><ul><li><code>.field</code>：定义一个字段，<code>private static</code> 表示访问权限和静态属性，<code>myField</code> 是字段名，<code>:I</code> 表示字段类型为 <code>int</code>。</li></ul><h3 id=方法定义>方法定义
<a class=anchor href=#%e6%96%b9%e6%b3%95%e5%ae%9a%e4%b9%89>#</a></h3><pre tabindex=0><code>.method public static main([Ljava/lang/String;)V
</code></pre><ul><li><code>.method</code>：定义一个方法，<code>public static</code> 表示访问权限和静态方法，<code>main</code> 是方法名，<code>[Ljava/lang/String;</code> 表示参数类型为字符串数组，<code>V</code> 表示返回类型为 <code>void</code>。</li></ul><h3 id=指令>指令
<a class=anchor href=#%e6%8c%87%e4%bb%a4>#</a></h3><p>在方法内部，你会找到一系列的指令，它们用于执行操作：</p><pre tabindex=0><code>aload_0  // 将局部变量0的引用推送到操作数栈
invoke-static {p0}, Lcom/example/MyClass;-&gt;myMethod(Ljava/lang/String;)V  // 调用一个静态方法
const/4 v0, 0x1  // 将整数1推送到局部变量v0
return-void  // 从当前方法返回void
</code></pre><ul><li><code>aload_0</code>：加载引用类型局部变量到操作数栈。</li><li><code>invoke-static</code>：调用一个静态方法，<code>{p0}</code> 是参数，<code>Lcom/example/MyClass;->myMethod(Ljava/lang/String;)V</code> 是方法的全限定名和描述符。</li><li><code>const/4</code>：将一个小的整数值推送到局部变量。</li><li><code>return-void</code>：从方法返回。</li></ul><h3 id=注释>注释
<a class=anchor href=#%e6%b3%a8%e9%87%8a>#</a></h3><p>Smali 文件中也可以包含注释，使用 <code>#</code> 开头的行是注释。</p><pre tabindex=0><code># This is a comment
</code></pre><h3 id=数据类型>数据类型
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b>#</a></h3><p>Smali 使用特定的符号来表示数据类型：</p><ul><li><code>V</code>：void</li><li><code>Z</code>：boolean</li><li><code>B</code>：byte</li><li><code>S</code>：short</li><li><code>C</code>：char</li><li><code>I</code>：int</li><li><code>J</code>：long</li><li><code>F</code>：float</li><li><code>D</code>：double</li><li><code>Lfully/qualified/Class;</code>：对象类型</li></ul><p>这只是 Smali 语法的一个简要概述。由于 Smali 是一种低级语言，它包含许多复杂的指令和结构，理解它需要时间和实践。</p><h1 id=https证书>https证书
<a class=anchor href=#https%e8%af%81%e4%b9%a6>#</a></h1><h2 id=android>Android
<a class=anchor href=#android>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mount -o remount,rw /system
</span></span><span style=display:flex><span>mv /sdcard/c8750f0d.0  /system/etc/security/cacerts/
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>644</span> /system/etc/security/cacerts/*
</span></span><span style=display:flex><span>chcon u:object_r:system_file:s0 /system/etc/security/cacerts/*
</span></span><span style=display:flex><span>mount -o remount,ro /system
</span></span></code></pre></div><p>the perms & selinux context labels, so everything is as readable as before # Delete the temp cert directory & this script itself</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#三板斧---apktool>三板斧 - apktool</a></li><li><a href=#smali语言>Smali语言</a><ul><li><a href=#基本结构>基本结构</a></li><li><a href=#类定义>类定义</a></li><li><a href=#字段定义>字段定义</a></li><li><a href=#方法定义>方法定义</a></li><li><a href=#指令>指令</a></li><li><a href=#注释>注释</a></li><li><a href=#数据类型>数据类型</a></li></ul></li></ul><ul><li><a href=#android>Android</a></li></ul></nav></div></aside></main></body></html>