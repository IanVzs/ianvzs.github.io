<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # MongoDBç¬”è®° # å­¦ä¹ ç½‘ç«™ï¼šhttp://www.runoob.com/mongodb/mongodb-tutorial.html (å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)
å®‰è£… # Docker å®‰è£… 4.4.12ç‰ˆæœ¬ # pull: docker pull mongo:4.4.13 run: docker run -itd --name mongo --restart=always \ -v /mongodb/datadb:/data/db \ -p 27017:27017 \ --network websafe-network \ --privileged=true mongo:4.4.12 è¿›å…¥å®¹å™¨docker exec -it mongo bashå:
mongo use admin # db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;root&#34;, db: &#34;admin&#34;}]}) # db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;userAdminAnyDatabase&#34;, db: &#34;admin&#34;}]}) # å¦‚æœèƒ½authå°±ä¸ç”¨createUseräº† db.auth(&#34;admin&#34;, &#34;admin&#34;) ç½‘ä¸Šä¼ çš„å°† MONGO_INITDB_ROOT_PASSWORD å’Œ MONGO_INITDB_ROOT_USERNAMEä¼ å…¥ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œåœ¨mongo4."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="æ•°æ®åº“-MongoDBç¯‡"><meta property="og:description" content="DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # MongoDBç¬”è®° # å­¦ä¹ ç½‘ç«™ï¼šhttp://www.runoob.com/mongodb/mongodb-tutorial.html (å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)
å®‰è£… # Docker å®‰è£… 4.4.12ç‰ˆæœ¬ # pull: docker pull mongo:4.4.13 run: docker run -itd --name mongo --restart=always \ -v /mongodb/datadb:/data/db \ -p 27017:27017 \ --network websafe-network \ --privileged=true mongo:4.4.12 è¿›å…¥å®¹å™¨docker exec -it mongo bashå:
mongo use admin # db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;root&#34;, db: &#34;admin&#34;}]}) # db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;userAdminAnyDatabase&#34;, db: &#34;admin&#34;}]}) # å¦‚æœèƒ½authå°±ä¸ç”¨createUseräº† db.auth(&#34;admin&#34;, &#34;admin&#34;) ç½‘ä¸Šä¼ çš„å°† MONGO_INITDB_ROOT_PASSWORD å’Œ MONGO_INITDB_ROOT_USERNAMEä¼ å…¥ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œåœ¨mongo4."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/docs/programmer/database/note-of-db-data-mongodb/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2018-05-15T09:51:09+00:00"><meta property="article:modified_time" content="2018-05-15T09:51:09+00:00"><title>æ•°æ®åº“-MongoDBç¯‡ | Ian's Blog</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.b1eea312146490caf43a9d10c82eb244ae60fc04078a856f5401b67fdd11034c.js integrity="sha256-se6jEhRkkMr0Op0QyC6yRK5g/AQHioVvVAG2f90RA0w=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Ian's Blog</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/programmer/>ç¨‹åºå‘˜ç¬”è®°</a><ul><li><input type=checkbox id=section-d5f99046a51e5e750b61f2e037945fcc class=toggle>
<label for=section-d5f99046a51e5e750b61f2e037945fcc class="flex justify-between"><a role=button>åŸºç¡€å·¥å…·å’Œé…ç½®</a></label><ul><li><a href=/docs/programmer/basetc/%E6%96%87%E6%9C%AC%E4%B8%89%E5%89%91%E5%AE%A2/>æ–‡æœ¬ä¸‰å‰‘å®¢</a></li><li><a href=/docs/programmer/basetc/tmux/>Tmuxä½¿ç”¨ç¬”è®°</a></li><li><a href=/docs/programmer/basetc/obsidian%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E6%8F%92%E4%BB%B6/>Obsidianæ€ç»´å¯¼å›¾æ’ä»¶</a></li><li><a href=/docs/programmer/basetc/for_china/>å„ä¸ªè½¯ä»¶æ¢æº</a></li><li><a href=/docs/programmer/basetc/tipsofvim/>tip Of vim</a></li><li><a href=/docs/programmer/basetc/editer/>ç¼–è¾‘å™¨ä½¿ç”¨</a></li><li><a href=/docs/programmer/basetc/bash/>Bash</a></li><li><a href=/docs/programmer/basetc/gitbook/>Gitbook</a></li><li><a href=/docs/programmer/basetc/vim/>Vim</a></li><li><a href=/docs/programmer/basetc/%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B/>supervisor</a></li></ul></li><li><input type=checkbox id=section-8658298e10b544e890095f646916165a class=toggle>
<label for=section-8658298e10b544e890095f646916165a class="flex justify-between"><a href=/docs/programmer/cloudnative/>äº‘åŸç”Ÿ</a></label><ul><li><input type=checkbox id=section-31d3b02fd4a132635e483e7e756058ea class=toggle>
<label for=section-31d3b02fd4a132635e483e7e756058ea class="flex justify-between"><a href=/docs/programmer/cloudnative/redis/>ä¸­é—´ä»¶</a></label><ul><li><a href=/docs/programmer/cloudnative/redis/python-redis-%E5%AE%A2%E6%88%B7%E7%AB%AF/>Python Redis å®¢æˆ·ç«¯</a></li><li><a href=/docs/programmer/cloudnative/redis/bigkey-and-hotkey/>å¤§keyã€çƒ­keyé—®é¢˜</a></li><li><a href=/docs/programmer/cloudnative/redis/the-basics-of-redis/>RedisåŸºç¡€</a></li><li><a href=/docs/programmer/cloudnative/redis/advanced-knowledge-of-redis/>Redisè¿›é˜¶</a></li><li><a href=/docs/programmer/cloudnative/redis/%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4/>Rediså¸¸ç”¨å‘½ä»¤</a></li></ul></li><li><input type=checkbox id=section-62d608ed890b3abc76dae78ccfcab912 class=toggle>
<label for=section-62d608ed890b3abc76dae78ccfcab912 class="flex justify-between"><a role=button>k8s</a></label><ul><li><a href=/docs/programmer/cloudnative/k8s/elk%E5%9C%A8k8s%E4%B8%8A%E7%9A%84%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/>elkåœ¨k8sä¸Šçš„éƒ¨ç½²ä½¿ç”¨ç¤ºä¾‹</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E9%85%8D%E5%A5%97%E8%AF%B4%E6%98%8E/>k8s é…å¥—è¯´æ˜</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s-%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/>k8sæŠ€æœ¯åˆ†äº«</a></li><li><a href=/docs/programmer/cloudnative/k8s/k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/>k8så­¦ä¹ -å¸¸ç”¨å‘½ä»¤å’Œé…ç½®æ–‡ä»¶</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-workflow%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90/>Argo Workflowæ€§èƒ½æµ‹è¯•å’Œä½¿ç”¨åœºæ™¯åˆ†æ</a></li><li><a href=/docs/programmer/cloudnative/k8s/argo-%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/>Argo ä½¿ç”¨è®°å½•</a></li></ul></li><li><input type=checkbox id=section-b828bf3d116bc282da9db25a06bf908e class=toggle>
<label for=section-b828bf3d116bc282da9db25a06bf908e class="flex justify-between"><a role=button>ä¸­é—´ä»¶</a></label><ul><li><a href=/docs/programmer/cloudnative/middleware/kafka-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/>Kafka å®‰è£…å’Œä½¿ç”¨</a></li></ul></li><li><a href=/docs/programmer/cloudnative/%E5%AE%B9%E5%99%A8/note-of-podman/>Podman</a></li><li><a href=/docs/programmer/cloudnative/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginxå®ç”¨é…ç½®</a></li><li><a href=/docs/programmer/cloudnative/uwsgi-%E5%A4%84%E7%90%86%E8%AE%B0%E5%BD%95/>uwsgi å¤„ç†è®°å½•</a></li><li><a href=/docs/programmer/cloudnative/note-of-docker/>Docker</a></li><li><a href=/docs/programmer/cloudnative/%E5%AE%B9%E5%99%A8/note-of-docker/>Docker</a></li><li><a href=/docs/programmer/cloudnative/fastapi/>Djangoçš„å»ºç«™çš„(ï½¡ï½¥ï½¥)ï¾‰ï¾</a></li><li><a href=/docs/programmer/cloudnative/nginx-%E9%AB%98%E5%8F%AF%E7%94%A8/>Nginxé«˜å¯ç”¨</a></li><li><a href=/docs/programmer/cloudnative/notesdjango/>Djangoçš„å»ºç«™çš„(ï½¡ï½¥ï½¥)ï¾‰ï¾</a></li><li><a href=/docs/programmer/cloudnative/sonar-%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5/>Sonar ä»£ç é™æ€æ£€æŸ¥</a></li></ul></li><li><input type=checkbox id=section-883e27361d38e16afb68faff3435ac0b class=toggle>
<label for=section-883e27361d38e16afb68faff3435ac0b class="flex justify-between"><a role=button>æœºå™¨å­¦ä¹ </a></label><ul><li><a href=/docs/programmer/ml/stable-diffusion/>AIç”»å›¾</a></li><li><a href=/docs/programmer/ml/%E7%88%AC%E8%99%AB/>çˆ¬è™«</a></li><li><a href=/docs/programmer/ml/paddle/>Paddle</a></li><li><a href=/docs/programmer/ml/tensorflow/>Tensorflow</a></li><li><a href=/docs/programmer/ml/opencv/>OpenCV</a></li><li><a href=/docs/programmer/ml/yolo/>Demo Testé¡¹ç›®ä¸­çš„ä¸€äº›ä¸œè¥¿</a></li><li><a href=/docs/programmer/ml/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%B8%B8%E7%94%A8%E5%BA%93%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/>æœºå™¨å­¦ä¹ åº“</a></li></ul></li><li><input type=checkbox id=section-0bf4f4329214e20fa67ca3e12c6aad0c class=toggle>
<label for=section-0bf4f4329214e20fa67ca3e12c6aad0c class="flex justify-between"><a role=button>å¹³å°</a></label><ul><li><a href=/docs/programmer/platforms/ubuntu/>Ubuntu</a></li><li><a href=/docs/programmer/platforms/%E9%98%BF%E9%87%8C%E4%BA%91%E4%BD%BF%E7%94%A8/>é˜¿é‡Œäº‘ä½¿ç”¨</a></li><li><a href=/docs/programmer/platforms/wps-for-linux/>WPS for Linux</a></li><li><a href=/docs/programmer/platforms/appsflyer/>AppsFlyer-å¤–ç½‘ç§»åŠ¨å½’å› è¥é”€åˆ†æå¹³å°</a></li></ul></li><li><input type=checkbox id=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class=toggle>
<label for=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class="flex justify-between"><a href=/docs/programmer/langs/>ç¼–ç¨‹è¯­è¨€</a></label><ul><li><input type=checkbox id=section-771df6c720301e69f1715f7fc174ac3d class=toggle>
<label for=section-771df6c720301e69f1715f7fc174ac3d class="flex justify-between"><a role=button>Python</a></label><ul><li><a href=/docs/programmer/langs/python/sqlalchemy/>SqlAlchemy - æ•°æ®åº“Orm</a></li><li><a href=/docs/programmer/langs/python/pypi/>PyPiä½¿ç”¨è¯´æ˜</a></li><li><a href=/docs/programmer/langs/python/pytest/>PyTest</a></li><li><a href=/docs/programmer/langs/python/paramiko-%E4%BD%BF%E7%94%A8-sshsftp/>Paramiko ä½¿ç”¨ Ssh&amp;sftp</a></li><li><a href=/docs/programmer/langs/python/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%A4%9A%E8%BF%9B%E7%A8%8B/>Python å¤šçº¿ç¨‹å¤šè¿›ç¨‹</a></li><li><a href=/docs/programmer/langs/python/notespython/>Python å¸¸ç”¨åº“</a></li><li><a href=/docs/programmer/langs/python/notespython/>Python ç¬”è®°</a></li><li><a href=/docs/programmer/langs/python/py%E5%B0%8F%E5%B7%A5%E5%85%B7%E5%92%8C%E5%8A%9F%E8%83%BD%E6%80%A7%E6%96%B9%E6%B3%95/>Pyå°å·¥å…·å’ŒåŠŸèƒ½æ€§æ–¹æ³•</a></li><li><a href=/docs/programmer/langs/python/notespython/>è§£å†³é—®é¢˜</a></li></ul></li><li><input type=checkbox id=section-9f8ac8f06e138c7ac13ff61f23b4d497 class=toggle>
<label for=section-9f8ac8f06e138c7ac13ff61f23b4d497 class="flex justify-between"><a role=button>Golang</a></label><ul><li><a href=/docs/programmer/langs/golang/advanced-knowledge-of-golang/>Golangè¿›é˜¶ç¬”è®°</a></li><li><a href=/docs/programmer/langs/golang/noteofgoexp/>Golangè¿›é˜¶ç¬”è®°</a></li><li><a href=/docs/programmer/langs/golang/note-of-golang/>Golangç¬”è®°</a></li><li><a href=/docs/programmer/langs/golang/noteofgolang/>Golangç¬”è®°</a></li></ul></li><li><a href=/docs/programmer/langs/cmake/>CMake ä½¿ç”¨Tips</a></li><li><a href=/docs/programmer/langs/tips-of-debugers/>Tips of debuggers</a></li><li><a href=/docs/programmer/langs/tips-of-markdown/>Tips of MarkDown</a></li><li><a href=/docs/programmer/langs/java/notesjava/>æ„‰å¿«çš„Java(happy to learn the fuck java)</a></li><li><a href=/docs/programmer/langs/note-for-fmtdata/>æ•°æ®æ ¼å¼ç¬”è®°</a></li></ul></li><li><input type=checkbox id=section-de7bfad1d124522974cdf8addfbb23f2 class=toggle>
<label for=section-de7bfad1d124522974cdf8addfbb23f2 class="flex justify-between"><a role=button>Net</a></label><ul><li><a href=/docs/programmer/net/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/>ç½‘ç»œç¼–ç¨‹</a></li><li><a href=/docs/programmer/net/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginxå®ç”¨é…ç½®</a></li><li><a href=/docs/programmer/net/tips-of-grpc/>gRpcä½¿ç”¨å°è®°</a></li><li><a href=/docs/programmer/net/epoll%E5%AE%9E%E7%8E%B0/>Epollå®ç°</a></li></ul></li><li><input type=checkbox id=section-7e5360c5e7954906b897ed79085884b6 class=toggle>
<label for=section-7e5360c5e7954906b897ed79085884b6 class="flex justify-between"><a href=/docs/programmer/gui/>å›¾å½¢ç”¨æˆ·ç•Œé¢-GUI</a></label><ul><li><a href=/docs/programmer/gui/pyinstaller-python%E6%89%93%E5%8C%85/>pythonæ‰“åŒ…</a></li><li><a href=/docs/programmer/gui/qt/>Qt/PySide</a></li><li><a href=/docs/programmer/gui/vn.py%E7%AC%94%E8%AE%B0-%E4%BA%A4%E6%98%93%E5%B9%B3%E5%8F%B0%E5%AE%A2%E6%88%B7%E7%AB%AF/>Vn.Pyå­¦ä¹ ç¬”è®°ï¼ˆPythonäº¤æ˜“å¹³å°æ¡†æ¶ï¼‰</a></li><li><a href=/docs/programmer/gui/notespython/>å›¾å½¢åŒ–ç•Œé¢ ï¼ˆPython Guiï¼‰</a></li></ul></li><li><input type=checkbox id=section-ddcbe632dc99a9fb372422dada8ee641 class=toggle>
<label for=section-ddcbe632dc99a9fb372422dada8ee641 class="flex justify-between"><a role=button>OSæ“ä½œç³»ç»Ÿé—®é¢˜å¤„ç†</a></label><ul><li><a href=/docs/programmer/os/install_some/>å®‰è£…é—®é¢˜</a></li><li><a href=/docs/programmer/os/android/>å®‰å“</a></li><li><a href=/docs/programmer/os/freebsd/>FreeBSD</a></li><li><a href=/docs/programmer/os/note-of-linux/>Linux ç¬”è®°</a></li><li><a href=/docs/programmer/os/npm/>Npm</a></li><li><a href=/docs/programmer/os/git/>Git</a></li><li><a href=/docs/programmer/os/problem-of-windows/>Windows çˆ¬å‘è®°</a></li><li><a href=/docs/programmer/os/tips-of-problems/>è§£å†³é—®é¢˜è®°å½•ç¬”è®°</a></li></ul></li><li><input type=checkbox id=section-4446dd07527142b855f26d7cc8f0e617 class=toggle checked>
<label for=section-4446dd07527142b855f26d7cc8f0e617 class="flex justify-between"><a href=/docs/programmer/database/>Database</a></label><ul><li><a href=/docs/programmer/database/dgraph-graph-db/>Dgraphä½¿ç”¨å°è®°</a></li><li><a href=/docs/programmer/database/note-of-db-data-mongodb/ class=active>æ•°æ®åº“-MongoDBç¯‡</a></li><li><a href=/docs/programmer/database/note-of-db-data-mysql/>æ•°æ®åº“-MySQLç¯‡</a></li></ul></li><li><input type=checkbox id=section-d325c59fc6513e1b1e05a60b192d4973 class=toggle>
<label for=section-d325c59fc6513e1b1e05a60b192d4973 class="flex justify-between"><a href=/docs/programmer/hardware/>ç¡¬ä»¶</a></label><ul><li><a href=/docs/programmer/hardware/raspberrypi/>Raspberry Pi</a></li><li><a href=/docs/programmer/hardware/screen/>Screen</a></li></ul></li></ul></li><li class=book-section-flat><span>å»ºæ¨¡å’Œæ¸¸æˆ</span><ul><li><a href=/docs/3dgame/blender/>Blender</a></li><li><a href=/docs/3dgame/noteofue4/>UE4 ç¬”è®°</a></li></ul></li><li class=book-section-flat><a href=/docs/example/>Hugoç‰¹æ®ŠMarkdownè¯­æ³•è¯´æ˜</a><ul><li><a href=/docs/example/table-of-contents/>Table of Contents</a><ul><li><a href=/docs/example/table-of-contents/with-toc/>With ToC</a></li><li><a href=/docs/example/table-of-contents/without-toc/>Without ToC</a></li></ul></li><li><a href=/docs/example/shortcodes/buttons/>Buttons</a></li><li><a href=/docs/example/shortcodes/columns/>Columns</a></li><li><a href=/docs/example/shortcodes/details/>Details</a></li><li><a href=/docs/example/shortcodes/expand/>Expand</a></li><li><a href=/docs/example/shortcodes/hints/>Hints</a></li><li><a href=/docs/example/shortcodes/tabs/>Tabs</a></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>æ•°æ®åº“-MongoDBç¯‡</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#å®‰è£…>å®‰è£…</a><ul><li><a href=#docker-å®‰è£…-4412ç‰ˆæœ¬>Docker å®‰è£… 4.4.12ç‰ˆæœ¬</a></li></ul></li><li><a href=#æ•°æ®è¿ç§»>æ•°æ®è¿ç§»</a><ul><li><a href=#ä½¿ç”¨-mysqldump>ä½¿ç”¨ <code>mysqldump</code></a></li><li><a href=#font-colorff5000æ³¨æ„äº‹é¡¹font>æ³¨æ„äº‹é¡¹</a></li><li><a href=#æ“ä½œå‘½ä»¤ç®€å•è®°å½•>æ“ä½œå‘½ä»¤ç®€å•è®°å½•</a></li><li><a href=#æ›´æ–°æ·»åŠ æ–‡æ¡£>æ›´æ–°ã€æ·»åŠ æ–‡æ¡£</a></li><li><a href=#å¯¼å…¥csvæ–‡ä»¶>å¯¼å…¥csvæ–‡ä»¶</a></li><li><a href=#å¯¼å‡º>å¯¼å‡º</a></li><li><a href=#æ”¹>æ”¹</a></li><li><a href=#æ’åº>æ’åº</a></li><li><a href=#mongodb-ç´¢å¼•--------font-colorcrimsonå»ºç«‹ç´¢å¼•å¹²å˜›font>MongoDB ç´¢å¼• ï¼ˆå»ºç«‹ç´¢å¼•å¹²å˜›â€¦â€¦ï¼‰</a></li><li><a href=#èšåˆ>èšåˆ</a></li><li><a href=#æ¡ä»¶æ“ä½œç¬¦>æ¡ä»¶æ“ä½œç¬¦</a></li><li><a href=#æ‰§è¡Œé¡ºåº>æ‰§è¡Œé¡ºåº</a></li><li><a href=#æ•°æ®å¯¼å‡º>æ•°æ®å¯¼å‡º</a></li><li><a href=#æ•°æ®å¯¼å…¥>æ•°æ®å¯¼å…¥</a></li><li><a href=#linux-ä¸‹ä½¿ç”¨robo3té”™è¯¯>Linux ä¸‹ä½¿ç”¨Robo3Té”™è¯¯</a></li><li><a href=#for-python>For Python</a></li><li><a href=#æŸ¥è¯¢åº“å>æŸ¥è¯¢åº“å</a></li><li><a href=#æŸ¥è¯¢é›†åˆå>æŸ¥è¯¢é›†åˆå</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=dbæ•°æ®åº“-->DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥
<a class=anchor href=#db%e6%95%b0%e6%8d%ae%e5%ba%93-->#</a></h1><p><img src=https://webassets.mongodb.com/_com_assets/cms/kmxrodmee9int5s1v-HP_Highlight%202.svg alt=db></p><h1 id=mongodbç¬”è®°>MongoDBç¬”è®°
<a class=anchor href=#mongodb%e7%ac%94%e8%ae%b0>#</a></h1><p>å­¦ä¹ ç½‘ç«™ï¼š<a href=http://www.runoob.com/mongodb/mongodb-tutorial.html>http://www.runoob.com/mongodb/mongodb-tutorial.html</a>
(å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)</p><h2 id=å®‰è£…>å®‰è£…
<a class=anchor href=#%e5%ae%89%e8%a3%85>#</a></h2><h3 id=docker-å®‰è£…-4412ç‰ˆæœ¬>Docker å®‰è£… 4.4.12ç‰ˆæœ¬
<a class=anchor href=#docker-%e5%ae%89%e8%a3%85-4412%e7%89%88%e6%9c%ac>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Makefile data-lang=Makefile><span style=display:flex><span><span style=color:#a6e22e>pull</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	docker pull mongo:4.4.13
</span></span><span style=display:flex><span><span style=color:#a6e22e>run</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>Â  Â  <span style=color:#960050;background-color:#1e0010>docker</span> <span style=color:#960050;background-color:#1e0010>run</span> <span style=color:#960050;background-color:#1e0010>-itd</span> <span style=color:#960050;background-color:#1e0010>--name</span> <span style=color:#960050;background-color:#1e0010>mongo</span> --restart<span style=color:#f92672>=</span>always <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>Â  Â  Â  Â  -v /mongodb/datadb:/data/db <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>Â  Â  Â  Â  -p 27017:27017 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>Â  Â  Â  Â  --network websafe-network <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>Â  Â  Â  Â  --privileged<span style=color:#f92672>=</span>true mongo:4.4.12
</span></span></code></pre></div><p>è¿›å…¥å®¹å™¨<code>docker exec -it mongo bash</code>å:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mongo
</span></span><span style=display:flex><span>use admin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;root&#34;, db: &#34;admin&#34;}]})</span>
</span></span><span style=display:flex><span><span style=color:#75715e># db.createUser({user: &#34;admin&#34;, pwd: &#34;admin&#34;, roles: [{role: &#34;userAdminAnyDatabase&#34;, db: &#34;admin&#34;}]})</span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¦‚æœèƒ½authå°±ä¸ç”¨createUseräº†</span>
</span></span><span style=display:flex><span>db.auth<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span>, <span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>)</span>
</span></span></code></pre></div><p>ç½‘ä¸Šä¼ çš„å°† <code>MONGO_INITDB_ROOT_PASSWORD</code> å’Œ <code>MONGO_INITDB_ROOT_USERNAME</code>ä¼ å…¥ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œåœ¨mongo4.4.12 å’Œ 4.4.13ä¸Šéƒ½ä¸å¥½ä½¿ã€‚</p><h2 id=æ•°æ®è¿ç§»>æ•°æ®è¿ç§»
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e8%bf%81%e7%a7%bb>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> device_data_current <span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> device_data;
</span></span></code></pre></div><h3 id=ä½¿ç”¨-mysqldump>ä½¿ç”¨ <code>mysqldump</code>
<a class=anchor href=#%e4%bd%bf%e7%94%a8-mysqldump>#</a></h3><blockquote><p>å¾ˆæ…¢ å¾ˆå¤§ å¾ˆæ–¹ä¾¿
å¾ˆï¼ä¸å¥½ï¼ä½¿ç”¨ï¼åœ¨ä½¿ç”¨&ndash;hostæ—¶ ä¸‹é¢å‘½ä»¤æ²¡ä¸€æ¬¡æ­£å¸¸å·¥ä½œçš„ï¼Œå¾ˆéš¾å—</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mysqldump -h192.168.0.25 -u<span style=color:#f92672>{</span>user<span style=color:#f92672>}</span> -p<span style=color:#f92672>{</span>passwd<span style=color:#f92672>}</span> <span style=color:#f92672>{</span>dbname<span style=color:#f92672>}</span> <span style=color:#f92672>{</span>tablename<span style=color:#f92672>}</span> &gt; <span style=color:#f92672>{</span>tablename<span style=color:#f92672>}</span>.sql
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s/{tablename}/{new_tablename}/g&#39;</span> <span style=color:#f92672>{</span>tablename<span style=color:#f92672>}</span>.sql
</span></span><span style=display:flex><span>mysql -u<span style=color:#f92672>{</span>user<span style=color:#f92672>}</span> -p<span style=color:#f92672>{</span>passwd<span style=color:#f92672>}</span> <span style=color:#f92672>{</span>dbname<span style=color:#f92672>}</span> &lt; <span style=color:#f92672>{</span>table<span style=color:#f92672>}</span>.sql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¢åŠ æ¡æ•°é™åˆ¶</span>
</span></span><span style=display:flex><span>bash-4.2# mysqldump -u<span style=color:#f92672>{</span>user<span style=color:#f92672>}</span> -p<span style=color:#f92672>{</span>passwd<span style=color:#f92672>}</span> test demo --host <span style=color:#f92672>{</span>host<span style=color:#f92672>}</span> --where<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;true limit 5000&#34;</span> &gt; demo.sql
</span></span></code></pre></div><p>è¿˜æ˜¯ç”¨è‡ªå·±å†™çš„è„šæœ¬å¥½ä½¿ <a href=https://github.com/IanVzs/fastapi_on_docker/blob/crud/app/scripts/sql_one2one.py>sql_one2one.py</a></p><h3 id=font-colorff5000æ³¨æ„äº‹é¡¹font>æ³¨æ„äº‹é¡¹
<a class=anchor href=#font-colorff5000%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9font>#</a></h3><h4 id=mongo-æ•°æ®åº“é”>Mongo æ•°æ®åº“é”
<a class=anchor href=#mongo-%e6%95%b0%e6%8d%ae%e5%ba%93%e9%94%81>#</a></h4><p>mongoåªæä¾›åº“çº§ç²’åº¦é”ï¼Œæ‰€ä»¥ä¸€ä¸ªå†™æ“ä½œé”å®šæ—¶ï¼Œå…¶ä»–è¯»å†™æ“ä½œéƒ½ç­‰å¾…â€¦ æ‰€ä»¥è¿™ä¸ªå¯¼è‡´äº†Mongoå¤šçº¿ç¨‹å†™æ“ä½œåè€Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å†™æ¥çš„å¿«ï¼Ÿ</p><p>å‰å°å»ºç«‹ç´¢å¼•æ—¶ï¼Œ<code>Mongo</code>éœ€å ç”¨ä¸€ä¸ªå†™é”ï¼ˆä¸”ä¸åŒä¸Šè¿°ã€ä¸ä¼šä¸´æ—¶æ”¾å¼ƒï¼‰ ä¸ºé¿å…æ­¤é—®é¢˜éœ€é‡‡ç”¨<code>background</code>æ–¹å¼</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span>    db<span style=color:#f92672>.</span>posts<span style=color:#f92672>.</span>ensureIndex({<span style=color:#e6db74>user_id</span>: <span style=color:#ae81ff>1</span>})  <span style=color:#75715e>#æ­¤æ–¹å¼å°†å¼•èµ·å…¨é¢æˆ˜äº‰</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>posts<span style=color:#f92672>.</span>ensureIndex({<span style=color:#e6db74>user_id</span>: <span style=color:#ae81ff>1</span>}<span style=color:#960050;background-color:#1e0010>ï¼Œ</span> {<span style=color:#e6db74>background</span>: <span style=color:#ae81ff>1</span>}) <span style=color:#75715e># è¿™ä¸ªå°±æ¯”è¾ƒå’Œå¹³</span>
</span></span></code></pre></div><h3 id=æ“ä½œå‘½ä»¤ç®€å•è®°å½•>æ“ä½œå‘½ä»¤ç®€å•è®°å½•
<a class=anchor href=#%e6%93%8d%e4%bd%9c%e5%91%bd%e4%bb%a4%e7%ae%80%e5%8d%95%e8%ae%b0%e5%bd%95>#</a></h3><h4 id=åˆ›å»ºæ’å…¥>åˆ›å»ºã€æ’å…¥
<a class=anchor href=#%e5%88%9b%e5%bb%ba%e6%8f%92%e5%85%a5>#</a></h4><pre><code>use DATABASE_NAME   #å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ï¼Œå¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ã€‚
show dbs        #æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“â€œname    sizeâ€
</code></pre><p>åˆšåˆ›å»ºçš„æ•°æ®åº“ï¼Œå¦‚æ²¡æœ‰å†…å®¹åˆ™ä¸ç°å®åœ¨å…¶ä¸­</p><pre><code>db.runoob.insert({&quot;name&quot;:&quot;æ•™ç¨‹&quot;})       #æ’å…¥æ•°æ®
</code></pre><h4 id=åˆ é™¤>åˆ é™¤
<a class=anchor href=#%e5%88%a0%e9%99%a4>#</a></h4><pre><code>db.dropDatabase()       #åˆ é™¤å½“å‰æ•°æ®åº“ï¼Œå¦‚æœªé€‰æ‹©åˆ™åˆ é™¤test
db.collection.drop()        #åˆ é™¤é›†åˆ
db.site.drop()          #ï¼šå¦‚åˆ é™¤siteé›†åˆ
</code></pre><h5 id=åˆ é™¤é‡å¤æ•°æ®>åˆ é™¤é‡å¤æ•°æ®
<a class=anchor href=#%e5%88%a0%e9%99%a4%e9%87%8d%e5%a4%8d%e6%95%b0%e6%8d%ae>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>    <span style=color:#66d9ef>delete</span> <span style=color:#66d9ef>from</span> alarm_calendar <span style=color:#66d9ef>where</span> id <span style=color:#66d9ef>not</span> <span style=color:#66d9ef>in</span> (<span style=color:#66d9ef>SELECT</span> maxid <span style=color:#66d9ef>from</span> (<span style=color:#66d9ef>SELECT</span> <span style=color:#a6e22e>MAX</span>(id) <span style=color:#66d9ef>as</span> maxid, 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>CONCAT</span>(user_id,<span style=color:#66d9ef>time</span>,generic_name) <span style=color:#66d9ef>as</span> nameAndCode <span style=color:#66d9ef>from</span> alarm_calendar <span style=color:#66d9ef>GROUP</span> <span style=color:#66d9ef>BY</span> nameAndCode) t);
</span></span></code></pre></div><p>æ ¹æ®<code>user_id</code>, <code>time</code>, <code>generic_name</code>æ¥æ‰“åŒ…é‡å¤ï¼Œå°†é‡å¤æ•°æ®åˆ æ‰, ç•™ä¸‹<code>max</code>ï¼Œåœ¨è‡ªå¢é‡Œé¢å³ï¼šæœ€æ–°æ•°æ®</p><h4 id=æ’å…¥æ–‡æ¡£>æ’å…¥æ–‡æ¡£
<a class=anchor href=#%e6%8f%92%e5%85%a5%e6%96%87%e6%a1%a3>#</a></h4><pre><code>db.COLLECTION_NAME.insert(document)
</code></pre><hr><pre><code>db.col.insert({title: 'MongoDB æ•™ç¨‹', 
    description: 'MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“',
    by: 'èœé¸Ÿæ•™ç¨‹',     
    url: 'http://www.runoob.com',       
    tags: ['mongodb', 'database', 'NoSQL'], 
    likes: 100
    })      # ä¾‹å¦‚è¿™æ ·
</code></pre><p>db.col.find() # æŸ¥çœ‹å·²æ’å…¥æ–‡æ¡£</p><p>ä¹Ÿå¯ä»¥å°†document=æ‹¬å·é‡Œè¦æ’å…¥å†…å®¹ï¼Œç„¶åæ’å…¥documentå˜é‡ï¼Œæ•ˆæœä¸€æ ·ã€‚</p><h5 id=32ç‰ˆæœ¬æ–°åŠ >3.2ç‰ˆæœ¬æ–°åŠ 
<a class=anchor href=#32%e7%89%88%e6%9c%ac%e6%96%b0%e5%8a%a0>#</a></h5><pre><code>db.collection.insertOne()       #å‘æŒ‡å®šé›†åˆä¸­æ’å…¥ä¸€æ¡æ–‡æ¡£æ•°æ®
db.collection.insertMany()  #å‘æŒ‡å®šé›†åˆä¸­æ’å…¥å¤šæ¡æ–‡æ¡£æ•°æ®
</code></pre><hr><pre><code>æ’å…¥å•æ¡æ•°æ®
var document = db.collection.insertOne({&quot;a&quot;: 3})
</code></pre><blockquote><p>document
{
&ldquo;acknowledged&rdquo; : true,
&ldquo;insertedId&rdquo; : ObjectId(&ldquo;571a218011a82a1d94c02333&rdquo;)
}</p></blockquote><pre><code>æ’å…¥å¤šæ¡æ•°æ®    
var res = db.collection.insertMany([{&quot;b&quot;: 3}, {'c': 4}])
</code></pre><blockquote><p>res
{
&ldquo;acknowledged&rdquo; : true,
&ldquo;insertedIds&rdquo; : [
ObjectId(&ldquo;571a22a911a82a1d94c02337&rdquo;),
ObjectId(&ldquo;571a22a911a82a1d94c02338&rdquo;)
]
}</p></blockquote><h3 id=æ›´æ–°æ·»åŠ æ–‡æ¡£>æ›´æ–°ã€æ·»åŠ æ–‡æ¡£
<a class=anchor href=#%e6%9b%b4%e6%96%b0%e6%b7%bb%e5%8a%a0%e6%96%87%e6%a1%a3>#</a></h3><pre><code>db.col.update({'title':'MongoDB æ•™ç¨‹'},{$set:{'title':'MongoDB'}})      
#æ›´æ–°æ ‡é¢˜

db.collection.save(     
#é€šè¿‡ä¼ å…¥çš„æ–‡æ¡£æ¥æ›¿æ¢å·²æœ‰æ–‡æ¡£
&lt;document&gt;,
{
writeConcern: &lt;document&gt;
})
</code></pre><blockquote><p>å‚æ•°è¯´æ˜ï¼š
document : æ–‡æ¡£æ•°æ®ã€‚
writeConcern : å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚</p></blockquote><p>egï¼š å®ä¾‹ä¸­æ›¿æ¢äº† _id ä¸º 56064f89ade2f21f36b03136 çš„æ–‡æ¡£æ•°æ®ï¼š</p><pre><code>db.col.save({
&quot;_id&quot; : ObjectId(&quot;56064f89ade2f21f36b03136&quot;),
&quot;title&quot; : &quot;MongoDB&quot;,
&quot;description&quot; : &quot;MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“&quot;,
&quot;by&quot; : &quot;Runoob&quot;,
&quot;url&quot; : &quot;http://www.runoob.com&quot;,
&quot;tags&quot; : [
    &quot;mongodb&quot;,
    &quot;NoSQL&quot;
],
&quot;likes&quot; : 110
</code></pre><p>})</p><h3 id=å¯¼å…¥csvæ–‡ä»¶>å¯¼å…¥csvæ–‡ä»¶
<a class=anchor href=#%e5%af%bc%e5%85%a5csv%e6%96%87%e4%bb%b6>#</a></h3><pre><code>mongoimport --db Trader_1Min_Db --collection Au(T+D) --type csv --file 
D:\\IFData\\md_Au(T+D)_20170101_20170531\\md_Au(T+D)_2017010301.csv 
--headerline --upsert --ignoreBlanks
</code></pre><blockquote><p>æ³¨æ„éœ€è¦å¦å¼€ä¸€ä¸ªå‘½ä»¤è¡Œï¼Œåœ¨å…¶ä¸­è¿è¡Œã€‚
2017-10-25T08:43:40.917+0800 E QUERY [thread1] SyntaxError: missing ; before statement @(shell):1:16 å¦åˆ™å°±æ˜¯è¿™ä¸ªé”™è¯¯</p></blockquote><pre><code>-d    æŒ‡å®šæŠŠæ•°æ®å¯¼å…¥åˆ°å“ªä¸€ä¸ªæ•°æ®åº“ä¸­
-c    æŒ‡å®šæŠŠæ•°æ®å¯¼å…¥åˆ°å“ªä¸€ä¸ªé›†åˆä¸­
--type    æŒ‡å®šå¯¼å…¥çš„æ•°æ®ç±»å‹   csv/tsv  é€—å·æˆ–è€…tabåˆ†å‰²å€¼
--file       æŒ‡å®šä»å“ªä¸€ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®
--headerline    ä»…é€‚ç”¨äºå¯¼å…¥csv,tsvæ ¼å¼çš„æ•°æ®ï¼Œè¡¨ç¤ºæ–‡ä»¶ä¸­çš„ç¬¬ä¸€è¡Œä½œä¸ºæ•°æ®å¤´
--upsert  ä»¥æ–°å¢æˆ–è€…æ›´æ–°çš„æ–¹å¼æ¥å¯¼å…¥æ•°æ®
--f  å¯¼å…¥å­—æ®µå
--ignoreBlanks å¿½ç•¥ç©ºç™½ç¬¦
</code></pre><h3 id=å¯¼å‡º>å¯¼å‡º
<a class=anchor href=#%e5%af%bc%e5%87%ba>#</a></h3><pre><code>mongoexport -d test -c students -o students.dat 
connected to: 127.0.0.1 exported 9 records
# æŒ‡æ˜å¯¼å‡ºæ ¼å¼ä¸ºcsv
mongoexport -d test -c students --csv -f classid,name,age -o students_csv.dat 
connected to: 127.0.0.1 exported 9 records   
</code></pre><h4 id=æ·»åŠ >æ·»åŠ 
<a class=anchor href=#%e6%b7%bb%e5%8a%a0>#</a></h4><pre><code>db.collectionName.update({}, {$set:{'key' : value}}, false, true);
</code></pre><h3 id=æ”¹>æ”¹
<a class=anchor href=#%e6%94%b9>#</a></h3><pre><code>.update
</code></pre><h4 id=æ›´æ”¹å­—æ®µåç§°>æ›´æ”¹å­—æ®µåç§°
<a class=anchor href=#%e6%9b%b4%e6%94%b9%e5%ad%97%e6%ae%b5%e5%90%8d%e7%a7%b0>#</a></h4><pre><code>db.CollectionName.update({}, {$rename : {&quot;OldName&quot; : &quot;NewName&quot;}}, false, true)
# falseä¸ºå¦‚ä¸å­˜åœ¨updateè®°å½•ï¼Œæ˜¯å¦æ’å…¥æ–°çš„çºªå½•  
# tureä½ç½®ä¸ºæ›´æ–°å…¨éƒ¨æ•°æ®ï¼Œå¦‚è®¾å®šfalse åˆ™ä¸ºåªæ›´æ–°ç¬¬ä¸€æ¡
# å¦å¤– æ²¡æœ‰è¾“å…¥åç§°æ—¶æ²¡æœ‰è¾“å…¨ï¼Œä¹Ÿä¼šæ˜¾ç¤ºæŸ¥æ‰¾ï¼Œä½†ä¸ä¼šæ‰§è¡Œæ›´æ”¹
</code></pre><h4 id=ç»Ÿé…>ç»Ÿé…
<a class=anchor href=#%e7%bb%9f%e9%85%8d>#</a></h4><pre><code>db.CollectionName.update(&lt;query&gt;, &lt;update&gt;,{upsert : &lt;boolean&gt;, multi : &lt;boolean&gt;, 
writeConcern : &lt;document&gt;})
# query : update æŸ¥æ‰¾æ¡ä»¶ï¼Œç±»ä¼¼sql updateæŸ¥è¯¢å†…whereåé¢çš„
# update : updateçš„å¯¹è±¡å’Œä¸€äº›æ›´æ–°çš„æ“ä½œç¬¦ï¼ˆå¦‚$,$inc...ï¼‰ç­‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºsql updateæŸ¥
#&gt;è¯¢å†…setåé¢çš„
# upsert : å¯é€‰ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯ï¼Œå¦‚æœä¸å­˜åœ¨updateçš„è®°å½•ï¼Œæ˜¯å¦æ’å…¥objNew,trueä¸ºæ’
#&gt;å…¥ï¼Œé»˜è®¤æ˜¯falseï¼Œä¸æ’å…¥ã€‚
# multi : å¯é€‰ï¼Œmongodb é»˜è®¤æ˜¯false,åªæ›´æ–°æ‰¾åˆ°çš„ç¬¬ä¸€æ¡è®°å½•ï¼Œå¦‚æœè¿™ä¸ªå‚æ•°ä¸ºtrue,å°±æŠŠ
#&gt;æŒ‰æ¡ä»¶æŸ¥å‡ºæ¥å¤šæ¡è®°å½•å…¨éƒ¨æ›´æ–°ã€‚
# writeConcern :å¯é€‰ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚
</code></pre><h5 id=eg>eg
<a class=anchor href=#eg>#</a></h5><pre><code>db.col.update({'title':'MongoDB'},{$set:{'title':'IamNewTitle'}})
</code></pre><h4 id=åˆ é™¤æ–‡æ¡£>åˆ é™¤æ–‡æ¡£
<a class=anchor href=#%e5%88%a0%e9%99%a4%e6%96%87%e6%a1%a3>#</a></h4><p>remove()å‡½æ•°æ˜¯ç”¨æ¥ç§»é™¤é›†åˆä¸­çš„æ•°æ®ã€‚</p><pre><code>db.collection.remove(
&lt;query&gt;,
&lt;justOne&gt;
)
</code></pre><h5 id=26ç‰ˆä»¥å>2.6ç‰ˆä»¥å
<a class=anchor href=#26%e7%89%88%e4%bb%a5%e5%90%8e>#</a></h5><pre><code>db.collection.remove(
&lt;query&gt;,
{
justOne: &lt;boolean&gt;,
writeConcern: &lt;document&gt;
})
</code></pre><blockquote><p>å‚æ•°è¯´æ˜ï¼š
query :ï¼ˆå¯é€‰ï¼‰åˆ é™¤çš„æ–‡æ¡£çš„æ¡ä»¶ã€‚
justOne : ï¼ˆå¯é€‰ï¼‰å¦‚æœè®¾ä¸º true æˆ– 1ï¼Œåˆ™åªåˆ é™¤ä¸€ä¸ªæ–‡æ¡£ã€‚
writeConcern :ï¼ˆå¯é€‰ï¼‰æŠ›å‡ºå¼‚å¸¸çš„çº§åˆ«ã€‚</p></blockquote><pre><code>db.col.remove({})   #åˆ é™¤æ‰€æœ‰ (å°±å¾ˆææ€–)
</code></pre><h4 id=æŸ¥è¯¢æ–‡æ¡£>æŸ¥è¯¢æ–‡æ¡£
<a class=anchor href=#%e6%9f%a5%e8%af%a2%e6%96%87%e6%a1%a3>#</a></h4><table><thead><tr><th style=text-align:left>æ“ä½œ</th><th style=text-align:center>æ ¼å¼</th><th style=text-align:center>èŒƒä¾‹</th><th style=text-align:right>RDBMSä¸­çš„ç±»ä¼¼è¯­å¥</th></tr></thead><tbody><tr><td style=text-align:left>ç­‰äº</td><td style=text-align:center>{<code>&lt;key>:&lt;value></code>}</td><td style=text-align:center><code>db.col.find({"by":"æ•™ç¨‹"}).pretty()</code></td><td style=text-align:right><code>where by = 'æ•™ç¨‹'</code></td></tr><tr><td style=text-align:left>å°äº</td><td style=text-align:center>{<code>&lt;key>:{$lt:&lt;value></code>}}</td><td style=text-align:center><code>db.col.find({"likes":{$lt:50}}).pretty()</code></td><td style=text-align:right><code>where likes &lt; 50</code></td></tr><tr><td style=text-align:left>å°äºæˆ–ç­‰äº</td><td style=text-align:center>{<code>&lt;key>:{$lte:&lt;value></code>}}</td><td style=text-align:center><code>db.col.find({"likes":{$lte:50}}).pretty()</code></td><td style=text-align:right>&mldr;</td></tr><tr><td style=text-align:left>å¤§äº</td><td style=text-align:center>{<code>&lt;key>:{$gt:&lt;value></code>}}</td><td style=text-align:center><code>db.col.find({"likes":{$gt:50}}).pretty()</code></td><td style=text-align:right>&mldr;</td></tr><tr><td style=text-align:left>å¤§äºæˆ–ç­‰äº</td><td style=text-align:center>{<code>&lt;key>:{$gte:&lt;value></code>}}</td><td style=text-align:center><code>db.col.find({"likes":{$gte:50}}).pretty()</code></td><td style=text-align:right>&mldr;</td></tr><tr><td style=text-align:left>ä¸ç­‰äº</td><td style=text-align:center>{<code>&lt;key>:{$ne:&lt;value></code>}}</td><td style=text-align:center><code>db.col.find({"likes":{$ne:50}}).pretty()</code></td><td style=text-align:right><code>where likes != 50</code></td></tr></tbody></table><h5 id=and>And
<a class=anchor href=#and>#</a></h5><p>findå¯ä»¥ä¼ å…¥å¤šä¸ªé”®(key),é€—å·éš”å¼€ï¼š</p><pre><code>db.col.find({key1:value1, key2:value2}).pretty()
db.col.find({&quot;by&quot;:&quot;æ•™ç¨‹&quot;, &quot;title&quot;:&quot;MongoDB &quot;}).pretty()
#ç±»ä¼¼äº
WHERE by='æ•™ç¨‹' AND title='MongoDB '
</code></pre><h5 id=or>Or
<a class=anchor href=#or>#</a></h5><pre><code>db.test.find({$[{key1:value1},(key2:value2)]}).pretty()     #æ³¨æ„å°ä¸­å¤§æ‹¬å·ğŸ˜°
db.col.find({&quot;likes&quot;: {$gt:50}, $or: [{&quot;by&quot;: &quot;æ•™ç¨‹&quot;},{&quot;title&quot;: &quot;MongoDB &quot;}]})
</code></pre><h5 id=and-ä¸-or>And ä¸ Or
<a class=anchor href=#and-%e4%b8%8e-or>#</a></h5><pre><code>db.col.find({&quot;likes&quot;: {$gt:50}, $or: [{&quot;by&quot;: &quot;æ•™ç¨‹&quot;},{&quot;title&quot;: &quot;MongoDB &quot;}]})
#ç±»ä¼¼äºï¼ˆå…¶ä¸­pretty()æ˜¯æ˜¾ç¤ºæ ·å¼ï¼‰
where likes&gt;50 AND (by = 'æ•™ç¨‹' OR title = 'MongoDB â€˜
</code></pre><h4 id=ç®€å†™è¯´æ˜>ç®€å†™è¯´æ˜
<a class=anchor href=#%e7%ae%80%e5%86%99%e8%af%b4%e6%98%8e>#</a></h4><table><thead><tr><th style=text-align:left></th><th style=text-align:center></th><th style=text-align:center></th><th style=text-align:right></th></tr></thead><tbody><tr><td style=text-align:left>$gt</td><td style=text-align:center>&mdash;&mdash;&ndash;</td><td style=text-align:center>greater than</td><td style=text-align:right>></td></tr><tr><td style=text-align:left>$gte</td><td style=text-align:center>&mdash;&mdash;&mdash;</td><td style=text-align:center>gt equal</td><td style=text-align:right>>=</td></tr><tr><td style=text-align:left>$lt</td><td style=text-align:center>&mdash;&mdash;&ndash;</td><td style=text-align:center>less than</td><td style=text-align:right>&lt;</td></tr><tr><td style=text-align:left>$lte</td><td style=text-align:center>&mdash;&mdash;&mdash;</td><td style=text-align:center>lt equal</td><td style=text-align:right>&lt;=</td></tr><tr><td style=text-align:left>$ne</td><td style=text-align:center>&mdash;&mdash;&mdash;&ndash;</td><td style=text-align:center>not equal</td><td style=text-align:right>!=</td></tr><tr><td style=text-align:left>$eq</td><td style=text-align:center>&mdash;&mdash;&ndash;</td><td style=text-align:center>equal</td><td style=text-align:right>=</td></tr></tbody></table><h5 id=type>Type
<a class=anchor href=#type>#</a></h5><pre><code>db.col.find({&quot;title&quot; : {$type : 2}})    #è·å–â€œcolâ€é›†åˆä¸­titleä¸ºStringçš„æ•°æ®
</code></pre><p><strong>å¯¹ç…§è¡¨ï¼š</strong></p><table><thead><tr><th style=text-align:left>ç±»å‹</th><th style=text-align:center>æ•°å­—</th><th style=text-align:right>å¤‡æ³¨</th></tr></thead><tbody><tr><td style=text-align:left>Double</td><td style=text-align:center>1</td><td style=text-align:right></td></tr><tr><td style=text-align:left>String</td><td style=text-align:center>2</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Object</td><td style=text-align:center>3</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Array</td><td style=text-align:center>4</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Binary data</td><td style=text-align:center>5</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Undefined</td><td style=text-align:center>6</td><td style=text-align:right>å·²åºŸå¼ƒã€‚</td></tr><tr><td style=text-align:left>Object id</td><td style=text-align:center>7</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Boolean</td><td style=text-align:center>8</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Date</td><td style=text-align:center>9</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Null</td><td style=text-align:center>10</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Regular Expression</td><td style=text-align:center>11</td><td style=text-align:right></td></tr><tr><td style=text-align:left>JavaScript</td><td style=text-align:center>13</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Symbol</td><td style=text-align:center>14</td><td style=text-align:right></td></tr><tr><td style=text-align:left>JavaScript (with scope)</td><td style=text-align:center>15</td><td style=text-align:right></td></tr><tr><td style=text-align:left>32-bit integer</td><td style=text-align:center>16</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Timestamp</td><td style=text-align:center>17</td><td style=text-align:right></td></tr><tr><td style=text-align:left>64-bit integer</td><td style=text-align:center>18</td><td style=text-align:right></td></tr><tr><td style=text-align:left>Min key</td><td style=text-align:center>255</td><td style=text-align:right>Query with -1.</td></tr><tr><td style=text-align:left>Max key</td><td style=text-align:center>127</td><td style=text-align:right></td></tr></tbody></table><h5 id=limit-skipæ–¹æ³•>Limit() Skip()æ–¹æ³•
<a class=anchor href=#limit-skip%e6%96%b9%e6%b3%95>#</a></h5><pre><code>db.col.find({},{&quot;title&quot;:1,_id:0}).limit(2)
</code></pre><blockquote><p>å‚æ•°è¯´æ˜ï¼š
â€œtitleâ€å1ä¸ºåˆ¤æ–­è¯­å¥ï¼Œè¡¨ç¤ºæ˜¯å¦åªæŸ¥è¯¢â€œtitleâ€å†…å®¹0ä¸ºå¦ï¼Œæ˜¾ç¤ºè¿™æ¡çš„å…¨éƒ¨ä¿¡æ¯ã€‚_idçš„0äº¦ä¸ºåˆ¤æ–­è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºâ€œ_idâ€å†…å®¹ã€‚limitä¸ºé™åˆ¶æœç´¢ä¿¡æ¯æ¡æ•°ã€‚</p></blockquote><pre><code>db.col.find({},{&quot;title&quot;:1,_id:0}).limit(1).skip(1)
skip(NUMBER)        #NUMBERä¸ºé˜¶è·ƒï¼Œå³æ¯éš”å‡ æ¡æ•°æ®æ¥æœç´¢
</code></pre><h3 id=æ’åº>æ’åº
<a class=anchor href=#%e6%8e%92%e5%ba%8f>#</a></h3><pre><code>db.COLLECTION_NAME.find().sort({KEY:1})     #KEYåæ•°å­—å¯ä¸º1OR-1ï¼Œå‡åºORé™åº
db.col.find({},{&quot;title&quot;:1,_id:0}).sort({&quot;likes&quot;:-1}     #æŒ‰â€œlikesâ€é™åºæ’åº
</code></pre><hr><hr><h3 id=mongodb-ç´¢å¼•--------font-colorcrimsonå»ºç«‹ç´¢å¼•å¹²å˜›font>MongoDB ç´¢å¼• ï¼ˆå»ºç«‹ç´¢å¼•å¹²å˜›â€¦â€¦ï¼‰
<a class=anchor href=#mongodb-%e7%b4%a2%e5%bc%95--------font-colorcrimson%e5%bb%ba%e7%ab%8b%e7%b4%a2%e5%bc%95%e5%b9%b2%e5%98%9bfont>#</a></h3><h4 id=ensureindex-æ–¹æ³•>ensureIndex() æ–¹æ³•
<a class=anchor href=#ensureindex-%e6%96%b9%e6%b3%95>#</a></h4><pre><code>db.COLLECTION_NAME.ensureIndex({KEY:1})
# Key å€¼ä¸ºè¦åˆ›å»ºçš„ç´¢å¼•å­—æ®µï¼Œ1ä¸ºæŒ‡å®šæŒ‰å‡åºåˆ›å»ºç´¢å¼•ï¼Œé™åº-1
</code></pre><h3 id=èšåˆ>èšåˆ
<a class=anchor href=#%e8%81%9a%e5%90%88>#</a></h3><h4 id=aggregateæ–¹æ³•>aggregate()æ–¹æ³•
<a class=anchor href=#aggregate%e6%96%b9%e6%b3%95>#</a></h4><pre><code>db.COLLECTION_NAME.aggregate(AGGREGATE_OPERATION)
db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_tutorial : {$sum : 1}}}])
#ç±»ä¼¼äº
select by_user, count(*) from mycol group by by_user
</code></pre><blockquote><p>è¾“å‡ºç»“æœï¼š
{ &ldquo;_id&rdquo; : &ldquo;Neo4j&rdquo;, &ldquo;num_tutorial&rdquo; : 1 }
{ &ldquo;_id&rdquo; : &ldquo;runoob.com&rdquo;, &ldquo;num_tutorial&rdquo; : 2 }
{ &ldquo;_id&rdquo; : null, &ldquo;num_tutorial&rdquo; : 1 }</p></blockquote><blockquote><p>å‚æ•°è¯´æ˜ï¼šâ€œ$by_userâ€ å³ä¸ºåˆ†ç±»ä¾æ®ï¼Œå¹¶æ‰“å°å‡ºæ¥ï¼ˆå¦‚ä¸Šï¼‰ã€‚
num_tutorial ä»…ä¸ºæ˜¾ç¤ºæç¤ºï¼Œå¯ä»¥æ›´æ”¹ä¸ºä»»æ„æç¤ºç”šè‡³æ±‰å­—ã€‚
$sum : 1 å…¶ä¸­1ä¸ºæ¯æ¬¡è®¡æ•°å€¼ï¼Œå³é‡å¤ä¸€æ¬¡åŠ å‡ ã€‚1+1+1+1â€¦â€¦ ï¼šé‡å¤ä¸€æ¬¡åŠ 1ï¼›0.1+0.1+0.1â€¦â€¦é‡å¤ä¸€æ¬¡åŠ 0.1ã€‚è¿™ä¸ªæ„æ€</p></blockquote><h5 id=è®¡ç®—ç¬¦>è®¡ç®—ç¬¦ï¼š
<a class=anchor href=#%e8%ae%a1%e7%ae%97%e7%ac%a6>#</a></h5><table><thead><tr><th style=text-align:left>è¡¨è¾¾å¼</th><th style=text-align:center>æè¿°</th><th style=text-align:center>å®ä¾‹</th></tr></thead><tbody><tr><td style=text-align:left>$sum</td><td style=text-align:center>è®¡ç®—æ€»å’Œã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", num_tutorial : {$sum : "$likes"}}}])</code></td></tr><tr><td style=text-align:left>$avg</td><td style=text-align:center>è®¡ç®—å¹³å‡å€¼</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", num_tutorial : {$avg : "$likes"}}}])</code></td></tr><tr><td style=text-align:left>$min</td><td style=text-align:center>è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å°å€¼ã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", num_tutorial : {$min : "$likes"}}}])</code></td></tr><tr><td style=text-align:left>$max</td><td style=text-align:center>è·å–é›†åˆä¸­æ‰€æœ‰æ–‡æ¡£å¯¹åº”å€¼å¾—æœ€å¤§å€¼ã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", num_tutorial : {$max : "$likes"}}}])</code></td></tr><tr><td style=text-align:left>$push</td><td style=text-align:center>åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", url : {$push: "$url"}}}])</code></td></tr><tr><td style=text-align:left>$addToSet</td><td style=text-align:center>åœ¨ç»“æœæ–‡æ¡£ä¸­æ’å…¥å€¼åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½†ä¸åˆ›å»ºå‰¯æœ¬ã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", url : {$addToSet : "$url"}}}])</code></td></tr><tr><td style=text-align:left>$first</td><td style=text-align:center>æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–ç¬¬ä¸€ä¸ªæ–‡æ¡£æ•°æ®ã€‚</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", first_url : {$first : "$url"}}}])</code></td></tr><tr><td style=text-align:left>$last</td><td style=text-align:center>æ ¹æ®èµ„æºæ–‡æ¡£çš„æ’åºè·å–æœ€åä¸€ä¸ªæ–‡æ¡£æ•°æ®</td><td style=text-align:center><code>db.mycol.aggregate([{$group : {_id : "$by_user", last_url : {$last : "$url"}}}])</code></td></tr></tbody></table><h3 id=æ¡ä»¶æ“ä½œç¬¦>æ¡ä»¶æ“ä½œç¬¦
<a class=anchor href=#%e6%9d%a1%e4%bb%b6%e6%93%8d%e4%bd%9c%e7%ac%a6>#</a></h3><pre><code>$gt     å¤§äº
$lt     å°äº
$gte        å¤§äºç­‰äº
$lte        å°äºç­‰äº
</code></pre><h4 id=eg-1>egï¼š
<a class=anchor href=#eg-1>#</a></h4><pre><code>db.col.find({likes : {$gte : 100}})
# æŸ¥è¯¢â€œcolâ€é›†åˆä¸­&quot;likes&quot;å¤§äº100çš„æ•°æ®
# æ¯”è¾ƒä¸ `SQL       Select * from col where likes &gt;=100;`
</code></pre><h4 id=å–å‰næ¡æ•°æ®>å–å‰næ¡æ•°æ®
<a class=anchor href=#%e5%8f%96%e5%89%8dn%e6%9d%a1%e6%95%b0%e6%8d%ae>#</a></h4><pre><code>.find().limit(n)
</code></pre><h3 id=æ‰§è¡Œé¡ºåº>æ‰§è¡Œé¡ºåº
<a class=anchor href=#%e6%89%a7%e8%a1%8c%e9%a1%ba%e5%ba%8f>#</a></h3><pre><code>skip(), limilt(), sort()ä¸‰ä¸ªæ”¾åœ¨ä¸€èµ·æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆ sort(), 
ç„¶åæ˜¯ skip()ï¼Œæœ€åæ˜¯æ˜¾ç¤ºçš„ limit()ã€‚
</code></pre><h3 id=æ•°æ®å¯¼å‡º>æ•°æ®å¯¼å‡º
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e5%af%bc%e5%87%ba>#</a></h3><pre><code>mongoexport -d *** -c *** -o ***
# -d åä¸º dbName
   -c åä¸º collectionName
   -o åä¸º outputFileName å¯¼å‡ºæ–‡ä»¶å
</code></pre><p>åå­—éƒ½ä¸ç”¨åŠ å¼•å·ï¼Œç›´æ¥ä¸Šçš„~ï¼Œ ç„¶åå¯¼å‡ºæ ¼å¼éƒ½æ˜¯json é‚£æ ·ï¼Œä¸ç®¡åç¼€æ˜¯ä»€ä¹ˆç”¨æ–‡æœ¬æ‰“å¼€éƒ½æ˜¯ä¸€ä¸ªæ ·å­â€”â€”éª—é¬¼ğŸ‘»</p><h3 id=æ•°æ®å¯¼å…¥>æ•°æ®å¯¼å…¥
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e5%af%bc%e5%85%a5>#</a></h3><pre><code> mongoimport -h 127.0.0.1 -p 27017 -d Trader_1Min_Db -c ag1806 --file 
/home/ian/Downloads/ag1806.json
</code></pre><h3 id=linux-ä¸‹ä½¿ç”¨robo3té”™è¯¯>Linux ä¸‹ä½¿ç”¨Robo3Té”™è¯¯
<a class=anchor href=#linux-%e4%b8%8b%e4%bd%bf%e7%94%a8robo3t%e9%94%99%e8%af%af>#</a></h3><p>é”™è¯¯æœ€åå­—æ®µä¸ºï¼šå·²æ”¾å¼ƒ (æ ¸å¿ƒå·²è½¬å‚¨)</p><pre><code>mkdir ~/robo-backup
mv robo3t-1.1.1-linux-x86_64-*/lib/libstdc++* 
</code></pre><p>~/robo-backup/robo3t-1.1.1-linux-x86_64-*/bin/robo3t
ç§»åŠ¨å¤‡ä»½ä¹‹åå³å¯è¿è¡Œ</p><h3 id=for-python>For Python
<a class=anchor href=#for-python>#</a></h3><h4 id=pymongo>PyMongo
<a class=anchor href=#pymongo>#</a></h4><pre><code>from pymongo import MongoClient
client = MongoClient(&quot;localhost&quot;, 27017)
client.server_info()    
# æŸ¥çœ‹ä¿¡æ¯ï¼Œæ£€æµ‹æ˜¯å¦æˆåŠŸè¿æ¥
db = client[&quot;someData&quot;]
collection = db.zn1801_30Min
# ä¸¤ç§å‘½åæ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥.     ä¸€ç§æ˜¯ä½¿ç”¨â€œâ€
</code></pre><p>ä¹–ä¹–çš„ç”¨åŒå¼•å·ï¼Œå› ä¸ºï¼Œåœ¨è¿™é‡Œçš„å•åŒå¼•å·æ˜¯åŒºåˆ†çš„â€¦ æˆ‘ç°åœ¨ä¹Ÿæ‡’å¾—å»ç®¡å®ƒæ˜¯å­—ç¬¦å­—ç¬¦ä¸²çš„ä»€ä¹ˆé¬¼ã€‚â”â”›å¢“â”—â”“&mldr;(((m -__-)m</p><h4 id=insert>insert
<a class=anchor href=#insert>#</a></h4><pre><code>collection.insert( {&quot;name&quot;:&quot;text&quot; } )
</code></pre><h4 id=find>find
<a class=anchor href=#find>#</a></h4><pre><code>d = {u'Volume':{'$gte':50353,'$lte':50355}}
a = collection.find(d)
</code></pre><p>æœ€å°ä¸æœ€å¤§ï¼Œå¦å¤–ï¼Œfindå‡ºæ¥çš„ä¸œè¥¿æ˜¯æ•°æ®åº“æŒ‡é’ˆï¼Œéœ€è¦ç”¨<code>for...in...</code>æ¥å¾ªç¯å–å‡ºå†…å®¹æ¥</p><h3 id=æŸ¥è¯¢åº“å>æŸ¥è¯¢åº“å
<a class=anchor href=#%e6%9f%a5%e8%af%a2%e5%ba%93%e5%90%8d>#</a></h3><pre><code>from pymongo import MongoClient
client = MongoClient('localhost', 27017)
client.database_names()
</code></pre><blockquote><p>[u&rsquo;Trader_1Min_Db&rsquo;, u&rsquo;Trader_30Min_Db&rsquo;, u&rsquo;Trader_Tick_Db&rsquo;, u&rsquo;VnTrader_Log_Db&rsquo;, u&rsquo;VnTrader_Position_Db&rsquo;, u&rsquo;admin&rsquo;, u&rsquo;local&rsquo;, u&rsquo;someData&rsquo;, u&rsquo;test']</p></blockquote><h3 id=æŸ¥è¯¢é›†åˆå>æŸ¥è¯¢é›†åˆå
<a class=anchor href=#%e6%9f%a5%e8%af%a2%e9%9b%86%e5%90%88%e5%90%8d>#</a></h3><pre><code>collectionNames = client[dbName].collection_names()
print collectionNames
</code></pre><h1 id=ä½¿ç”¨>ä½¿ç”¨
<a class=anchor href=#%e4%bd%bf%e7%94%a8>#</a></h1><p>å…¶è¯»å†™é€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„â€¦ äºŒåä¸‡æ¡æ•°æ®æŸ¥è¯¢çš„è¯ä¸åˆ°ä¸€ç§’ï¼Œç„¶è€Œâ€¦ é¢‘ç¹å¤šé‡çš„è¯»å–ï¼Œå†åŠ ä¸Šä¸æ–­åœ°å¾€å…¶ä¸­å†™å…¥å°±å‡ºé—®é¢˜äº†â€¦â€¦ å¡çš„ææ…¢â€¦ç®€ç›´ææ€–ï¼ˆæ•°ä¸ªå°æ—¶çš„å»¶è¿Ÿ æ€•ä¸æ€•ï¼‰ã€‚ï¼ˆå½“ç„¶ä»¥ä¸Šæƒ…å†µæ˜¯å®Œå…¨æ²¡æœ‰åšä»»ä½•ä¼˜åŒ–çš„æƒ…å†µï¼ˆç›´æ¥<code>insert</code> ã€<code>find</code>ï¼‰ï¼Œä¸çŸ¥é“ä¼˜åŒ–ä¹‹åä¼šæ€æ ·ï¼‰ å¦å¤–ä¸çŸ¥é“ä¸å¢åŠ æ¡æ•°ï¼Œå»å¢åŠ å†…å®¹ä¼šæ€æ ·â€¦â€¦ emm æœç„¶è¿˜æ˜¯ç¼“å­˜æ¯”è¾ƒå¥½ç”¨â€¦åœ¨é«˜é€Ÿå¤šé‡å¤šé¢‘æ¬¡çš„æƒ…å†µä¸‹è¿˜æ˜¯ç”¨å†…å­˜é‡Œé¢ä¸å»æ‰‹åŠ¨åšä»»ä½•ä¿å­˜æ¯”è¾ƒå¥½ã€‚ ç­‰ç§¯æ”’å¤Ÿé‡ä¹‹åå†å»ä¿å­˜ï¼Œå°±å¥½æ¯”æ–‡ä»¶å‹ç¼©ä¸å»ä¸€ä¸ªä¸ªå°æ–‡ä»¶ä¼ è¾“ä¸€ä¸ªé“ç†ã€‚</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#å®‰è£…>å®‰è£…</a><ul><li><a href=#docker-å®‰è£…-4412ç‰ˆæœ¬>Docker å®‰è£… 4.4.12ç‰ˆæœ¬</a></li></ul></li><li><a href=#æ•°æ®è¿ç§»>æ•°æ®è¿ç§»</a><ul><li><a href=#ä½¿ç”¨-mysqldump>ä½¿ç”¨ <code>mysqldump</code></a></li><li><a href=#font-colorff5000æ³¨æ„äº‹é¡¹font>æ³¨æ„äº‹é¡¹</a></li><li><a href=#æ“ä½œå‘½ä»¤ç®€å•è®°å½•>æ“ä½œå‘½ä»¤ç®€å•è®°å½•</a></li><li><a href=#æ›´æ–°æ·»åŠ æ–‡æ¡£>æ›´æ–°ã€æ·»åŠ æ–‡æ¡£</a></li><li><a href=#å¯¼å…¥csvæ–‡ä»¶>å¯¼å…¥csvæ–‡ä»¶</a></li><li><a href=#å¯¼å‡º>å¯¼å‡º</a></li><li><a href=#æ”¹>æ”¹</a></li><li><a href=#æ’åº>æ’åº</a></li><li><a href=#mongodb-ç´¢å¼•--------font-colorcrimsonå»ºç«‹ç´¢å¼•å¹²å˜›font>MongoDB ç´¢å¼• ï¼ˆå»ºç«‹ç´¢å¼•å¹²å˜›â€¦â€¦ï¼‰</a></li><li><a href=#èšåˆ>èšåˆ</a></li><li><a href=#æ¡ä»¶æ“ä½œç¬¦>æ¡ä»¶æ“ä½œç¬¦</a></li><li><a href=#æ‰§è¡Œé¡ºåº>æ‰§è¡Œé¡ºåº</a></li><li><a href=#æ•°æ®å¯¼å‡º>æ•°æ®å¯¼å‡º</a></li><li><a href=#æ•°æ®å¯¼å…¥>æ•°æ®å¯¼å…¥</a></li><li><a href=#linux-ä¸‹ä½¿ç”¨robo3té”™è¯¯>Linux ä¸‹ä½¿ç”¨Robo3Té”™è¯¯</a></li><li><a href=#for-python>For Python</a></li><li><a href=#æŸ¥è¯¢åº“å>æŸ¥è¯¢åº“å</a></li><li><a href=#æŸ¥è¯¢é›†åˆå>æŸ¥è¯¢é›†åˆå</a></li></ul></li></ul></nav></div></aside></main></body></html>