<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ian's Blog</title><link>http://example.org/docs/programmer/database/</link><description>Recent content on Ian's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Mon, 10 Jan 2022 17:00:00 +0000</lastBuildDate><atom:link href="http://example.org/docs/programmer/database/index.xml" rel="self" type="application/rss+xml"/><item><title>Dgraphä½¿ç”¨å°è®°</title><link>http://example.org/docs/programmer/database/dgraph/</link><pubDate>Mon, 10 Jan 2022 17:00:00 +0000</pubDate><guid>http://example.org/docs/programmer/database/dgraph/</guid><description>æ¦‚å¿µ # ä»¥ä¸‹å‚è€ƒè‡ª: è¿™é‡Œ Console # Mutate: çªå˜, ç»“æ„/æ•°æ®å˜åŒ–çš„æ—¶å€™ç”¨ Query: æŸ¥è¯¢, EmmmmæŸ¥è¯¢çš„æ—¶å€™ç”¨ æ‰€ä»¥çœ‹æ¥æ²¡æœ‰getsetäº†???? Schema # ç®¡ç†å­—æ®µ(Predicate, Type, list,lang,indexç­‰)
çªå˜ # set # å†…å®¹è¾ƒå¤š, ä¸‹é¢å•ç‹¬ç½—åˆ—
delete # æ ¹æ®UID åˆ é™¤æŒ‡å®špredicate_name
{ delete { &amp;lt;UID&amp;gt; &amp;lt;predicate_name&amp;gt; * . } } set # åˆ›å»º # ç›´æ¥jsonç»™å‡ºç»“æ„å’Œæ•°æ®,å³å¯å®Œæˆåˆ›å»º.åªä¸è¿‡å¦‚æœæœ‰ç”¨åˆ°@langæ—¶å°±éœ€è¦å»Schemaé‡Œæ›´æ–°ä¸€ä¸‹å­—æ®µ - ç±»å‹ ???? (Schema-Type)çš„æ”¯æŒé¡¹
{ &amp;#34;set&amp;#34;: [ { &amp;#34;food_name&amp;#34;: &amp;#34;Sushi&amp;#34;, &amp;#34;review&amp;#34;: [ { &amp;#34;comment&amp;#34;: &amp;#34;Tastes very good&amp;#34;, &amp;#34;comment@jp&amp;#34;: &amp;#34;ã¨ã¦ã‚‚ç¾å‘³ã—ã„&amp;#34;, &amp;#34;comment@ru&amp;#34;: &amp;#34;Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ²ĞºÑƒÑĞ½Ğ¾&amp;#34; } ], &amp;#34;origin&amp;#34;: [ { &amp;#34;country&amp;#34;: &amp;#34;Japan&amp;#34; } ] } ] } æ›´æ–° # ä½¿ç”¨å’Œåˆ›å»ºå·®ä¸å¤š,ä¸è¿‡ç›®å‰æˆ‘å·²çŸ¥çš„æ›´æ–°åªèƒ½ç”¨UIDå¦åˆ™éƒ½ä¼šç›´æ¥åˆ›å»ºä¸€ä¸ªç›¸åŒå†…å®¹çš„æ–°æ•°æ®å‡ºæ¥</description></item><item><title>notes Of docker</title><link>http://example.org/docs/programmer/database/noteofdocker/</link><pubDate>Thu, 16 Dec 2021 16:00:00 +0000</pubDate><guid>http://example.org/docs/programmer/database/noteofdocker/</guid><description>Docker # æ•™ç¨‹æ‰‹å†Œ # å¥½ç”¨çš„ä½¿ç”¨æ•™ç¨‹
Install # ç•¥è¿‡~ ğŸ˜
å¸¸è§é—®é¢˜å’Œæ¨¡æ¿ # ç”¨æˆ·sudoé—®é¢˜ # debianå¢åŠ dockerç”¨æˆ·ç»„,ä¼˜åŒ–æ¯æ¬¡sudoé—®é¢˜ æˆ–
sudo groupadd docker # å®‰è£…å®Œdocker.ioä¹‹åä¸€èˆ¬éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºæ‰€ä»¥è¿™ä¸€æ­¥å…¶å®æ²¡å•¥ç”¨ sudo gpasswd -a $USERNAME docker newgrp docker # æ›´æ–° Docker Mysqlç¼–ç  # version: &amp;#34;2.2&amp;#34; services: redis: image: &amp;#34;redis&amp;#34; # ports: # - 6379:6379 command: redis-server --appendonly yes #ä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ restart: always # è‡ªåŠ¨é‡å¯ myserver: image: mainName/myserver restart: always # è‡ªåŠ¨é‡å¯ mainServer: image: mainName/mainServer # container_name: mainServerv1.0.0 depends_on: - redis ports: - 9001:9001 restart: always volumes: - &amp;#34;.</description></item><item><title>dbæ•°æ®åº“</title><link>http://example.org/docs/programmer/database/noteofdbdata/</link><pubDate>Tue, 15 May 2018 09:51:09 +0000</pubDate><guid>http://example.org/docs/programmer/database/noteofdbdata/</guid><description>DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # MongoDBç¬”è®° # å­¦ä¹ ç½‘ç«™ï¼šhttp://www.runoob.com/mongodb/mongodb-tutorial.html (å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)
æ³¨æ„äº‹é¡¹ # Mongo æ•°æ®åº“é” # mongoåªæä¾›åº“çº§ç²’åº¦é”ï¼Œæ‰€ä»¥ä¸€ä¸ªå†™æ“ä½œé”å®šæ—¶ï¼Œå…¶ä»–è¯»å†™æ“ä½œéƒ½ç­‰å¾…â€¦ æ‰€ä»¥è¿™ä¸ªå¯¼è‡´äº†Mongoå¤šçº¿ç¨‹å†™æ“ä½œåè€Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å†™æ¥çš„å¿«ï¼Ÿ
å‰å°å»ºç«‹ç´¢å¼•æ—¶ï¼ŒMongoéœ€å ç”¨ä¸€ä¸ªå†™é”ï¼ˆä¸”ä¸åŒä¸Šè¿°ã€ä¸ä¼šä¸´æ—¶æ”¾å¼ƒï¼‰ ä¸ºé¿å…æ­¤é—®é¢˜éœ€é‡‡ç”¨backgroundæ–¹å¼
db.posts.ensureIndex({user_id: 1}) #æ­¤æ–¹å¼å°†å¼•èµ·å…¨é¢æˆ˜äº‰ db.posts.ensureIndex({user_id: 1}ï¼Œ {background: 1}) # è¿™ä¸ªå°±æ¯”è¾ƒå’Œå¹³ æ“ä½œå‘½ä»¤ç®€å•è®°å½• # åˆ›å»ºã€æ’å…¥ # use DATABASE_NAME #å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ï¼Œå¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“ã€‚ show dbs #æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“â€œname sizeâ€ åˆšåˆ›å»ºçš„æ•°æ®åº“ï¼Œå¦‚æ²¡æœ‰å†…å®¹åˆ™ä¸ç°å®åœ¨å…¶ä¸­
db.runoob.insert({&amp;quot;name&amp;quot;:&amp;quot;æ•™ç¨‹&amp;quot;}) #æ’å…¥æ•°æ® åˆ é™¤ # db.dropDatabase() #åˆ é™¤å½“å‰æ•°æ®åº“ï¼Œå¦‚æœªé€‰æ‹©åˆ™åˆ é™¤test db.collection.drop() #åˆ é™¤é›†åˆ db.site.drop() #ï¼šå¦‚åˆ é™¤siteé›†åˆ åˆ é™¤é‡å¤æ•°æ® # delete from alarm_calendar where id not in (SELECT maxid from (SELECT MAX(id) as maxid, CONCAT(user_id,time,generic_name) as nameAndCode from alarm_calendar GROUP BY nameAndCode) t); æ ¹æ®user_id, time, generic_nameæ¥æ‰“åŒ…é‡å¤ï¼Œå°†é‡å¤æ•°æ®åˆ æ‰, ç•™ä¸‹maxï¼Œåœ¨è‡ªå¢é‡Œé¢å³ï¼šæœ€æ–°æ•°æ®</description></item></channel></rss>