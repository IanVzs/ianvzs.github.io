<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="author:Ian
å½»åº•æ‘†è„±to_dictå’Œfrom_dict # ä½¿ç”¨ pydantic # BaseModelç±»å‹æ”¯æŒ:
b = BattleAxiePositionInfo.parse_obj(DICT_DATA) b.json() b.dict() parse_file parse_raw from pydantic import BaseModel class PositionInfo(BaseModel): error: int = -1 # æ”¶é›†é”™è¯¯ none: int = 0 # è¿˜æ²¡å¼€å§‹ clicked: int = 1 # åœ¨client èµ‹æ­¤å€¼ done: int = 2 # åœ¨server èµ‹æ­¤å€¼ xy: List[int] = [0, 0] status: int = 0 # clicked or done or none or error class BattleAxiePositionInfo(BaseModel): our: List[PositionInfo] = [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()] enemy: List[PositionInfo] = [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()] pp = BattleAxiePositionInfo() print(f&#34;pp json: {pp."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Pythonç¬”è®°(notes of Python)"><meta property="og:description" content="author:Ian
å½»åº•æ‘†è„±to_dictå’Œfrom_dict # ä½¿ç”¨ pydantic # BaseModelç±»å‹æ”¯æŒ:
b = BattleAxiePositionInfo.parse_obj(DICT_DATA) b.json() b.dict() parse_file parse_raw from pydantic import BaseModel class PositionInfo(BaseModel): error: int = -1 # æ”¶é›†é”™è¯¯ none: int = 0 # è¿˜æ²¡å¼€å§‹ clicked: int = 1 # åœ¨client èµ‹æ­¤å€¼ done: int = 2 # åœ¨server èµ‹æ­¤å€¼ xy: List[int] = [0, 0] status: int = 0 # clicked or done or none or error class BattleAxiePositionInfo(BaseModel): our: List[PositionInfo] = [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()] enemy: List[PositionInfo] = [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()] pp = BattleAxiePositionInfo() print(f&#34;pp json: {pp."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/docs/programmer/langs/notespython/"><meta property="article:section" content="docs"><title>Pythonç¬”è®°(notes of Python) | Ian's Blog</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.569e34257b6d9d9d98bef2eba3a64a9a25f6edeb684dcfd9d09d6515476ff4fa.js integrity="sha256-Vp40JXttnZ2YvvLro6ZKmiX27etoTc/Z0J1lFUdv9Po=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Ian's Blog</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/docs/programmer/>ç¨‹åºå‘˜ç¬”è®°</a><ul><li><input type=checkbox id=section-52f633cba5cf47818d8ec01e928396f2 class=toggle>
<label for=section-52f633cba5cf47818d8ec01e928396f2 class="flex justify-between"><a role=button>Base</a></label><ul><li><a href=/docs/programmer/base/k8s-%E9%85%8D%E5%A5%97%E8%AF%B4%E6%98%8E/>k8s é…å¥—è¯´æ˜</a></li><li><a href=/docs/programmer/base/k8s-%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/>k8sæŠ€æœ¯åˆ†äº«</a></li><li><a href=/docs/programmer/base/k8s%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%92%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E6%9E%90/>k8så­¦ä¹ -å¸¸ç”¨å‘½ä»¤å’Œé…ç½®æ–‡ä»¶</a></li><li><a href=/docs/programmer/base/pypi/>PyPi</a></li><li><a href=/docs/programmer/base/tipsofweb/>Nginxé«˜å¯ç”¨</a></li><li><a href=/docs/programmer/base/for_china/>å„ä¸ªè½¯ä»¶æ¢æº</a></li><li><a href=/docs/programmer/base/tipsofdebugers/>tips Of Debuggers</a></li><li><a href=/docs/programmer/base/notesdjango/>Djangoçš„å»ºç«™çš„(ï½¡ï½¥ï½¥)ï¾‰ï¾</a></li><li><a href=/docs/programmer/base/tipsofvim/>tip Of vim</a></li><li><a href=/docs/programmer/base/editer/>ç¼–è¾‘å™¨ä½¿ç”¨</a></li><li><a href=/docs/programmer/base/noteoflinux/>Linux</a></li><li><a href=/docs/programmer/base/argo-workflow%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%92%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90/>Argo Workflowæ€§èƒ½æµ‹è¯•å’Œä½¿ç”¨åœºæ™¯åˆ†æ</a></li><li><a href=/docs/programmer/base/argo-%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/>Argo ä½¿ç”¨è®°å½•</a></li><li><a href=/docs/programmer/base/kafka-%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/>Kafka å®‰è£…å’Œä½¿ç”¨</a></li><li><a href=/docs/programmer/base/paramiko-%E4%BD%BF%E7%94%A8-sshsftp/>Paramiko ä½¿ç”¨ Ssh&amp;sftp</a></li><li><a href=/docs/programmer/base/pytest-%E6%B5%8B%E8%AF%95/>Py Test æµ‹è¯•</a></li><li><a href=/docs/programmer/base/sonar-%E4%BB%A3%E7%A0%81%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5/>Sonar ä»£ç é™æ€æ£€æŸ¥</a></li><li><a href=/docs/programmer/base/%E5%B0%8F%E5%91%BD%E4%BB%A4/>å°å‘½ä»¤</a></li><li><a href=/docs/programmer/base/tip_dgraph/>Dgraph</a></li><li><a href=/docs/programmer/base/noteoffmtdata/>æ•°æ®æ ¼å¼ç¬”è®°</a></li></ul></li><li><input type=checkbox id=section-de7bfad1d124522974cdf8addfbb23f2 class=toggle>
<label for=section-de7bfad1d124522974cdf8addfbb23f2 class="flex justify-between"><a role=button>Net</a></label><ul><li><a href=/docs/programmer/net/uwsgi-%E5%A4%84%E7%90%86%E8%AE%B0%E5%BD%95/>uwsgi å¤„ç†è®°å½•</a></li><li><a href=/docs/programmer/net/tipsofgrpc/>gRpcä½¿ç”¨å°è®°</a></li><li><a href=/docs/programmer/net/net/>ç½‘ç»œ(Computer Network)</a></li><li><a href=/docs/programmer/net/elk%E5%9C%A8k8s%E4%B8%8A%E7%9A%84%E9%83%A8%E7%BD%B2%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/>Elkåœ¨k8sä¸Šçš„éƒ¨ç½²ä½¿ç”¨ç¤ºä¾‹</a></li><li><a href=/docs/programmer/net/nginx%E5%AE%9E%E7%94%A8%E9%85%8D%E7%BD%AE/>Nginxå®ç”¨é…ç½®</a></li></ul></li><li><input type=checkbox id=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class=toggle checked>
<label for=section-bf4e0d6f0b81f7b3ec08ed1fc66b874d class="flex justify-between"><a role=button>Langs</a></label><ul><li><a href=/docs/programmer/langs/cmake/>CMake ä½¿ç”¨Tips</a></li><li><a href=/docs/programmer/langs/noteofgoexp/>Golangè¿›é˜¶ç¬”è®°</a></li><li><a href=/docs/programmer/langs/noteofgolang/>Golangç¬”è®°</a></li><li><a href=/docs/programmer/langs/tipsofmarkdown/>tips Of markdown</a></li><li><a href=/docs/programmer/langs/notespython/ class=active>Pythonç¬”è®°(notes of Python)</a></li><li><a href=/docs/programmer/langs/notesjava/>æ„‰å¿«çš„Java(happy to learn the fuck java)</a></li></ul></li><li><input type=checkbox id=section-cd029da01a5cf373a5379dc078a74f2c class=toggle>
<label for=section-cd029da01a5cf373a5379dc078a74f2c class="flex justify-between"><a role=button>Game and Simulation</a></label><ul><li><a href=/docs/programmer/game_and_simulation/blender/>Blender</a></li><li><a href=/docs/programmer/game_and_simulation/noteofue4/>UE4 ç¬”è®°</a></li></ul></li><li><input type=checkbox id=section-883e27361d38e16afb68faff3435ac0b class=toggle>
<label for=section-883e27361d38e16afb68faff3435ac0b class="flex justify-between"><a role=button>Ml</a></label><ul><li><a href=/docs/programmer/ml/tensorflow/>Tensorflow</a></li><li><a href=/docs/programmer/ml/opencv/>OpenCV</a></li><li><a href=/docs/programmer/ml/paddle/>Paddle</a></li><li><a href=/docs/programmer/ml/noteofmachinelearning/>æœºå™¨å­¦ä¹ åº“</a></li></ul></li><li><input type=checkbox id=section-7e5360c5e7954906b897ed79085884b6 class=toggle>
<label for=section-7e5360c5e7954906b897ed79085884b6 class="flex justify-between"><a href=/docs/programmer/gui/>Gui</a></label><ul><li><a href=/docs/programmer/gui/pyinstaller/>pythonæ‰“åŒ…</a></li><li><a href=/docs/programmer/gui/qt/>Qt/PySide</a></li><li><a href=/docs/programmer/gui/noteofvn_py/>Vn.Pyå­¦ä¹ ç¬”è®°ï¼ˆPythonäº¤æ˜“å¹³å°æ¡†æ¶ï¼‰</a></li><li><a href=/docs/programmer/gui/notespython/>å›¾å½¢åŒ–ç•Œé¢ ï¼ˆPython Guiï¼‰</a></li></ul></li><li><input type=checkbox id=section-4446dd07527142b855f26d7cc8f0e617 class=toggle>
<label for=section-4446dd07527142b855f26d7cc8f0e617 class="flex justify-between"><a role=button>Database</a></label><ul><li><a href=/docs/programmer/database/dgraph/>Dgraphä½¿ç”¨å°è®°</a></li><li><a href=/docs/programmer/database/noteofdocker/>notes Of docker</a></li><li><a href=/docs/programmer/database/noteofdbdata/>dbæ•°æ®åº“</a></li><li><a href=/docs/programmer/database/mongodb/>Mongodb</a></li></ul></li><li><input type=checkbox id=section-d325c59fc6513e1b1e05a60b192d4973 class=toggle>
<label for=section-d325c59fc6513e1b1e05a60b192d4973 class="flex justify-between"><a href=/docs/programmer/hardware/>Hardware</a></label><ul><li><a href=/docs/programmer/hardware/android/>Android</a></li><li><a href=/docs/programmer/hardware/raspberrypi/>Raspberry Pi</a></li><li><a href=/docs/programmer/hardware/readme/>Readme</a></li><li><a href=/docs/programmer/hardware/screen/>Screen</a></li></ul></li><li><input type=checkbox id=section-40d35e91afa620ff2e7bf6291cfb3e1d class=toggle>
<label for=section-40d35e91afa620ff2e7bf6291cfb3e1d class="flex justify-between"><a href=/docs/programmer/software/>Software</a></label><ul><li><a href=/docs/programmer/software/bash/>Bash</a></li><li><a href=/docs/programmer/software/freebsd/>Freebsd</a></li><li><a href=/docs/programmer/software/gitbook/>Gitbook</a></li><li><a href=/docs/programmer/software/markdown/>Markdown</a></li><li><a href=/docs/programmer/software/npm/>Npm</a></li><li><a href=/docs/programmer/software/readme/>Readme</a></li><li><a href=/docs/programmer/software/vim/>Vim</a></li></ul></li><li><a href=/docs/programmer/install_some/>å®‰è£…é—®é¢˜</a></li><li><a href=/docs/programmer/demo_test_some/>Demo Testé¡¹ç›®ä¸­çš„ä¸€äº›ä¸œè¥¿</a></li><li><a href=/docs/programmer/tipsofproblems/>è§£å†³é—®é¢˜</a></li></ul></li><li class=book-section-flat><a href=/docs/example/>Hugoç‰¹æ®ŠMarkdownè¯­æ³•è¯´æ˜</a><ul><li><a href=/docs/example/table-of-contents/>Table of Contents</a><ul><li><a href=/docs/example/table-of-contents/with-toc/>With ToC</a></li><li><a href=/docs/example/table-of-contents/without-toc/>Without ToC</a></li></ul></li><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/docs/example/shortcodes/buttons/>Buttons</a></li><li><a href=/docs/example/shortcodes/columns/>Columns</a></li><li><a href=/docs/example/shortcodes/details/>Details</a></li><li><a href=/docs/example/shortcodes/expand/>Expand</a></li><li><a href=/docs/example/shortcodes/hints/>Hints</a></li><li><input type=checkbox id=section-1c6a8516f710b6065a114907cef8489f class=toggle>
<label for=section-1c6a8516f710b6065a114907cef8489f class="flex justify-between"><a href=/docs/example/shortcodes/section/>Section</a></label><ul><li><a href=/docs/example/shortcodes/section/first-page/>First Page</a></li><li><a href=/docs/example/shortcodes/section/second-page/>Second Page</a></li></ul></li><li><a href=/docs/example/shortcodes/tabs/>Tabs</a></li></ul></li></ul></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Pythonç¬”è®°(notes of Python)</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#å½»åº•æ‘†è„±to_dictå’Œfrom_dict>å½»åº•æ‘†è„±<code>to_dict</code>å’Œ<code>from_dict</code></a><ul><li><a href=#ä½¿ç”¨-pydantic>ä½¿ç”¨ <code>pydantic</code></a></li></ul></li><li><a href=#å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼>å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼</a></li><li><a href=#åˆ—è¡¨è¡¨è¾¾å¼-äºŒç»´æ•°ç»„è¾¹ä¸€ç»´-å–å­—å…¸å†…å˜ä¸€ç»´>åˆ—è¡¨è¡¨è¾¾å¼ äºŒç»´æ•°ç»„è¾¹ä¸€ç»´ å–å­—å…¸å†…å˜ä¸€ç»´</a></li><li><a href=#pip-not-found-issue>PiP Not Found Issue</a></li><li><a href=#modulenotfounderror-no-module-named-pip>ModuleNotFoundError: No module named &lsquo;pip&rsquo;</a><ul><li><a href=#å‡çº§pipæ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤>å‡çº§<code>PiP</code>æ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤</a></li></ul></li><li><a href=#sslæ ¡éªŒ>SSLæ ¡éªŒ</a><ul><li><a href=#ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½python>ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½Python</a></li><li><a href=#å£°æ˜å‚æ•°ç±»å‹>å£°æ˜å‚æ•°ç±»å‹</a></li><li><a href=#æ—¶é—´å¤„ç†>æ—¶é—´å¤„ç†</a></li><li><a href=#åˆå¹¶å­—å…¸>åˆå¹¶å­—å…¸</a></li><li><a href=#èŠèƒœäºæ— çš„å°ç©æ„-preety-tools>èŠèƒœäºæ— çš„å°ç©æ„ preety tools</a></li><li><a href=#ide>IDE?</a></li><li><a href=#beautifulsoup>BeautifulSoup</a></li><li><a href=#datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´--æ—¶é—´è½¬å­—ç¬¦ä¸²>datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´ æ—¶é—´è½¬å­—ç¬¦ä¸²:</a></li><li><a href=#ä¿å­˜æ•¸æ“šåˆ°xlsxsqlite3csv>ä¿å­˜æ•¸æ“šåˆ°xlsxï¼Œsqlite3ã€csvï¼š</a></li><li><a href=#imageä¸‹>Imageä¸‹ï¼š</a></li><li><a href=#pandas>Pandas:</a></li></ul></li><li><a href=#é—²è¯­>é—²è¯­ï¼š</a><ul><li></li></ul></li></ul><ul><li><ul><li></li><li><a href=#å˜é‡>å˜é‡</a></li></ul></li><li><a href=#å˜æ¢æ•°æ®ç±»å‹>å˜æ¢æ•°æ®ç±»å‹</a><ul><li></li></ul></li><li><a href=#python3>Python3</a><ul><li><a href=#ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•>ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•</a></li><li><a href=#-ä¸--æ–¹æ³•>* ä¸ ** æ–¹æ³•:</a></li><li><a href=#è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨>è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨</a></li><li><a href=#if-else>IF ELSE</a></li><li><a href=#python-2-ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»>Python 2 ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»</a></li><li><a href=#queue>Queue</a></li><li><a href=#serieså’Œdataframe>serieså’Œdataframe</a></li><li><a href=#è‡ªå‘½ååˆ›å»ºæ–¹å¼>è‡ªå‘½ååˆ›å»ºæ–¹å¼</a></li><li><a href=#æŸ¥çœ‹>æŸ¥çœ‹</a></li><li><a href=#zip-å’Œ-æ•°ç»„å˜å­—å…¸>zip å’Œ æ•°ç»„å˜å­—å…¸</a></li><li><a href=#å­—å…¸æ“ä½œ>å­—å…¸æ“ä½œ</a></li><li><a href=#csv>CSV</a></li><li><a href=#txtä¿å­˜>txtä¿å­˜</a></li><li><a href=#json>json</a></li><li><a href=#shelve>Shelve</a></li></ul></li><li><a href=#æ¥å£>æ¥å£ã€‚</a></li><li><a href=#åˆ—è¡¨list>åˆ—è¡¨List</a><ul><li><a href=#åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°:</a></li><li><a href=#åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•:</a></li></ul></li><li><a href=#å­—ç¬¦ä¸²è¿æ¥>å­—ç¬¦ä¸²è¿æ¥</a><ul><li><a href=#æ–¹æ³•ä¸€>æ–¹æ³•ä¸€</a></li><li><a href=#æ–¹æ³•äºŒ>æ–¹æ³•äºŒ</a></li><li><a href=#æ–¹æ³•ä¸‰>æ–¹æ³•ä¸‰</a></li></ul></li><li><a href=#æ‰‹åŠ¨ç¼–è¯‘pyæ–‡ä»¶>æ‰‹åŠ¨ç¼–è¯‘Pyæ–‡ä»¶</a></li><li><a href=#æ—¶é—´>æ—¶é—´</a><ul><li></li><li><a href=#æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´>æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´</a></li><li><a href=#time>time</a></li><li><a href=#çº¿ç¨‹-threading>çº¿ç¨‹ threading</a></li></ul></li></ul><ul><li><ul><li><a href=#æ•°å€¼å–æ•´>æ•°å€¼å–æ•´</a></li></ul></li></ul><ul><li><a href=#å¯¹è±¡ä¼ªç±»é—´å˜é‡ä¼ é€’>å¯¹è±¡ï¼ˆä¼ªç±»ï¼‰é—´å˜é‡ä¼ é€’</a></li><li><a href=#å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„æ–¹ä¾¿è°ƒç”¨>å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„ï¼Œæ–¹ä¾¿è°ƒç”¨~</a><ul><li><a href=#collections-æ¨¡å—>collections æ¨¡å—</a></li></ul></li><li><a href=#çº¿ç¨‹>çº¿ç¨‹</a><ul><li><a href=#çº¿ç¨‹åŒæ­¥>çº¿ç¨‹åŒæ­¥</a></li></ul></li><li><a href=#é˜Ÿåˆ—>é˜Ÿåˆ—</a><ul><li><a href=#ä¸€äº›æ–¹æ³•>ä¸€äº›æ–¹æ³•</a></li><li><a href=#è€å¤«çš„demo>è€å¤«çš„Demo</a></li></ul></li><li><a href=#è¿›ç¨‹>è¿›ç¨‹</a><ul><li></li><li><a href=#å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»>å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»</a></li></ul></li><li><a href=#font-colorcc0000è­¦ä¸ªå‘Šfont><em><strong>è­¦ä¸ªå‘Š</strong></em></a><ul><li></li></ul></li><li><a href=#å†åŠ ä¸€ä¸ªåç¨‹>å†åŠ ä¸€ä¸ªåç¨‹</a><ul><li><a href=#åŸºç¡€å®ç°>åŸºç¡€å®ç°ï¼š</a></li><li><a href=#è¾ƒå®Œå–„æ–¹æ¡ˆ>è¾ƒå®Œå–„æ–¹æ¡ˆï¼š</a></li><li><a href=#futures>futures</a></li></ul></li><li><a href=#çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡>çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡</a><ul><li><a href=#åˆ—è¡¨çš„å¢åˆ æ·»>åˆ—è¡¨çš„å¢åˆ æ·»</a></li><li><a href=#ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡---ä»£ç æ—¥å¿—>ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡ - ä»£ç æ—¥å¿—</a></li><li><a href=#å‡½æ•°è°ƒç”¨å‡½æ•°-and-è¯­æ³•ç³–->å‡½æ•°è°ƒç”¨å‡½æ•° and è¯­æ³•ç³– @</a></li><li><a href=#å˜é‡ä½œç”¨åŸŸ>å˜é‡ä½œç”¨åŸŸ</a></li></ul></li><li><a href=#functools>functools</a><ul><li><a href=#partial>partial</a></li></ul></li></ul><ul><li><a href=#socket>socket</a></li><li><a href=#select----ä¸socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹>select : ä¸Socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹</a></li><li><a href=#å¼•ç”¨æ¨¡å—>å¼•ç”¨æ¨¡å—</a><ul><li><a href=#åŒä¸€æ–‡ä»¶å¤¹ä¸‹>åŒä¸€æ–‡ä»¶å¤¹ä¸‹</a></li><li><a href=#å…¶ä¸‹çº§æ–‡ä»¶hereä¸‹>å…¶ä¸‹çº§æ–‡ä»¶"here"ä¸‹</a></li><li><a href=#åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹>åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹</a></li><li><a href=#åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ä¹Ÿå°±æ˜¯åœ¨éš”å£wangæ–‡ä»¶ä¸­>åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå°±æ˜¯åœ¨éš”å£â€œwangâ€æ–‡ä»¶ä¸­ï¼‰</a></li></ul></li><li><a href=#è§£å†³ç¼–ç é—®é¢˜>è§£å†³ç¼–ç é—®é¢˜</a><ul><li><a href=#è¾“å‡ºæç¤ºæ‰“å°ä¹±ç >è¾“å‡ºæç¤ºæ‰“å°ä¹±ç </a></li><li><a href=#å†…å­˜å¼‚å¸¸å ç”¨>å†…å­˜å¼‚å¸¸å ç”¨</a></li></ul></li><li><a href=#å¼‚å¸¸>å¼‚å¸¸</a><ul><li><a href=#plan1->plan1 ï¼š</a></li><li><a href=#åˆ—è¡¨çš„å‘>åˆ—è¡¨çš„å‘</a></li><li><a href=#staticmethod>@staticmethod</a></li><li><a href=#å¸¸è§å¼‚å¸¸>å¸¸è§å¼‚å¸¸</a></li></ul></li></ul><ul><li><ul><li><a href=#visualstudioæ¨¡å¼>VisualStudioæ¨¡å¼ï¼š</a></li><li><a href=#netbeansæ¨¡å¼>NetBeansæ¨¡å¼ï¼š</a></li></ul></li></ul><ul><li><a href=#æ•°æ®ç±»>æ•°æ®ç±»</a><ul><li><a href=#è‹¥å‡ºç°docxæ¨¡å—pyinstalleræ‰“åŒ…é—®é¢˜>è‹¥å‡ºç°docxæ¨¡å—pyInstalleræ‰“åŒ…é—®é¢˜</a></li><li><a href=#simplehttpserver>SimpleHTTPServer</a></li><li><a href=#è€å¤«çš„æœˆä»½ç”Ÿæˆ>è€å¤«çš„æœˆä»½ç”Ÿæˆ</a></li></ul></li><li><a href=#python36ä¹‹åçš„å¥‡æ·«æŠ€å·§>Python3.6ä¹‹åçš„å¥‡æ·«æŠ€å·§</a></li></ul><ul><li><ul><li><a href=#collectionss>collectionss</a></li><li><a href=#function-annotations>Function Annotations</a></li><li><a href=#logger>Logger</a></li></ul></li><li><a href=#lambdaå‡½æ•°>lambdaå‡½æ•°</a><ul><li><a href=#æ’åº>æ’åº</a></li></ul></li><li><a href=#mock>Mock</a></li></ul></nav></aside></header><article class=markdown><p>author:Ian</p><p><img src=https://www.python.org/static/img/python-logo@2x.png alt=python></p><h2 id=å½»åº•æ‘†è„±to_dictå’Œfrom_dict>å½»åº•æ‘†è„±<code>to_dict</code>å’Œ<code>from_dict</code>
<a class=anchor href=#%e5%bd%bb%e5%ba%95%e6%91%86%e8%84%b1to_dict%e5%92%8cfrom_dict>#</a></h2><h3 id=ä½¿ç”¨-pydantic>ä½¿ç”¨ <code>pydantic</code>
<a class=anchor href=#%e4%bd%bf%e7%94%a8-pydantic>#</a></h3><p><code>BaseModel</code>ç±»å‹æ”¯æŒ:</p><ul><li>b = BattleAxiePositionInfo.parse_obj(DICT_DATA)</li><li>b.json()</li><li>b.dict()</li><li>parse_file</li><li>parse_raw</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>from</span> pydantic <span style=color:#f92672>import</span> BaseModel
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PositionInfo</span>(BaseModel):
</span></span><span style=display:flex><span>    error: int <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#75715e># æ”¶é›†é”™è¯¯</span>
</span></span><span style=display:flex><span>    none: int <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#75715e># è¿˜æ²¡å¼€å§‹</span>
</span></span><span style=display:flex><span>    clicked: int <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#75715e># åœ¨client èµ‹æ­¤å€¼</span>
</span></span><span style=display:flex><span>    done: int <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#75715e># åœ¨server èµ‹æ­¤å€¼</span>
</span></span><span style=display:flex><span>    xy: List[int] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    status: int <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#75715e># clicked or done or none or error</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BattleAxiePositionInfo</span>(BaseModel):
</span></span><span style=display:flex><span>    our: List[PositionInfo] <span style=color:#f92672>=</span> [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()]
</span></span><span style=display:flex><span>    enemy: List[PositionInfo] <span style=color:#f92672>=</span> [PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo(), PositionInfo()]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pp <span style=color:#f92672>=</span> BattleAxiePositionInfo()
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;pp json: </span><span style=color:#e6db74>{</span>pp<span style=color:#f92672>.</span>json()<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>dict_pp <span style=color:#f92672>=</span> pp<span style=color:#f92672>.</span>dict()
</span></span><span style=display:flex><span>pp <span style=color:#f92672>=</span> BattleAxiePositionInfo<span style=color:#f92672>.</span>parse_obj(dict_pp)
</span></span></code></pre></div><blockquote><blockquote><blockquote><p>pp json: {&ldquo;our&rdquo;: [{&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}], &ldquo;enemy&rdquo;: [{&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}, {&ldquo;error&rdquo;: -1, &ldquo;none&rdquo;: 0, &ldquo;clicked&rdquo;: 1, &ldquo;done&rdquo;: 2, &ldquo;xy&rdquo;: [0, 0], &ldquo;status&rdquo;: 0}]}</p></blockquote></blockquote></blockquote><h2 id=å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼>å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼
<a class=anchor href=#%e5%a4%9a%e4%b8%aa%e7%b1%bb%e5%b1%9e%e6%80%a7%e4%b8%80%e6%ac%a1%e8%b5%8b%e5%80%bc>#</a></h2><p>No:</p><pre tabindex=0><code>self.a = a
self.b = b
</code></pre><p>Yes:</p><pre tabindex=0><code>self.__dict__.update({&#34;a&#34;: a, &#34;b&#34;: b})
</code></pre><h2 id=åˆ—è¡¨è¡¨è¾¾å¼-äºŒç»´æ•°ç»„è¾¹ä¸€ç»´-å–å­—å…¸å†…å˜ä¸€ç»´>åˆ—è¡¨è¡¨è¾¾å¼ äºŒç»´æ•°ç»„è¾¹ä¸€ç»´ å–å­—å…¸å†…å˜ä¸€ç»´
<a class=anchor href=#%e5%88%97%e8%a1%a8%e8%a1%a8%e8%be%be%e5%bc%8f-%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%84%e8%be%b9%e4%b8%80%e7%bb%b4-%e5%8f%96%e5%ad%97%e5%85%b8%e5%86%85%e5%8f%98%e4%b8%80%e7%bb%b4>#</a></h2><pre tabindex=0><code>knowninfo = {&#39;axie_id3&#39;: {&#39;init_cards&#39;: [&#39;Sunder Claw&#39;, &#39;October Treat&#39;, &#39;Gas Unleash&#39;, &#39;Disguise&#39;], &#39;sort&#39;: 4}}
[vv for _,v in knowninfo.items() for vv in v[&#34;init_cards&#34;]]
# [&#39;Sunder Claw&#39;, &#39;October Treat&#39;, &#39;Gas Unleash&#39;, &#39;Disguise&#39;]
</code></pre><h2 id=pip-not-found-issue>PiP Not Found Issue
<a class=anchor href=#pip-not-found-issue>#</a></h2><p>ä½¿ç”¨<code>pip</code>å®‰è£…æŸåŒ…æ—¶ï¼Œ æç¤ºè®©æ›´æ–°ï¼Œ æŒ‰æç¤ºæ“ä½œæ›´æ–°æ²¡æ•ˆæœæ²¡ååº”å†ç”¨å°±æç¤º<code>ModuleNotFoundError: No module named 'pip'</code> (Ë‰â–½Ë‰ï¼›)&mldr;</p><h2 id=modulenotfounderror-no-module-named-pip>ModuleNotFoundError: No module named &lsquo;pip&rsquo;
<a class=anchor href=#modulenotfounderror-no-module-named-pip>#</a></h2><h3 id=å‡çº§pipæ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤>å‡çº§<code>PiP</code>æ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤
<a class=anchor href=#%e5%8d%87%e7%ba%a7pip%e6%97%b6%e5%87%ba%e7%8e%b0%e9%97%ae%e9%a2%98%e5%8f%af%e7%94%b1%e4%b8%8b%e6%96%b9%e5%91%bd%e4%bb%a4%e4%bf%ae%e5%a4%8d>#</a></h3><pre tabindex=0><code>python -m ensurepip
python -m pip install --upgrade pip
</code></pre><h2 id=sslæ ¡éªŒ>SSLæ ¡éªŒ
<a class=anchor href=#ssl%e6%a0%a1%e9%aa%8c>#</a></h2><p>å®‰è£…EasyOCRæ—¶,
<code>reader = easyocr.Reader(['ch_sim','en'])</code>
ä¸‹è½½åˆ°æ¥è¿‘90,ç»“æœæŠ¥é”™äº†&mldr;. ä¼°è®¡æ˜¯SSLé—®é¢˜åŠ å…¥ä»¥ä¸‹ä¸¤æ¡,ä¸çŸ¥å¦‚ä½•.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> ssl
</span></span><span style=display:flex><span>ssl<span style=color:#f92672>.</span>_create_default_https_context <span style=color:#f92672>=</span> ssl<span style=color:#f92672>.</span>_create_unverified_context
</span></span></code></pre></div><p>from http.client
<code>To revert to the previous, unverified, behavior ssl._create_unverified_context() can be passed to the context parameter.</code></p><h3 id=ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½python>ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½Python
<a class=anchor href=#%e4%bd%bf%e7%94%a8%e5%9b%bd%e5%86%85%e9%95%9c%e5%83%8f%e4%b8%8b%e8%bd%bdpython>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>	pip install --index https://pypi.mirrors.ustc.edu.cn/simple/ dlib<span style=color:#f92672>(</span>numpyç­‰åŒ…å<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ä¸€é”®æ›´æ–°pip åŒ…èµ„æº(åˆ©ç”¨ç®¡é“grepä¼ è¾“æŸ¥è¯¢åˆ°çš„éœ€è¦æ›´æ–°åŒ…åï¼Œä¼ è¾“åˆ°installå‘½ä»¤)</span>
</span></span><span style=display:flex><span>    pip3 freeze --local | grep -v <span style=color:#e6db74>&#39;^\-e&#39;</span> | cut -d <span style=color:#f92672>=</span> -f <span style=color:#ae81ff>1</span>  | xargs -n1 pip3 install -U
</span></span><span style=display:flex><span>    <span style=color:#75715e># æƒé™ä¸å¤Ÿçš„è¯å°±åœ¨`pip3 install` ä¹‹å‰åŠ `sudo`åæ­£æˆ‘ä¸ä¹ æƒ¯ç”¨`root`</span>
</span></span></code></pre></div><h3 id=å£°æ˜å‚æ•°ç±»å‹>å£°æ˜å‚æ•°ç±»å‹
<a class=anchor href=#%e5%a3%b0%e6%98%8e%e5%8f%82%e6%95%b0%e7%b1%bb%e5%9e%8b>#</a></h3><p>python3 åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™å¯ä»¥å£°æ˜å‡½æ•°ç±»å‹å•¦ï¼šè™½ç„¶ä¸åšé™åˆ¶ï¼Œä½†ä½œä¸º<code>label</code>è¿˜æ˜¯è›®å¥½çš„ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#f92672>import</span> io
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(x:int, y:int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>write</span>(f: io<span style=color:#f92672>.</span>BytesIO, data: bytes) <span style=color:#f92672>-&gt;</span> bool:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        f<span style=color:#f92672>.</span>write(data)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>IOError</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span></code></pre></div><p>ç»ˆäºä¸ä¼šä¹‹åå†™çš„å¿˜äº†ï¼Œè¦è°ƒç”¨å‡½æ•°è¿˜å¾—çœ‹åŠå¤©è¿™ä¸ªå‡½æ•°åº”è¯¥æ€ä¹ˆç”¨â€¦</p><h3 id=æ—¶é—´å¤„ç†>æ—¶é—´å¤„ç†
<a class=anchor href=#%e6%97%b6%e9%97%b4%e5%a4%84%e7%90%86>#</a></h3><p>ä»¥ä¸‹å¯ä»¥åšå‘¨ã€æœˆçš„åŠ å‡å¤„ç†
relativedelta examples
Letâ€™s begin our trip:</p><pre tabindex=0><code>from datetime import *; from dateutil.relativedelta import *
import calendar
</code></pre><h4 id=store-some-values>Store some values:
<a class=anchor href=#store-some-values>#</a></h4><pre tabindex=0><code>NOW = datetime.now()
TODAY = date.today()
NOW
</code></pre><blockquote><p>datetime.datetime(2003, 9, 17, 20, 54, 47, 282310)</p></blockquote><pre tabindex=0><code>TODAY
</code></pre><blockquote><p>datetime.date(2003, 9, 17)</p></blockquote><h4 id=next-month>Next month
<a class=anchor href=#next-month>#</a></h4><blockquote><blockquote><blockquote><p>NOW+relativedelta(months=+1)</p></blockquote></blockquote></blockquote><pre tabindex=0><code>datetime.datetime(2003, 10, 17, 20, 54, 47, 282310)
</code></pre><h3 id=åˆå¹¶å­—å…¸>åˆå¹¶å­—å…¸
<a class=anchor href=#%e5%90%88%e5%b9%b6%e5%ad%97%e5%85%b8>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>a <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>b <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;a&#39;</span>: <span style=color:#ae81ff>1</span>}
</span></span><span style=display:flex><span>c <span style=color:#f92672>=</span> {<span style=color:#f92672>**</span>a, <span style=color:#f92672>**</span>b}
</span></span></code></pre></div><p>keyé‡å¤<code>b</code>ä¸­è¦†ç›–<code>a</code>, å¦åˆ™å•çº¯åˆå¹¶ã€‚</p><h3 id=èŠèƒœäºæ— çš„å°ç©æ„-preety-tools>èŠèƒœäºæ— çš„å°ç©æ„ preety tools
<a class=anchor href=#%e8%81%8a%e8%83%9c%e4%ba%8e%e6%97%a0%e7%9a%84%e5%b0%8f%e7%8e%a9%e6%84%8f-preety-tools>#</a></h3><h5 id=å½©è‰²è¾“å‡º>å½©è‰²è¾“å‡º
<a class=anchor href=#%e5%bd%a9%e8%89%b2%e8%be%93%e5%87%ba>#</a></h5><p>æ¨¡å—åå„¿å¿˜äº†ï¼Œä»¥åè´´2019.03.01 03:08
one minute later:
<code>pip3 install ansicolors</code></p><pre tabindex=0><code>from colors import red, green, blue
print(red(&#39;This is red&#39;))
print(green(&#39;This is green&#39;))
print(blue(&#39;This is blue&#39;))

from colors import color
for i in range(256):
    print(color(&#39;Color #%d&#39; % i, fg=i))
</code></pre><p>ä»¥ä¸Šç¨‹åºåªèƒ½å†™åœ¨<code>.py</code>æ–‡ä»¶ä¸­,è¿è¡Œï¼Œè€Œä¸èƒ½åœ¨â€¦â€˜å·æ‡’æ¨¡å¼â€˜ä¸­ã€‚</p><h4 id=python3-threadpoolexecutor-çº¿ç¨‹æ± å†…åº“>Python3 ThreadPoolExecutor çº¿ç¨‹æ± å†…åº“
<a class=anchor href=#python3-threadpoolexecutor-%e7%ba%bf%e7%a8%8b%e6%b1%a0%e5%86%85%e5%ba%93>#</a></h4><p>åœ¨<code>python3</code>ä¹‹åä¸ä¹…ï¼Œæœ‰å…³çº¿ç¨‹æ± çš„ä½¿ç”¨å°±è¢«é›†æˆåˆ°å†…åº“ä¹‹ä¸­ã€‚
<code>from concurrent.futures import ThreadPoolExecutor</code>
ä½¿ç”¨æ–¹æ³•ï¼š</p><pre tabindex=0><code>    ThreadPoolExecutor(max_workers=12)
    # è®¾ç½®çº¿ç¨‹æ± å¤§å°
    .submit(func_name, (para))    # æäº¤ä»»åŠ¡
    .done()    # æŸ¥çœ‹ä»»åŠ¡æ˜¯å¦å®Œæˆ
    .cancel()    # æ²¡æœ‰è¢«æ”¾å…¥çº¿ç¨‹æ± ä¸­æ‰èƒ½ç”Ÿæ•ˆ
    .result()    # è·å–è¯¥ä»»åŠ¡è¿”å›å€¼

    from concurrent.futures import as_completed
    # ç”¨äºå–å‡ºæ‰€æœ‰ä»»åŠ¡ç»“æœï¼Œçœå»ä¸€ç›´ç”¨.doneå»æŸ¥çœ‹çš„ç¹çã€‚ä½†è¯¥æ–¹æ³•
# æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œæ‰€ä»¥ä»»åŠ¡æœªå®Œæˆä¼šé˜»å¡ã€‚ è¿˜æœ‰ wait map ç­‰ç”¨æ³•å°±å»çœ‹æ–‡æ¡£å§ã€‚
</code></pre><h5 id=å®‰è£…é”™è¯¯>å®‰è£…é”™è¯¯ï¼Ÿ
<a class=anchor href=#%e5%ae%89%e8%a3%85%e9%94%99%e8%af%af>#</a></h5><p>å±…ç„¶æœ‰<code>pip3 install XX</code>çš„é”™è¯¯â€¦è¿™ä¹Ÿæ˜¯å› ä¸ºæœ‰æ—§ç‰ˆ<code>pip3</code>å­˜ç•™ã€‚éœ€è¦</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$bash -d pip3 
</span></span><span style=display:flex><span>$bash -r pip3
</span></span></code></pre></div><p>æ¥æ¸…ç†shellä¸­æ—§ç‰ˆpipç¼“å­˜ã€‚</p><h3 id=ide>IDE?
<a class=anchor href=#ide>#</a></h3><p>å…¶å®è¦ä¸è¦IDEéƒ½æ— æ‰€ä¸ºï¼Œå› ä¸ºæœ¬å°±æ˜¯è„šæœ¬ï¼Œè¦IDEåªèƒ½è¯´æ‰“å¼€ä¸€ä¸ªé™Œç”Ÿé¡¹ç›®æŸ¥çœ‹æ—¶èƒ½å¤Ÿè·³è½¬å‡½æ•°ã€‚è‡³äº<code>vim</code>å¤§æ¦‚ä¸èƒ½è·³è½¬å§ï¼Œæ¯•ç«Ÿè·³è½¬éœ€è¦æŠŠæ–‡ä»¶éƒ½åŠ è½½æ‰èƒ½å®ç°ã€‚emm æ¥æ¥ï¼ŒIDEçš„è¯å°±<code>PyCharm</code>é™¤äº†ç¼–ç¨‹é¡µé¢é¢œè‰²éš¾çœ‹ä¹‹å¤–å…¶ä»–åŠŸèƒ½éƒ½ä¸é”™ï¼Œå¦å¤–ä¸æ”¯æŒä¸­æ–‡è·¯å¾„ï¼Œä¸è¿‡åº”è¯¥ä¸æ˜¯ç”±äº<code>Python</code>è¯­è¨€é€ æˆçš„ï¼Œå› ä¸ºèŸ’è›‡è„šæœ¬æ˜¯å¯ä»¥åœ¨ä¸­æ–‡è·¯å¾„ä¸‹è¿è¡Œdi<a href=date:2018%e5%b9%b45%e6%9c%8828%e6%97%a517%e7%82%b916%e5%88%86>date:2018å¹´5æœˆ28æ—¥17ç‚¹16åˆ†</a></p><h4 id=printè¯­å¥-å«æœ‰è‡ªåŠ¨æ¢è¡Œæ‰€ä»¥è¦æƒ³ä¸æ¢è¡Œçš„è¯éœ€è¦åœ¨ç»“å°¾åŠ ä¸€ä¸ªå¦‚>printè¯­å¥ï¼š å«æœ‰è‡ªåŠ¨æ¢è¡Œï¼Œæ‰€ä»¥è¦æƒ³ä¸æ¢è¡Œçš„è¯éœ€è¦åœ¨ç»“å°¾åŠ ä¸€ä¸ª",&ldquo;å¦‚ï¼š
<a class=anchor href=#print%e8%af%ad%e5%8f%a5-%e5%90%ab%e6%9c%89%e8%87%aa%e5%8a%a8%e6%8d%a2%e8%a1%8c%e6%89%80%e4%bb%a5%e8%a6%81%e6%83%b3%e4%b8%8d%e6%8d%a2%e8%a1%8c%e7%9a%84%e8%af%9d%e9%9c%80%e8%a6%81%e5%9c%a8%e7%bb%93%e5%b0%be%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%a6%82>#</a></h4><pre><code>for i in range(0,5):

	print i,
</code></pre><p>è€ŒPython3ç‰ˆæœ¬åˆ™åº”è¯¥ä¹Ÿå¯ä»¥ print(a,b,c);ç„¶è€ŒPython2.7ä¸è¡Œ</p><h4 id=æ ¹æ®å­—å…¸ä¸­å€¼å¤§å°æ’åˆ—>æ ¹æ®å­—å…¸ä¸­å€¼å¤§å°æ’åˆ—ï¼š
<a class=anchor href=#%e6%a0%b9%e6%8d%ae%e5%ad%97%e5%85%b8%e4%b8%ad%e5%80%bc%e5%a4%a7%e5%b0%8f%e6%8e%92%e5%88%97>#</a></h4><pre><code>sorted(dict2.iteritems(),key=lambda item:item[1],reverse=True) 
# item[0]å³æ ¹æ®é”®æ¥æ’åˆ—[1]ä¸ºæ ¹æ®å¯¹åº”å€¼
</code></pre><h4 id=formatå¦‚>formatï¼šå¦‚:
<a class=anchor href=#format%e5%a6%82>#</a></h4><pre><code>print('my name is{0},and my age is{1}'.format('song',18))
</code></pre><h5 id=or>or:
<a class=anchor href=#or>#</a></h5><pre><code>url = 'http://www.google.com/page={}/'

newsurl = url.format(i)
# æ—‹å³å…¶åå†…å®¹åˆ™ä»£æ›¿{}ä½ç½®
</code></pre><p>å¦ï¼Œåœ¨{a}{b}{c}å¯é€šéformat(a=1,b=2,c=3)ä¾†è³¦å€¼</p><hr><h3 id=beautifulsoup>BeautifulSoup
<a class=anchor href=#beautifulsoup>#</a></h3><h4 id=selectè¯­å¥åœ¨å†…å®¹å‰åŠ å¯ä»¥è·å¾—å…¶å†…å®¹å¦‚>selectè¯­å¥ï¼šåœ¨å†…å®¹å‰åŠ &rsquo;#&lsquo;å¯ä»¥è·å¾—å…¶å†…å®¹ï¼Œå¦‚ï¼š
<a class=anchor href=#select%e8%af%ad%e5%8f%a5%e5%9c%a8%e5%86%85%e5%ae%b9%e5%89%8d%e5%8a%a0%e5%8f%af%e4%bb%a5%e8%8e%b7%e5%be%97%e5%85%b6%e5%86%85%e5%ae%b9%e5%a6%82>#</a></h4><pre><code>soup.select('artibodyTitle')[0].text
select().contents
&quot;&quot;&quot;
æŠŠæ ‡ç­¾å˜æˆä¸åŒlistï¼ŒåŒListä¸­çš„ä¸åŒå…ƒç´  ç„¶åç”¨[0]å¯å–å¾—ç¬¬ä¸€ä¸ªå…ƒç´ å†…å®¹ï¼Œè€Œä¸ä¸åæ–¹çš„å†…å®¹åˆåˆ°ä¸€èµ·
*.strip()å¯å°†å–å‡ºçš„â€˜\t\tâ€™ç§»é™¤
&quot;&quot;&quot;
.select('time-source span a')
# ä»time-sourceä¸­çš„&lt;spanä¸‹&lt;aä¸‹å–å¾—å†…å®¹e
.select('.productPrice')[0].text
# ç²å–class=&quot;productPrice&quot;ä¸‹åƒ¹æ ¼å…§å®¹
</code></pre><hr><h3 id=datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´--æ—¶é—´è½¬å­—ç¬¦ä¸²>datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´ æ—¶é—´è½¬å­—ç¬¦ä¸²:
<a class=anchor href=#datetime%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bd%ac%e6%97%b6%e9%97%b4--%e6%97%b6%e9%97%b4%e8%bd%ac%e5%ad%97%e7%ac%a6%e4%b8%b2>#</a></h3><pre><code>from datetime import datetime
dt = datetime.strptime(timesource,'%Yå¹´%mæœˆ%dæ—¥%H:%M')(****å¹´*æœˆ*æ—¥*22:03)
dt.strftime('%Y-%m-%d')
</code></pre><hr><h3 id=ä¿å­˜æ•¸æ“šåˆ°xlsxsqlite3csv>ä¿å­˜æ•¸æ“šåˆ°xlsxï¼Œsqlite3ã€csvï¼š
<a class=anchor href=#%e4%bf%9d%e5%ad%98%e6%95%b8%e6%93%9a%e5%88%b0xlsxsqlite3csv>#</a></h3><pre><code>.to_excel('name.xlsx')ï¼šè¾“å‡ºä¸ºexcleæ–‡ä»¶
import sqlite3  #ä¿å­˜åˆ°æ•°æ®åº“
with sqlite3.connect('name.sqlite') as db:
	df.to_sql('name',con = db)
</code></pre><h5 id=ä»æ•°æ®åº“å–å‡º>ä»æ•°æ®åº“å–å‡º
<a class=anchor href=#%e4%bb%8e%e6%95%b0%e6%8d%ae%e5%ba%93%e5%8f%96%e5%87%ba>#</a></h5><pre><code>with sqlite3.connect('name.sqlite') as db:
	df2 = pandas.read_sql_query('SELECT' * FROM name',con = db)
</code></pre><h4 id=é¡å‹éŒ¯èª¤-typeerror-a-bytes-like-object-is-required-not-str>é¡å‹éŒ¯èª¤ TypeError: a bytes-like object is required, not &lsquo;str&rsquo;
<a class=anchor href=#%e9%a1%9e%e5%9e%8b%e9%8c%af%e8%aa%a4-typeerror-a-bytes-like-object-is-required-not-str>#</a></h4><pre><code>csv_file = open(&quot;rent.csv&quot;,&quot;wb&quot;)    
csv_writer = csv.writer(csv_file, delimiter=',')    #åˆ›å»ºwriterå¯¹è±¡ï¼ŒæŒ‡å®šæ–‡ä»¶ä¸åˆ†éš”ç¬¦
writer.writerow(['title', 'summary', 'year', 'id', 'count', 'link'])
</code></pre><p>Python2.7 è½‰åˆ° 3.5ä¸‹æ™‚æç¤ºç”±æ­¤éŒ¯èª¤ï¼Œä»£ç¢¼çˆ²</p><h5 id=åŸå› è§£æ±ºæ–¹æ³•>åŸå› ï¼Œè§£æ±ºæ–¹æ³•ï¼š
<a class=anchor href=#%e5%8e%9f%e5%9b%a0%e8%a7%a3%e6%b1%ba%e6%96%b9%e6%b3%95>#</a></h5><pre><code>å› çˆ²Python3.5 å°æ–¼strèˆ‡bytesé¡å‹å€åˆ†è®Šå¾—æ•æ„Ÿï¼Œæ‰€ä»¥åŸæœ¬åœ¨2.7ä¸‹æ­£å¸¸çš„ä»£ç¢¼ä¸èƒ½æ­£å¸¸é‹è¡Œã€‚
é›–ç„¶ï¼Œåˆ©ç”¨str.encode() æˆ–è€… str = bytes(str, encoding = 'utf-8')å¯ä»¥è½‰æ›æ ¼å¼
ç„¶è€ŒéŒ¯èª¤ä¾ç„¶æœ‰â€¦â€¦è§£æ±ºè¾¦æ³•å‰‡æ˜¯æ”¾æ£„è«–å£‡è£çš„èªªæ³•ï¼Œæ‰¾åˆ°å®˜ç¶²Demo
</code></pre><h5 id=æ›´æ”¹å¦‚ä¸‹>æ›´æ”¹å¦‚ä¸‹ï¼š
<a class=anchor href=#%e6%9b%b4%e6%94%b9%e5%a6%82%e4%b8%8b>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>	csvfile <span style=color:#f92672>=</span> open(<span style=color:#e6db74>&#39;goodsList.csv&#39;</span>, <span style=color:#e6db74>&#39;w&#39;</span>, newline<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&#39;</span>)
</span></span><span style=display:flex><span>	spamwriter <span style=color:#f92672>=</span> csv<span style=color:#f92672>.</span>writer(csvfile, delimiter<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;,&#39;</span>)
</span></span><span style=display:flex><span>	spamwriter<span style=color:#f92672>.</span>writerow([productTitle, productPrice, productShop])
</span></span></code></pre></div><p>ç´°ç¯€åœ¨æ–¼ï¼Œåœ¨æ‰“é–‹æ–‡ä»¶çš„æ™‚å€™å»é™¤<code>wb</code>è£é¢çš„<code>b</code>å³ä¸ç”¨äºŒé€²åˆ¶æ¨¡å¼æ‰“é–‹ã€‚</p><hr><h3 id=imageä¸‹>Imageä¸‹ï¼š
<a class=anchor href=#image%e4%b8%8b>#</a></h3><p>è·å–å›¾åƒåˆ†è¾¨ç‡ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>	im <span style=color:#f92672>=</span> Image<span style=color:#f92672>.</span>open(<span style=color:#ae81ff>0.0</span>)
</span></span><span style=display:flex><span>	width <span style=color:#f92672>=</span> im<span style=color:#f92672>.</span>size[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>	height <span style=color:#f92672>=</span> im<span style=color:#f92672>.</span>size[<span style=color:#ae81ff>1</span>]
</span></span></code></pre></div><hr><h3 id=pandas>Pandas:
<a class=anchor href=#pandas>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>	box <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(<span style=color:#e6db74>&#34;filename.csv, index_col=&#34;</span>Date<span style=color:#e6db74>&#34;, parse_dates=Ture) </span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>#è¯»å…¥æ–‡ä»¶ï¼Œè®²Dateä½œä¸ºæ—¥æœŸ</span>
</span></span><span style=display:flex><span>	box<span style=color:#f92672>.</span>columns <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;&#39;</span>,<span style=color:#e6db74>&#39;&#39;</span>] 
</span></span><span style=display:flex><span>	<span style=color:#75715e># æ›´æ”¹åˆ—å</span>
</span></span><span style=display:flex><span>	box[<span style=color:#e6db74>&#39;new&#39;</span>] <span style=color:#f92672>=</span> box[<span style=color:#e6db74>&#39;1&#39;</span>]<span style=color:#f92672>+</span>box[<span style=color:#e6db74>&#39;2&#39;</span>]
</span></span><span style=display:flex><span>	<span style=color:#75715e># æ–°å¢ä¸€åˆ—ä¸º1ä¸2ä¹‹å’Œ</span>
</span></span><span style=display:flex><span>	box<span style=color:#f92672>.</span>resample(<span style=color:#e6db74>&#39;d&#39;</span>, <span style=color:#e6db74>&#39;sum&#39;</span>) 
</span></span><span style=display:flex><span>	<span style=color:#75715e># é‡æ–°æŒ‰ç…§â€˜dâ€™:æ¯å¤©ï¼Œè¿›è¡Œé‡‡æ ·  æ–¹å¼ä¸ºå–å’Œ(&#39;w&#39;,&#39;sum&#39;)æ‰€æœ‰æ•°æ®åœ¨ä¸€å‘¨å†…è¿›è¡Œå–å’Œ</span>
</span></span></code></pre></div><h2 id=é—²è¯­>é—²è¯­ï¼š
<a class=anchor href=#%e9%97%b2%e8%af%ad>#</a></h2><h4 id=while-trueä¸while-1çš„åŒºåˆ«>while Trueä¸while 1çš„åŒºåˆ«ï¼š
<a class=anchor href=#while-true%e4%b8%8ewhile-1%e7%9a%84%e5%8c%ba%e5%88%ab>#</a></h4><p>åœ¨Python2 ä¸­ï¼Œå¾ªç¯åˆ¤æ–­ä¸€äº¿æ¬¡ï¼Œæˆ‘çš„å°ç”µè„‘çš„æ‰§è¡Œé€Ÿåº¦æ˜¯</p><pre><code>while one: 9.97739481926
while_true: 18.8063299656
while 1 ä»¥å‹å€’æ€§èƒœåˆ©ã€‚
</code></pre><p>åˆ°äº†Python3ä¸­ï¼Œåˆ™æˆäº†</p><pre><code>while one: 16.101972927001043
while_true: 16.25536527499935
</code></pre><blockquote><p>å—¯ï¼Œä¸é”™ï¼Œä¸åˆ†ä¼¯ä»²â€”â€”ä¸ªé¬¼å•Šã€‚æ•´ä½“å˜å·®äº†å¥½å§ã€‚0.0 åŸå› å¾…æ˜ã€‚</p></blockquote><h1 id=python-å°è®°->Python å°è®° ğŸ“–
<a class=anchor href=#python-%e5%b0%8f%e8%ae%b0->#</a></h1><p>å…ˆè´´ä¸€ä¸ªå®¢è§‚çš„æ•™ç¨‹æ–‡æ¡£ç½‘ç«™<a href=http://www.runoob.com/python/python-tutorial.html>http://www.runoob.com/python/python-tutorial.html</a></p><h4 id=windows-ä¸‹æ·»åŠ ç¯å¢ƒå˜é‡cmdä¸­python2-ä¸python3-å…±å­˜>Windows ä¸‹æ·»åŠ ç¯å¢ƒå˜é‡ï¼ŒCMDä¸­Python2 ä¸Python3 å…±å­˜
<a class=anchor href=#windows-%e4%b8%8b%e6%b7%bb%e5%8a%a0%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8fcmd%e4%b8%adpython2-%e4%b8%8epython3-%e5%85%b1%e5%ad%98>#</a></h4><p>Windows ä¸‹ æŠŠpython2 è·¯å¾„åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œå†ä¿®æ”¹python2.exeå¯ä»¥å’Œpython3åŒºåˆ†æ–¹ä¾¿åœ¨CMDä¸­è°ƒç”¨ï¼Œä½†ä»£ä»·å°±æ˜¯ç»å¸¸å‘½ä»¤æŠ¥é”™â€¦â€¦</p><p>ä¸è¿‡ä¹Ÿå¯ä»¥ä½¿ç”¨py -2æ¥åŒºåˆ†ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸æ”¹åå­—äº†å§
Windows ä¸‹ ç”¨<code>py -2 -m pip install ***</code>ä»¥åŠ<code>py -3 -m pip install ***</code>æ¥åŒºåˆ†å®‰è£…åˆ°python2 æˆ–è€… python3.</p><h3 id=å˜é‡>å˜é‡
<a class=anchor href=#%e5%8f%98%e9%87%8f>#</a></h3><p>ç±»ä¸‹ç›´æ¥å®šä¹‰çš„å˜é‡å¯ä»¥ç»§æ‰¿ï¼Œç„¶è€Œå¹¶ä¸èƒ½è¢«è‡ªå·±çš„å‡½æ•°æ‰€è°ƒç”¨ï¼Œæ„ä¹‰ä¸æ˜â€¦</p><p>è¢«ç»§æ‰¿çš„ç±»å¯ä»¥è°ƒç”¨ç»§æ‰¿ç±»ä¸­å®šä¹‰çš„self.* å˜é‡ï¼Œä¿ºè®¤ä¸ºè¿™æ˜¯å› ä¸ºå®ƒä»¬åœ¨å®ä¾‹æ—¶éƒ½è¢«å½“æˆäº†self æœ¬èº«ã€‚å¦å¤–ï¼Œä¼˜å…ˆè°ƒç”¨è‡ªå·±ä¸­çš„selfå˜é‡ï¼Œæ²¡æœ‰ï¼Œæ‰ä¼šå»è¢«ç»§æ‰¿ç±»ä¸­å»æŸ¥æ‰¾ï¼ˆå…ˆåé¡ºåºå¯å¾—å‰æ–¹è§£ç­”ï¼‰ã€‚</p><h2 id=å˜æ¢æ•°æ®ç±»å‹>å˜æ¢æ•°æ®ç±»å‹
<a class=anchor href=#%e5%8f%98%e6%8d%a2%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b>#</a></h2><p>Python åœ¨ä»æœåŠ¡å™¨æ¥æ”¶æˆ–è€…å‘é€æ•°æ®æ—¶éœ€è¦å­—ç¬¦ç±»å‹è½¬æ¢ï¼Œ&lsquo;&lsquo;&lsquo;struct&rsquo;&lsquo;&lsquo;ä¾¿æ˜¯ä¸ºæ­¤è€Œå·¥ä½œ</p><h4 id=structpack>struct.pack
<a class=anchor href=#structpack>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#f92672>import</span> struct
</span></span><span style=display:flex><span>    a <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    b <span style=color:#f92672>=</span> <span style=color:#ae81ff>400</span>
</span></span><span style=display:flex><span>    str <span style=color:#f92672>=</span> struct<span style=color:#f92672>.</span>pack(<span style=color:#e6db74>&#34;ii&#34;</span>, a, b)  
</span></span><span style=display:flex><span>    <span style=color:#75715e>#è½¬æ¢åçš„strè™½ç„¶æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½†ç›¸å½“äºå…¶ä»–è¯­è¨€ä¸­çš„å­—èŠ‚æµï¼ˆå­—èŠ‚æ•°ç»„ï¼‰ï¼Œå¯ä»¥åœ¨ç½‘ç»œ</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#ä¸Šä¼ è¾“</span>
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;length:&#39;</span>, len(str)
</span></span><span style=display:flex><span>    print str
</span></span><span style=display:flex><span>    print repr(str)
</span></span></code></pre></div><blockquote><p>&mdash;- result
length: 8
> #&mdash;-è¿™é‡Œæ˜¯ä¹±ç 
&lsquo;/x14/x00/x00/x00/x90/x01/x00/x00&rsquo;</p></blockquote><p>æ ¼å¼ç¬¦â€iâ€è¡¨ç¤ºè½¬æ¢ä¸ºintï¼Œâ€™iiâ€™è¡¨ç¤ºæœ‰ä¸¤ä¸ªintå˜é‡ã€‚è¿›è¡Œè½¬æ¢åçš„ç»“æœé•¿åº¦ä¸º8ä¸ªå­—èŠ‚ï¼ˆintç±»å‹å ç”¨4ä¸ªå­—èŠ‚ï¼Œä¸¤ä¸ªintä¸º8ä¸ªå­—èŠ‚ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºçš„ç»“æœæ˜¯ä¹±ç ï¼Œå› ä¸ºç»“æœæ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸ºä¹±ç ã€‚å¯ä»¥ä½¿ç”¨pythonçš„å†…ç½®å‡½æ•°repræ¥è·å–å¯è¯†åˆ«çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åå…­è¿›åˆ¶çš„0x00000014, 0x00001009åˆ†åˆ«è¡¨ç¤º20å’Œ400ã€‚</p><h4 id=structunpack>struct.unpack
<a class=anchor href=#structunpack>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    str <span style=color:#f92672>=</span> struct<span style=color:#f92672>.</span>pack(<span style=color:#e6db74>&#34;ii&#34;</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>400</span>)
</span></span><span style=display:flex><span>    a1, a2 <span style=color:#f92672>=</span> struct<span style=color:#f92672>.</span>unpack(<span style=color:#e6db74>&#34;ii&#34;</span>, str)
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;a1:&#39;</span>, a1
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;a2:&#39;</span>, a2
</span></span></code></pre></div><blockquote><p>&mdash;- result:
a1: 20
a2: 400</p></blockquote><p>struct.unpackåšçš„å·¥ä½œåˆšå¥½ä¸struct.packç›¸åï¼Œç”¨äºå°†å­—èŠ‚æµè½¬æ¢æˆpythonæ•°æ®ç±»å‹ã€‚å®ƒçš„å‡½æ•°åŸå‹ä¸ºï¼šstruct.unpack(fmt, string)ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå…ƒç»„ã€‚</p><h4 id=structcalcsize>struct.calcsize
<a class=anchor href=#structcalcsize>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    struct<span style=color:#f92672>.</span>calcsize(<span style=color:#e6db74>&#39;i&#39;</span>)
</span></span><span style=display:flex><span>    struct<span style=color:#f92672>.</span>calcsize(<span style=color:#e6db74>&#39;ii&#39;</span>)
</span></span><span style=display:flex><span>    struct<span style=color:#f92672>.</span>calcsize(<span style=color:#e6db74>&#39;iic&#39;</span>)
</span></span><span style=display:flex><span>    struct<span style=color:#f92672>.</span>calcsize(<span style=color:#e6db74>&#39;iicd&#39;</span>)
</span></span></code></pre></div><blockquote><p>4
8
9
24</p></blockquote><p><code>struct.calcsize</code>ç”¨äºè®¡ç®—æ ¼å¼å­—ç¬¦ä¸²æ‰€å¯¹åº”çš„ç»“æœçš„é•¿åº¦ï¼Œå¦‚ï¼š<code>struct.calcsize(â€˜iiâ€™)</code>ï¼Œè¿”å›<code>8</code>ã€‚å› ä¸ºä¸¤ä¸ª<code>int</code>ç±»å‹æ‰€å ç”¨çš„é•¿åº¦æ˜¯<code>8</code>ä¸ªå­—èŠ‚ã€‚</p><h4 id=structpack_into-structunpack_from>struct.pack_into, struct.unpack_from
<a class=anchor href=#structpack_into-structunpack_from>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#f92672>import</span> struct
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> ctypes <span style=color:#f92672>import</span> create_string_buffer
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    buf <span style=color:#f92672>=</span> create_string_buffer(<span style=color:#ae81ff>12</span>)
</span></span><span style=display:flex><span>    print repr(buf<span style=color:#f92672>.</span>raw)
</span></span><span style=display:flex><span>    struct<span style=color:#f92672>.</span>pack_into(<span style=color:#e6db74>&#34;iii&#34;</span>, buf, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    print repr(buf<span style=color:#f92672>.</span>raw)
</span></span><span style=display:flex><span>    print struct<span style=color:#f92672>.</span>unpack_from(<span style=color:#e6db74>&#39;iii&#39;</span>, buf, <span style=color:#ae81ff>0</span>)
</span></span></code></pre></div><blockquote><p>&mdash;- result
&rsquo;/x00/x00/x00/x00/x00/x00/x00/x00/x00/x00/x00/x00&rsquo;
&rsquo;/x01/x00/x00/x00/x02/x00/x00/x00/xff/xff/xff/xff&rsquo;
(1, 2, -1)</p></blockquote><h2 id=python3>Python3
<a class=anchor href=#python3>#</a></h2><p>åœ¨Python3ä¸­ï¼Œè½¬æ¢å­—ç¬¦ä¸²æ—¶ï¼Œä¸èƒ½ç›´æ¥<code>pack('8s', 'i am str')</code>, éœ€è¦å°†å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶æ‰€ä»¥åœ¨è¯­æ³•ä¸­æ ‡è®°<code>pack('8s', b'i am str')</code>ä½¿ç”¨<code>'b'</code>æ¥è¿›è¡Œæ ‡è®°</p><p>ä»¥ä¸Šæ¥è‡ª<a href=http://python.jobbole.com/81554/>Darkbull</a> è¿™æ˜¯è½¬è´´åœ°å€ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘çœ‹çš„è½¬è´´æŒ‚çš„åŸå¸–åœ°å€å¤±æ•ˆäº† ğŸ˜°</p><hr><hr><hr><h3 id=ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•>ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•
<a class=anchor href=#%e4%b8%80%e4%b8%8d%e5%b0%8f%e5%bf%83%e5%8f%91%e7%8e%b0%e7%9a%84%e8%af%ad%e6%b3%95>#</a></h3><p>py2.7</p><pre><code>while 'a' in a or b:
    break
# æ²¡é”™ï¼Œæ„æ€å°±æ˜¯å¦‚æœaæˆ–è€…æ˜¯båŒ…å«â€˜aâ€™çš„è¯â€¦     
</code></pre><h3 id=-ä¸--æ–¹æ³•>* ä¸ ** æ–¹æ³•:
<a class=anchor href=#-%e4%b8%8e--%e6%96%b9%e6%b3%95>#</a></h3><p>å‘ƒï¼ŒåŸæ¥<code>*</code>åœ¨MarkDowné‡Œé¢æ˜¯æ–œä½“çš„æ„æ€å•Šâ€”â€”éœ€è¦æ–œä½“æ˜¾ç¤ºçš„å‰åå„ä¸€ä¸ªæ˜Ÿå·</p><pre><code>def a(* a, **b):
    balabala
</code></pre><p>è¿™é‡Œçš„*aï¼Œ aåœ¨å‡½æ•°ä¸­è¢«èµ‹å€¼ä¸ºä¸€ä¸ªå…ƒç»„ï¼Œbè¢«èµ‹å€¼ä¸ºä¸€ä¸ªå­—å…¸ã€‚æ‰€ä»¥åœ¨è°ƒç”¨çš„æ—¶å€™å˜ï¼Œåªèƒ½æŠŠèƒ½å¾€ä¸€ä¸ªå…ƒç»„é‡Œå¡çš„æ”¾åœ¨å‰é¢ï¼Œè€Œèƒ½å¤Ÿç”Ÿæˆå­—å…¸çš„æ”¾åœ¨åé¢</p><pre><code>a(1,2,3,4,5,6,7,8,9,a:'a',b:1,c:'nihao')
</code></pre><p>å°±åƒè¿™ä¹ˆä¸€æ ·æ¥è°ƒç”¨ã€‚ å¦å¤–ï¼Œdef a()å‡½æ•°ä¸­è¿˜èƒ½åœ¨å‰æ–¹å†æ–°åŠ ä¸€ä¸ªè¾“å…¥</p><pre><code>def aa(jiushishuowo, *a, **b):
    pass
</code></pre><p>è¿™æ ·çš„è¯ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨çš„æ—¶å€™ç¬¬ä¸€ä¸ªé€—å·å‰é¢çš„å†…å®¹ä¼šèµ‹å€¼ç»™å®ƒã€‚overï¼Œå›å»æ‹¿å¿«é€’äº†~~~</p><p>ğŸ¶ å¹´å‡å‰å†æ¥è¡¥å……ä¸€ä¸‹ï¼šçº¦å®šå*args, **kwargs</p><h4 id=è·å–æ–‡ä»¶è·¯å¾„>è·å–æ–‡ä»¶è·¯å¾„
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e6%96%87%e4%bb%b6%e8%b7%af%e5%be%84>#</a></h4><pre><code>path = os.path.abspath(os.path.dirname(__file__))
# è·å–å½“å‰è¿è¡Œæ–‡ä»¶çš„è·¯å¾„ã€‚éœ€åœ¨æœ¬åœ°æœ‰æ­¤æ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸­å‡ºé”™

for root, subdirs, files in os.walk(path):
# éå†æ‰€æœ‰pathä¸‹æ–‡ä»¶  pathä¸ºè¦éå†çš„è·¯å¾„
</code></pre><h4 id=åŒè·å–è·¯å¾„>åŒè·å–è·¯å¾„
<a class=anchor href=#%e5%90%8c%e8%8e%b7%e5%8f%96%e8%b7%af%e5%be%84>#</a></h4><pre><code>os.path.abspath('./')
os.path.abspath('Deskop')
os.path.abspath('Deskop') + os.path.sep
</code></pre><blockquote><p>&lsquo;C:\Users\Administrator&rsquo;</p></blockquote><blockquote><p>&lsquo;C:\Users\Administrator\Deskop&rsquo;</p></blockquote><blockquote><p>&lsquo;C:\Users\Administrator\Deskop\&rsquo;</p></blockquote><h3 id=è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨>è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨
<a class=anchor href=#%e8%8e%b7%e5%8f%96%e6%8c%87%e5%ae%9a%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%89%80%e6%9c%89%e6%96%87%e4%bb%b6%e5%90%8d%e5%88%97%e8%a1%a8>#</a></h3><pre><code>os.listdir('D\IFData')
</code></pre><hr><h5 id=__dict__>_<em>dict</em>_
<a class=anchor href=#__dict__>#</a></h5><pre><code>class Province:
    country = 'China'

    def __init__(self, name, count):
        self.name = name
        self.count = count

    def func(self, *args, **kwargs):
        print 'func'

print Province.__dict__     # ç±»è¾“å‡º
obj1 = Province('HuBei', 100)
print obj1.__dict__         # å¯¹è±¡1
obj2 = Province('hulala', 3888)
print obj2.__dict__         # å¯¹è±¡2
</code></pre><blockquote><p><code>{'country': 'China', '__module__': '__main__', 'func': &lt;function func at 0x049EF470>, '__init__': &lt;function __init__ at 0x049EF4F0>, '__doc__': None}</code></p></blockquote><blockquote><p><code>{'count': 100, 'name': 'HuBei'}</code></p></blockquote><blockquote><p><code>{'count': 3888, 'name': 'hulala'}</code></p></blockquote><p>ç±»è¾“å‡ºçš„æ˜¯å…¨å±€çš„å‡½æ•°ï¼Œå˜é‡ç­‰ä¿¡æ¯ã€‚
å¯¹è±¡è¾“å‡ºçš„åªæ˜¯å¯¹è±¡æ‹¥æœ‰çš„æ™®é€šå˜é‡è€Œå·²</p><p>å‘ƒ(âŠ™ï¹âŠ™)ï¼Œç­‰ä¸‹å†å»æ‹¿å§â€¦ å·®ç‚¹å¿˜äº†è¯´ï¼Œè¿™ä¸ª__dict__ä¸å­—å…¸ç›¸é…åˆæ¥å›èµ‹å€¼ç®€ç›´èˆ’æœâ€¦ æ­¥éª¤ä¸ºï¼šå°†æŸä¸ªå˜é‡=ä¸€ä¸ªç±»ï¼ˆæ•°æ®ç±»ï¼ˆå°±æ˜¯èƒ½å¤Ÿa.bè¿™ä¹ˆè°ƒç”¨çš„æ•°å€¼ï¼‰ï¼‰ç„¶åè¿™ä¸ªå˜é‡å°±èƒ½a.bçš„è¿™ä¹ˆä½¿ç”¨äº†ã€‚ è€Œåä¹Ÿèƒ½é€šè¿‡a.<strong>dict</strong>ï¼ˆè¿™æ˜¯ä¸€ä¸ªå­—å…¸ï¼‰å†å°†æ‰€éœ€è¦çš„æ•°å€¼å–å‡ºæ¥ï¼Œè½¬èµ‹å€¼ä¸ºåˆ«çš„ä¸œè¥¿ã€‚ åæ­£æˆ‘æ˜¯ç”¨åˆ°äº†â€¦ åœ¨æƒ³è¦å®ç°ä¸€ä¸ªå‡½æ•°æ¥ä¿å­˜ä¸€ä¸ªå˜é‡çš„æŸäº›å±æ€§çš„æ—¶å€™ã€‚ï¼ˆå‘ƒ(âŠ™ï¹âŠ™)ç”¨çˆ±å»ç†è§£æˆ‘æ‰€æè¿°çš„åœºåˆå§ã€‚ï¼‰</p><h3 id=if-else>IF ELSE
<a class=anchor href=#if-else>#</a></h3><pre><code># æ‰§è¡Œæ—¶ä¼šå°†IFå‰é¢æ•´ä¸ªè¡¨è¾¾å¼ä½œä¸ºåˆ¤æ–­ç»“æœåçš„æ‰§è¡Œå¯¹è±¡ï¼Œ
# è€Œä¸æ˜¯ä»…ä»…æ›¿æ¢æŸä¸€ä¸ªæ•°å­—æˆ–è€…å˜é‡ã€‚  å³ ä¸‹æ–¹è¡¨è¾¾å¼è¿ç®—ç»“æœ
# ä¸æ˜¯  `4`       å’Œ      `5`  è€Œæ˜¯å¦‚ä¸‹æ‰€ç¤º
a = 1 + 3 if 1 == 2 else 2 + 1
a
a = 1 + 3 if 1 == 1 else 2 + 1
a
</code></pre><blockquote><p>3</p></blockquote><blockquote><p>4</p></blockquote><hr><hr><hr><h3 id=python-2-ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»>Python 2 ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»
<a class=anchor href=#python-2-%e4%b8%ad%e7%9a%84object%e6%96%b0%e5%bc%8f%e7%b1%bb%e5%92%8c%e7%bb%8f%e5%85%b8%e7%b1%bb>#</a></h3><pre><code># ä½œè€…ï¼šé‚¹å†²
# é“¾æ¥ï¼šhttps://www.zhihu.com/question/19754936/answer/202650790
class A:
    def foo(self):
    print('called A.foo()')

class B(A):
    pass

class C(A):
    def foo(self):
    print('called C.foo()')

class D(B, C): 
    pass

if __name__ == '__main__':
    d = D() 
    d.foo()
</code></pre><blockquote><p>Bã€C æ˜¯ A çš„å­ç±»ï¼ŒD å¤šç»§æ‰¿äº† Bã€C ä¸¤ä¸ªç±»ï¼Œå…¶ä¸­ C é‡å†™äº† A ä¸­çš„ foo() æ–¹æ³•ã€‚</p></blockquote><blockquote><p>å¦‚æœ A æ˜¯ç»å…¸ç±»ï¼ˆå¦‚ä¸Šä»£ç ï¼‰ï¼Œå½“è°ƒç”¨ D çš„å®ä¾‹çš„ foo() æ–¹æ³•æ—¶ï¼ŒPython ä¼šæŒ‰ç…§æ·±åº¦ä¼˜å…ˆçš„æ–¹æ³•å»æœç´¢ foo() ï¼Œè·¯å¾„æ˜¯ B-A-C ï¼Œæ‰§è¡Œçš„æ˜¯ A ä¸­çš„ foo() ï¼›</p></blockquote><blockquote><p>å¦‚æœ A æ˜¯æ–°å¼ç±»ï¼Œå½“è°ƒç”¨ D çš„å®ä¾‹çš„ foo() æ–¹æ³•æ—¶ï¼ŒPython ä¼šæŒ‰ç…§å¹¿åº¦ä¼˜å…ˆçš„æ–¹æ³•å»æœç´¢ foo() ï¼Œè·¯å¾„æ˜¯ B-C-A ï¼Œæ‰§è¡Œçš„æ˜¯ C ä¸­çš„ foo() ã€‚</p></blockquote><blockquote><p>å› ä¸º D æ˜¯ç›´æ¥ç»§æ‰¿ C çš„ï¼Œä»é€»è¾‘ä¸Šè¯´ï¼Œæ‰§è¡Œ C ä¸­çš„ foo() æ›´åŠ åˆç†ï¼Œå› æ­¤æ–°å¼ç±»å¯¹å¤šç»§æ‰¿çš„å¤„ç†æ›´ä¸ºåˆä¹é€»è¾‘ã€‚</p></blockquote><blockquote><p>åœ¨ Python 3.x ä¸­çš„æ–°å¼ç±»è²Œä¼¼å·²ç»å…¼å®¹äº†ç»å…¸ç±»ï¼Œæ— è®º A æ˜¯å¦ç»§æ‰¿ object ç±»ï¼Œ D å®ä¾‹ä¸­çš„ foo() éƒ½ä¼šæ‰§è¡Œ C ä¸­çš„ foo() ã€‚ä½†æ˜¯åœ¨ Python 2.7 ä¸­è¿™ç§å·®å¼‚ä»ç„¶å­˜åœ¨ï¼Œå› æ­¤è¿˜æ˜¯æ¨èä½¿ç”¨æ–°å¼ç±»ï¼Œè¦ç»§æ‰¿ object ç±»ã€‚</p></blockquote><h4 id=items>.items()
<a class=anchor href=#items>#</a></h4><p>ä¸€ä¸ªå­—å…¸ aï¼Œå…¶a.items()ä¸ºå°†æ¯å¯¹å¯¹åº”å€¼ç»„ä¸ºä¸€ä¸ªå…ƒç»„ã€‚å³ä½¿é”®å€¼ä¹Ÿä¸ºä¸€ä¸ªå­—å…¸ä¹Ÿæ˜¯å°†æ­¤å­—å…¸ä½œä¸ºå…ƒç»„å…ƒç´ ã€‚(ï¿£â–½ï¿£)&rdquo; emm</p><hr><hr><h3 id=queue>Queue
<a class=anchor href=#queue>#</a></h3><p>é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡ºå‹ã€‚å¯å­˜æ•°å­—ã€å­—ç¬¦â€¦å˜›ï¼ŒPythoné‡Œå•¥éƒ½ä¸€æ ·ã€‚æ‰€ä»¥å•¥éƒ½èƒ½å­˜ã€‚ç”¨äºäº‹ä»¶æŒ‰é¡ºåºæ‰§è¡Œã€‚ç¤ºä¾‹å¦‚~ï¼š</p><pre><code>import Queue
mqueue = Queue.Queue(maxsize = 3)
mqueue.put(10)
mqueue.put(15)
mqueue.put(12)
# æ­¤æ—¶å¦‚æœå†å¾€é‡Œå­˜å‘¢ï¼Œå°±ä¼šå¡ä½â€¦ æŒç»­ç­‰å¾…æœ‰ç©ºä½ç½®
# æ‰€ä»¥
mqueue.get()        #å–å‡ºç¬¬ä¸€ä¸ªå­˜å…¥
mqueue.put('14sas4')  #ç»§ç»­å­˜
## åœ¨æ¥è§¦çš„é¡¹ç›®ä¸­ï¼Œæ˜¯å€Ÿç”¨å­—å…¸ï¼Œæ¥å°†å¤„ç†å‡½æ•°ä½œä¸ºValueï¼Œå°†Keysï¼Œputåˆ°é˜Ÿ
åˆ—ä¸­ï¼Œå†è¿›è¡Œå–å‡ºæ‰§è¡Œã€‚
</code></pre><p>å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰æ•°å€¼ä¹‹åå†<code>get</code>ä¹Ÿä¼šå¡ä½â€¦â€¦
æ‰€ä»¥ä»¥ä¸‹ä¸œè¥¿å°±æ˜¾å¾—æ¯”è¾ƒé‡è¦äº†ï¼š</p><h3 id=serieså’Œdataframe>serieså’Œdataframe
<a class=anchor href=#series%e5%92%8cdataframe>#</a></h3><p>å…ˆè´´æ¥æºï¼š<a href=http://blog.csdn.net/ly_ysys629/article/details/54944153>http://blog.csdn.net/ly_ysys629/article/details/54944153</a></p><h5 id=å±æ€§>å±æ€§
<a class=anchor href=#%e5%b1%9e%e6%80%a7>#</a></h5><pre><code>series    ï¼š.index, .values, .name, .index.name
dataframe ï¼š.columns, .index, .values
</code></pre><h5 id=font-colorredseriesfont>series:
<a class=anchor href=#font-colorredseriesfont>#</a></h5><p>ä¸€ç»„æ•°ç»„ï¼ˆåˆ—è¡¨æˆ–å…ƒç»„ï¼‰ï¼Œseriesé™¤äº†ä¸€ç»„æ•°æ®å¤–è¿˜åŒ…æ‹¬ä¸€ç»„ç´¢å¼•ï¼ˆå³åªæœ‰è¡Œç´¢å¼•ï¼‰ï¼Œç´¢å¼•å¯è‡ªè¡Œå®šä¹‰ä¹Ÿå¯åˆ©ç”¨Series(),è‡ªåŠ¨ç”Ÿæˆç´¢å¼•;</p><h5 id=font-colorreddataframefont>dataframe:
<a class=anchor href=#font-colorreddataframefont>#</a></h5><p>æ˜¯è¡¨æ ¼å‹æ•°æ®ï¼Œæ—¢æœ‰è¡Œç´¢å¼•åˆæœ‰åˆ—ç´¢å¼•ï¼Œæ¯åˆ—æ•°æ®å¯ä»¥ä¸ºä¸åŒç±»å‹æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å‹å€¼ï¼‰ï¼Œå¯åˆ©ç”¨DataFrameï¼ˆå…¶ä»–æ•°æ®ï¼Œdataframeå±æ€§)æŒ‡å®šdataframeçš„å±æ€§åˆ›å»ºdataframeã€‚</p><h5 id=å®ä¾‹>å®ä¾‹
<a class=anchor href=#%e5%ae%9e%e4%be%8b>#</a></h5><h5 id=series>series
<a class=anchor href=#series>#</a></h5><pre><code>#åˆ›å»ºseries
import pandas as pd
obj_list=[1,2,3,4]
obj_tuple=(4,5,6,7)
obj_dict={'a':[1,2],'b':[2,3],'c':[3,4],'d':[4,5]}
obj_series_list=pd.Series(obj_list)#é€šè¿‡åˆ—è¡¨åˆ›å»ºseries
obj_series_tuple=pd.Series(obj_tuple,index=list('abcd'))
#é€šè¿‡å…ƒç»„åˆ›å»ºseries
obj_series_dict=pd.Series(obj_dict)#é€šè¿‡å­—å…¸åˆ›å»ºseries
#å®šä¹‰å±æ€§
obj_series_list.index.name='zimu'
obj_series_list.name='data'

print &quot;#é€šè¿‡åˆ—è¡¨åˆ›å»ºseries&quot;
print obj_series_list
print &quot;#é€šè¿‡å…ƒç»„åˆ›å»ºseries&quot;
print obj_series_tuple
print &quot;#é€šè¿‡å­—å…¸åˆ›å»ºseries&quot;
print obj_series_dict
#æ˜¾ç¤ºseriesç±»å‹åŠå±æ€§
print type(obj_series_list),obj_series_list.dtype
print obj_series_list.index,obj_series_list.index.name
print obj_series_list.values,obj_series_list.name
</code></pre><blockquote><p>#é€šè¿‡åˆ—è¡¨åˆ›å»ºseries</p></blockquote><blockquote><p>zimu</p></blockquote><blockquote><p>0 1</p></blockquote><blockquote><p>1 2</p></blockquote><blockquote><p>2 3</p></blockquote><blockquote><p>3 4</p></blockquote><blockquote><p>Name: data, dtype: int64</p></blockquote><hr><blockquote><p>#é€šè¿‡å…ƒç»„åˆ›å»ºseries</p></blockquote><pre><code>a    4
b    5
c    6
d    7
dtype: int32
</code></pre><hr><blockquote><p>#é€šè¿‡å­—å…¸åˆ›å»ºseries</p></blockquote><pre><code>a    [1, 2]
b    [2, 3]
c    [3, 4]
d    [4, 5]
dtype: object
&lt;class 'pandas.core.series.Series'&gt; int64
RangeIndex(start=0, stop=4, step=1, name=u'zimu') zimu
[1 2 3 4] data
</code></pre><h5 id=dataframe>dataframe
<a class=anchor href=#dataframe>#</a></h5><pre><code>#åˆ›å»ºdataframe
import pandas as pd
import numpy as np
obj_dict={'a':[1,2],'b':[2,3],'c':[3,4],'d':[4,5]}
obj_array=np.array([[1,2,3,4],[3,4,5,6]])
obj_series_1=pd.Series([11,12,13,14])
obj_series_2=pd.Series([21,22,23,24])
obj_dataframe_dict=pd.DataFrame(obj_dict)
#é€šè¿‡å­—å…¸åˆ›å»ºdataframe
obj_dataframe_array=pd.DataFrame(obj_array,index=['one','two'])
#é€šè¿‡çŸ©é˜µåˆ›å»ºdataframe
obj_dataframe_series=pd.DataFrame([obj_series_1,obj_series_2])
#é€šè¿‡seriesåˆ›å»ºdataframe
obj_dataframe_dataframe=pd.DataFrame(obj_dataframe_series,index=
    [0,1,'one'],columns=[0,1,2,'a'])
#é€šè¿‡å…¶ä»–dataframeåˆ›å»ºdataframe
print &quot;#é€šè¿‡å­—å…¸åˆ›å»ºdataframe&quot;
print obj_dataframe_dict
print &quot;#é€šè¿‡çŸ©é˜µåˆ›å»ºdataframe&quot;
print obj_dataframe_array
print &quot;#é€šè¿‡seriesåˆ›å»ºdataframe&quot;
print obj_dataframe_series
print &quot;#é€šè¿‡å…¶ä»–dataframeåˆ›å»ºdataframe&quot;
print obj_dataframe_dataframe
#dataframeå±æ€§
print obj_dataframe_dataframe.dtypes
print obj_dataframe_dataframe.values
print obj_dataframe_dataframe.columns
print obj_dataframe_dataframe.index
</code></pre><blockquote><p>è¾“å‡ºç»“æœä¸ºï¼š
#é€šè¿‡å­—å…¸åˆ›å»ºdataframe
a b c d
0 1 2 3 4
1 2 3 4 5
#é€šè¿‡çŸ©é˜µåˆ›å»ºdataframe
0 1 2 3
one 1 2 3 4
two 3 4 5 6
#é€šè¿‡seriesåˆ›å»ºdataframe
0 1 2 3
0 11 12 13 14
1 21 22 23 24
#é€šè¿‡å…¶ä»–dataframeåˆ›å»ºdataframe
0 1 2 a
0 11.0 12.0 13.0 NaN
1 21.0 22.0 23.0 NaN
one NaN NaN NaN NaN
0 float64
1 float64
2 float64
a float64
dtype: object
[[ 11. 12. 13. nan]
[ 21. 22. 23. nan]
[ nan nan nan nan]]
Index([0, 1, 2, u&rsquo;a&rsquo;], dtype=&lsquo;object&rsquo;)
Index([0, 1, u&rsquo;one&rsquo;], dtype=&lsquo;object&rsquo;)
å–æ•°æ®çš„è¯ï¼Œä¾¿æ˜¯<code>obj_dataframe_dict['a'][0]</code>å–å‡ºæ•°å€¼å³ä¸º<code>1</code></p></blockquote><h3 id=è‡ªå‘½ååˆ›å»ºæ–¹å¼>è‡ªå‘½ååˆ›å»ºæ–¹å¼
<a class=anchor href=#%e8%87%aa%e5%91%bd%e5%90%8d%e5%88%9b%e5%bb%ba%e6%96%b9%e5%bc%8f>#</a></h3><pre><code>df4 = pd.DataFrame(np.random.randn(6, 4), 
    index=[u'ç¬¬äºŒ', 4, 3, 2, 1, 0], columns=[u'ç¬¬ä¸€',5,4,1])
#è¡Œä¸ºï¼š     ç¬¬ä¸€ï¼Œ      5ï¼Œ         4ï¼Œ         1
#åˆ—ä¸ºï¼šç¬¬äºŒ -0.091305   ...
#       4   ...
#       3
#       2
#       1
#       0                                       ...
</code></pre><h3 id=æŸ¥çœ‹>æŸ¥çœ‹
<a class=anchor href=#%e6%9f%a5%e7%9c%8b>#</a></h3><pre><code>.dtypes     æŸ¥çœ‹å„è¡Œæ•°æ®æ ¼å¼
.head()     æŸ¥çœ‹å‰å‡ è¡Œï¼ˆé»˜è®¤5ï¼‰
.tail()         æŸ¥çœ‹åå‡ è¡Œ
.index      æŸ¥çœ‹æ•°æ®æ¡†å¼•ç´¢
.columns        æŸ¥çœ‹åˆ—å
.values     æ•°æ®å€¼
.T          è½¬ç½®
.sort           æ’åº  .sort(columns = '***')æ ¹æ®***åˆ—æ•°æ®è¿›è¡Œæ’åº
</code></pre><h6 id=font-colorgreenå–æ•°æ®æ–¹æ³•è§ä¸Šfont>å–æ•°æ®æ–¹æ³•è§ä¸Š
<a class=anchor href=#font-colorgreen%e5%8f%96%e6%95%b0%e6%8d%ae%e6%96%b9%e6%b3%95%e8%a7%81%e4%b8%8afont>#</a></h6><h3 id=zip-å’Œ-æ•°ç»„å˜å­—å…¸>zip å’Œ æ•°ç»„å˜å­—å…¸
<a class=anchor href=#zip-%e5%92%8c-%e6%95%b0%e7%bb%84%e5%8f%98%e5%ad%97%e5%85%b8>#</a></h3><pre><code>a = [1,2,3]
b = [4,5,6]
c = [4,5,6,7,8]
zipped = zip(a,b)
</code></pre><blockquote><p>[(1, 4), (2, 5), (3, 6)]</p></blockquote><pre><code>zip(a,c)
</code></pre><blockquote><p>[(1, 4), (2, 5), (3, 6)]</p></blockquote><pre><code>zip(*zipped)
</code></pre><blockquote><p>[(1, 2, 3), (4, 5, 6)]</p></blockquote><p>zip ä¹Ÿå¯ä»¥äºŒç»´çŸ©é˜µå˜æ¢ï¼ˆçŸ©é˜µçš„è¡Œåˆ—äº’æ¢ï¼‰
å› ä¸ºå…¶ä½œç”¨ä¸ºæŒ‰åºå·é‡ç»„æ•°ç»„ã€‚ï¼ˆå…¶è‹±è¯­ç¿»è¯‘ä¸ºæ‹‰é“¾â€¦â€¦ï¼‰</p><h4 id=æ•°ç»„å˜å­—å…¸>æ•°ç»„å˜å­—å…¸~ï¼š
<a class=anchor href=#%e6%95%b0%e7%bb%84%e5%8f%98%e5%ad%97%e5%85%b8>#</a></h4><pre><code>dic(zip(a, b))
# aä¸­å€¼ä¸ºkey bä¸­å€¼ä¸ºvalues
</code></pre><h3 id=å­—å…¸æ“ä½œ>å­—å…¸æ“ä½œ
<a class=anchor href=#%e5%ad%97%e5%85%b8%e6%93%8d%e4%bd%9c>#</a></h3><pre><code>dict= sorted(dic.items(), key=lambda d:d[0]) 
# å°†å­—å…¸æŒ‰ç…§é”®å€¼å‡åºæ’åˆ—
# dï¼š æ— æ‰€è°“çš„å‚æ•°
# d[0]ï¼š0ä¸ºå‡åºï¼Œ1ä¸ºé™åº
# å¦‚æœæ˜¯å­—ç¬¦å‹ï¼Œé‚£ä¹ˆâ€˜1â€™â€˜10â€™â€˜12â€™â€¦ æ‰æ˜¯â€˜2â€™â€™20â€˜ï¼Œå› ä¸ºPythonçš„æ¯”è¾ƒæ˜¯æŒ‰ç…§
    # æŒ‰åºæå–ç¬¬ä¸€ä¸ªå­—ç¬¦è¿›è¡Œæ¯”è¾ƒã€‚æ‰€ä»¥è¦æ’åºï¼Œè¿˜æ˜¯å¾—ç”¨int
# æ’åºä¹‹åè¢«è½¬æ¢ä¸ºlistç±»å‹ã€‚
for i in orderIDic:
            spamwriter.writerow(orderIDic[i])
# å˜ä¸º
for i in orderIDic:
            spamwriter.writerow(i[1])
</code></pre><hr><h4 id=namedtuple>namedtuple
<a class=anchor href=#namedtuple>#</a></h4><pre><code>import collections
person = collections.namedtuple('P', 'name age gender')
# P: ç±»å   åé¢ç©ºæ ¼éš”å¼€çš„ä¸ºå˜é‡åç§°

bob = person(name = 'B', age = 30, gender = 'male')
jane = Person(name = 'J', age = 29, gender = 'female')
for people in [bob, jane]:
    print (&quot;%s is %d years old %s&quot; % people)
</code></pre><p>å…ƒç»„çš„å‘½åâ€”â€” å‘½åä¹‹åå¯ä»¥ç”±bob.name æ¥è°ƒç”¨ ï¼ˆçœ‹äº†é‚£ä¸ªPythoné¢å‘å¯¹è±¡è¿›é˜¶ï¼Œ è€å¤š<code>__hahah__()</code>å‡½æ•°ä¹‹åï¼Œæ‰€ä»¥è¿™æ˜æ˜¾æ˜¯å½“æˆåŸºæœ¬ç±»çš„å˜é‡åœ¨ç”¨äº†ã€‚ emm è¿™ä¹ˆä¹ˆè¯´ä¹Ÿä¸è´´åˆ‡ ğŸ˜” æœç„¶ç†è§£ç¨‹åº¦è¿˜æ˜¯è·Ÿä¸ä¸Šçš„â€¦ emm ç°åœ¨éœ€è¦è·Ÿè¿›çš„ä¸æ˜¯æ€ä¹ˆç”¨Pythonäº†ï¼Œè€Œæ˜¯pythonçš„ç”¨æ³•äº†ï¼Œèµ°èµ·~ ç»§ç»­å†™futureç¬”è®°å»äº†â€”â€” è¿™ä¸ªå¾—çœ‹çš„æ˜ç™½ç‚¹å„¿ğŸ˜„ï¼‰</p><hr><hr><h3 id=csv>CSV
<a class=anchor href=#csv>#</a></h3><h4 id=è¯»å–>è¯»å–
<a class=anchor href=#%e8%af%bb%e5%8f%96>#</a></h4><pre><code>import csv
reader = csv.reader(open('test.csv', 'rb')) 
for item in reader:
    print item
</code></pre><h5 id=å®˜æ–¹æ˜¯è¿™ä¹ˆæ•™ä½ çš„>å®˜æ–¹æ˜¯è¿™ä¹ˆæ•™ä½ çš„
<a class=anchor href=#%e5%ae%98%e6%96%b9%e6%98%af%e8%bf%99%e4%b9%88%e6%95%99%e4%bd%a0%e7%9a%84>#</a></h5><pre><code>#æˆ‘è®°å¾—æˆ‘å†™è¿‡ä¸€æ¬¡ï¼Œæ€ä¹ˆä¸è§äº†â€¦
import csv
with open('names.csv') as csvfile:
    reader = csv.DictReader(csvfilr)
    for row in reader:
        print (row['first_name'], row['last_name'])
</code></pre><h4 id=å†™å…¥>å†™å…¥
<a class=anchor href=#%e5%86%99%e5%85%a5>#</a></h4><pre><code>import csv
writer = csv.writer(open('test2.csv', 'wb'))
writer.writerow(['col1', 'col2', 'col3'])
data = [range(3)  for i in range(3)]
for item in data:
    writer.writerow(item)
</code></pre><h5 id=å®˜æ–¹æ•™ä½ è¿™ä¹ˆå†™>å®˜æ–¹æ•™ä½ è¿™ä¹ˆå†™
<a class=anchor href=#%e5%ae%98%e6%96%b9%e6%95%99%e4%bd%a0%e8%bf%99%e4%b9%88%e5%86%99>#</a></h5><pre><code>import csv
with open('names.csv') as csvfile:
    fieldnames = ['first_name', 'last_name']
    writer = csv.DictWriter(csvfile, fieldnames = fieldnames)
    
    writer.writeheader()
    writer.writerow('first_name' : 'Naled', 'last_name' : 'Beans')
</code></pre><p>é¡»æ³¨æ„ä¹‹å¤„ï¼šwriter.writerow()æ–¹æ³•ä¸­çš„å‚æ•°æ˜¯listç±»å‹ï¼Œå¦‚æœä½ æƒ³åœ¨A1åˆ—å†™å…¥&rsquo;hello&rsquo;ï¼Œåˆ™å¿…é¡»æ˜¯writer.writerow(&lsquo;hello&rsquo;)ï¼Œä¸ç„¶&rsquo;hello&rsquo;ä¼šè¢«çœ‹æˆæ˜¯ä¸ªlistä»è€Œè¢«åˆ†å†™å…¥5åˆ—ã€‚å†™å…¥CSVæ—¶ï¼ŒCSVæ–‡ä»¶çš„åˆ›å»ºå¿…é¡»åŠ ä¸Š&rsquo;b&rsquo;å‚æ•°ï¼Œå³csv.writer(open(&rsquo;test.csv&rsquo;, &lsquo;wb&rsquo;))ï¼Œä¸ç„¶ä¼šå‡ºç°éš”è¡Œçš„ç°è±¡ã€‚ç½‘ä¸Šæœåˆ°çš„è§£é‡Šæ˜¯ï¼špythonæ­£å¸¸å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œæ¯è¡Œçš„ç»“æŸé»˜è®¤æ·»åŠ &rsquo;\nâ€™ï¼Œå³0x0Dï¼Œè€Œwriterowå‘½ä»¤çš„ç»“æŸä¼šå†å¢åŠ ä¸€ä¸ª0x0D0Aï¼Œå› æ­¤å¯¹äºwindowsç³»ç»Ÿæ¥è¯´ï¼Œå°±æ˜¯ä¸¤è¡Œï¼Œè€Œé‡‡ç”¨â€™b&rsquo;å‚æ•°ï¼Œç”¨äºŒè¿›åˆ¶è¿›è¡Œæ–‡ä»¶å†™å…¥ï¼Œç³»ç»Ÿé»˜è®¤æ˜¯ä¸æ·»åŠ 0x0Dçš„ã€‚</p><h4 id=å…³é—­>å…³é—­
<a class=anchor href=#%e5%85%b3%e9%97%ad>#</a></h4><pre><code>csvfile.close()
</code></pre><p>å€¼å¾—æ³¨æ„çš„æ˜¯ä¸Šé¢çš„æ–‡æ¡£æ˜¯è¦†ç›–å‹åˆ›å»ºï¼Œå³ï¼Œå†™æ•°æ®åªèƒ½åœ¨å…³é—­æ–‡æ¡£ä¹‹å‰å®Œæˆï¼Œä¹‹åå†æ‰“å¼€æ–‡ä»¶ï¼Œå†å†™å°±ä¼šè¦†ç›–æ‰ä¹‹å‰ï¼ˆæ¸…ç©ºå†å†™ï¼‰ ä¸‹é¢çš„txt <code>mode = 'a'</code> å°±å±äºæ·»åŠ å‹å†™å…¥äº†ï¼Œå†å…³é—­ä¹‹åå†æ‰“å¼€ä¼šåœ¨æœ€åä¸€æ¡å¼€å§‹ç»§ç»­æ·»åŠ ã€‚ç„¶åå°†csvä¸­çš„&rsquo;w&rsquo;æ›¿æ¢æˆâ€˜aâ€™å°±è¡Œäº†ã€‚è®°å¾—å¸¦ä¸Š&rsquo;b&rsquo;è¦ä¸ä¼šå‡ºç°æ•°æ®éš”è¡Œâ€¦éš”è¡Œæ˜¾ç¤º</p><h5 id=å®˜æ–¹è¿˜å«ä½ è¿™ä¹ˆå†™å˜>å®˜æ–¹è¿˜å«ä½ è¿™ä¹ˆå†™å˜
<a class=anchor href=#%e5%ae%98%e6%96%b9%e8%bf%98%e5%8f%ab%e4%bd%a0%e8%bf%99%e4%b9%88%e5%86%99%e5%98%9e>#</a></h5><pre><code>with open('na1me.csv', 'ab') as csvfile:
    spamwriter = csv.writer(csvfile, delimiter = ',')
    spamwriter.writerow(['adasd', 'w.c.w', 'lol'])
</code></pre><h3 id=txtä¿å­˜>txtä¿å­˜
<a class=anchor href=#txt%e4%bf%9d%e5%ad%98>#</a></h3><pre><code># åŸºæœ¬ä¸CSVä¸€è‡´ï¼Œemmå…¶å®éƒ½æ˜¯ä¿å­˜ä¸ºæ–‡æ¡£ï¼Œå°±åªæœ‰ä¸ªåç¼€åŒºåˆ«â€¦
def text_save(content,filename,mode='a'):
    # Try to save a list variable in txt file.
    file = open(filename,mode)
    file.write(str(content)+'\n')
    file.close()
text_save(np.mean(self.trueRange[start: ]), 'atr.txt')
</code></pre><p>å…³äºä¿å­˜è·¯å¾„å‘¢ï¼Œwindows ä¸‹å¿…é¡»?ç”¨ â€˜.\.\..â€™æ²¡é”™ï¼Œå½“å‰è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰å’Œç»å¯¹è·¯å¾„éƒ½æ˜¯è¿™æ ·ç”¨çš„</p><p><code>mode</code> <code>b</code>ä»£è¡¨äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ï¼Œè€Œ<code>a</code>å°±æœ‰ç”¨äº†ï¼Œè¡¨ç¤ºæœ‰æ­¤æ–‡ä»¶å°±æ‰“å¼€ï¼Œæ²¡çš„è¯å°±åˆ›å»ºã€‚</p><h3 id=json>json
<a class=anchor href=#json>#</a></h3><pre><code>å’Œä¸Šè¿°txtæ–‡ä»¶ä¿å­˜å·®ä¸è¿‡ï¼Œå—¯åº”è¯¥è¯´å®Œå…¨ä¸€æ ·ã€‚å› ä¸ºæˆ‘æ˜¯ç”¨çš„æ˜¯`json.dumps`
</code></pre><h4 id=dumpsloads>dumpsã€loads
<a class=anchor href=#dumpsloads>#</a></h4><pre><code>    è¿™ä¸¤ä¸ªè¯­å¥å‰è€…æ˜¯å°†å­—å…¸è½¬åŒ–ä¸ºstræ ¼å¼ï¼Œåè€…æ˜¯å°†strè½¬æ¢ä¸ºå­—å…¸ã€‚æ‰€ä»¥ä¿  
å­˜åˆ°æ–‡ä»¶ä¹Ÿä¸è¿‡æ˜¯ å­—å…¸ -&gt; str -&gt;(ç”¨`write`å†™å…¥)-&gt; æœ¬åœ°æ–‡ä»¶ï¼Œ åä¹‹ã€‚
    ä¸ä¹‹ç›¸å¯¹æ¯”çš„æ˜¯`dump`å’Œ`load`è¿™ä¸ªæ˜¯ç›´æ¥ä¿å­˜è‡³æ–‡ä»¶ï¼Œä½†`s`å¤šå¥½ç”¨
éœ€æ³¨æ„çš„æ˜¯`dumps`æœ‰`indent`å‚æ•°å¯ç”¨æ¥æŒ‡æ˜è½¬æ¢ä¸º`str`ä¹‹åçš„ç¼©è¿›å‚    
æ•°ã€‚ä¸€èˆ¬`4`ï¼ˆæ‰€ä»¥è¯´è¿™é‡Œè¯´çš„æ˜¯ç©ºæ ¼æ•°ï¼Ÿï¼‰ã€‚  å“¦ï¼Œ`loads`ç›´æ¥åŠ è½½æ–‡ä»¶ä¹Ÿ
è¡Œï¼Œä¸ç”¨è¯»å‡ºæ¥`str`å†å»è½¬æ¢
</code></pre><h3 id=shelve>Shelve
<a class=anchor href=#shelve>#</a></h3><pre><code>å¯¹è±¡çš„æŒä¹…åŒ–å­˜å‚¨â€”â€”
ç›®çš„ï¼šShelveæ¨¡å—ä¸ºä»»æ„èƒ½å¤Ÿpickleçš„Pythonå¯¹è±¡å®ç°æŒä¹…åŒ–å­˜å‚¨ï¼Œå¹¶æä¾›ä¸€ä¸ªç±»ä¼¼å­—å…¸çš„
</code></pre><h2 id=æ¥å£>æ¥å£ã€‚
<a class=anchor href=#%e6%8e%a5%e5%8f%a3>#</a></h2><hr><hr><h2 id=åˆ—è¡¨list>åˆ—è¡¨List
<a class=anchor href=#%e5%88%97%e8%a1%a8list>#</a></h2><p>éœ€æå‰å®šä¹‰ï¼Œä¸èƒ½åƒå˜é‡ä¸€æ ·éšç”¨éšå†™â€¦</p><p>ä»¥ä¸‹æ¥è‡ªäº <a href=http://www.jb51.net/article/47978.htm>Python åˆ—è¡¨(List)æ“ä½œæ–¹æ³•è¯¦è§£</a></p><h3 id=åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°:
<a class=anchor href=#%e5%88%97%e8%a1%a8%e6%93%8d%e4%bd%9c%e5%8c%85%e5%90%ab%e4%bb%a5%e4%b8%8b%e5%87%bd%e6%95%b0>#</a></h3><pre><code>cmp(list1, list2)       # æ¯”è¾ƒä¸¤ä¸ªåˆ—è¡¨çš„å…ƒç´  
len(list)               # åˆ—è¡¨å…ƒç´ ä¸ªæ•° 
max(list)               # è¿”å›åˆ—è¡¨å…ƒç´ æœ€å¤§å€¼ 
min(list)               # è¿”å›åˆ—è¡¨å…ƒç´ æœ€å°å€¼ 
list(seq)               # å°†å…ƒç»„è½¬æ¢ä¸ºåˆ—è¡¨ 
</code></pre><h3 id=åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•:
<a class=anchor href=#%e5%88%97%e8%a1%a8%e6%93%8d%e4%bd%9c%e5%8c%85%e5%90%ab%e4%bb%a5%e4%b8%8b%e6%96%b9%e6%b3%95>#</a></h3><pre><code>list.append(obj)        # åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡
list.count(obj)         # ç»Ÿè®¡æŸä¸ªå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°
list.extend(seq)        # åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§
    # è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰
list.index(obj)         # ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®
list.insert(index, obj) # å°†å¯¹è±¡æ’å…¥åˆ—è¡¨
list.pop(obj=list[-1])      #ç§»é™¤åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰
    #ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼
list.remove(obj)        # ç§»é™¤åˆ—è¡¨ä¸­æŸä¸ªå€¼çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹
list.reverse()          # åå‘åˆ—è¡¨ä¸­å…ƒç´ 
list.sort([func])           # å¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åº
</code></pre><h2 id=å­—ç¬¦ä¸²è¿æ¥>å­—ç¬¦ä¸²è¿æ¥
<a class=anchor href=#%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bf%9e%e6%8e%a5>#</a></h2><p>æ¥è‡ª<a href=http://www.cnblogs.com/chenjingyi/p/5741901.html>http://www.cnblogs.com/chenjingyi/p/5741901.html</a></p><h3 id=æ–¹æ³•ä¸€>æ–¹æ³•ä¸€
<a class=anchor href=#%e6%96%b9%e6%b3%95%e4%b8%80>#</a></h3><pre><code>website = 'python' + 'tab' + '.com'
</code></pre><h3 id=æ–¹æ³•äºŒ>æ–¹æ³•äºŒ
<a class=anchor href=#%e6%96%b9%e6%b3%95%e4%ba%8c>#</a></h3><pre><code>listStr = ['python', 'tab', '.com'] 
website = ''.join(listStr)
</code></pre><h3 id=æ–¹æ³•ä¸‰>æ–¹æ³•ä¸‰
<a class=anchor href=#%e6%96%b9%e6%b3%95%e4%b8%89>#</a></h3><pre><code>website = '%s%s%s' % ('python', 'tab', '.com')
</code></pre><p>ç»“è®ºï¼š è¿æ¥ä¸ªæ•°å°‘ä½¿ç”¨ä¸€ï¼Œä¸ªæ•°å¤šä½¿ç”¨äºŒã€‚ æ¨èï¼Œä½¿ç”¨ä¸‰ ~ ï¼Œ~</p><h2 id=æ‰‹åŠ¨ç¼–è¯‘pyæ–‡ä»¶>æ‰‹åŠ¨ç¼–è¯‘Pyæ–‡ä»¶
<a class=anchor href=#%e6%89%8b%e5%8a%a8%e7%bc%96%e8%af%91py%e6%96%87%e4%bb%b6>#</a></h2><pre><code>import compileall
compileall.compile_dir(ç›®å½•)
</code></pre><hr><hr><hr><h2 id=æ—¶é—´>æ—¶é—´
<a class=anchor href=#%e6%97%b6%e9%97%b4>#</a></h2><h4 id=datetime>datetime
<a class=anchor href=#datetime>#</a></h4><pre><code>from datetime import datetime
a = datetime.now().replace(hour=0, minute=0, second=0, microsecond=0) 
a.year  
a.hour      #int å‹å˜é‡
</code></pre><blockquote><p>2017</p></blockquote><blockquote><p>0</p></blockquote><blockquote><p>è·å–å½“å‰æœ¬æœºç”µè„‘ğŸ’»æ—¶é—´ï¼Œreplaceä¸ºè‡ªå®šä¹‰æŸä¸ªæ•°å€¼ã€‚å•ç‹¬è°ƒç”¨æŸä¸ªä¿¡æ¯å¦‚a.yearã€a.hour</p></blockquote><h4 id=datetime-ç±»å‹å˜é‡å¯ç›´æ¥ç›¸å‡è·å¾—é—´éš”æ—¥>datetime ç±»å‹å˜é‡å¯ç›´æ¥ç›¸å‡è·å¾—é—´éš”æ—¥
<a class=anchor href=#datetime-%e7%b1%bb%e5%9e%8b%e5%8f%98%e9%87%8f%e5%8f%af%e7%9b%b4%e6%8e%a5%e7%9b%b8%e5%87%8f%e8%8e%b7%e5%be%97%e9%97%b4%e9%9a%94%e6%97%a5>#</a></h4><pre><code>a = datetime.datetime.now()
# datetime.datetime(2017, 10, 18, 8, 52, 27, 5000)
b = datetime(2005, 2, 6)
# datetime.datetime(2005, 2, 6, 0, 0)
c = a - b 
# datetime.timedelta(4637, 31947, 5000)
c.days  # int å‹
</code></pre><blockquote><p>4637</p></blockquote><h4 id=timedelta>timedelta
<a class=anchor href=#timedelta>#</a></h4><p>timedeltaä¸ºdatetimeç±»å‹ç›¸å‡è€Œæ¥ï¼ˆdatetimeä¸èƒ½ç›¸åŠ â€¦ï¼‰ï¼Œç„¶åå˜ï¼Œdatetime.timedelta(1,35340)è¿™æ˜¯å®ƒçš„æ ·å­ï¼Œå‰æ˜¯å¤©æ•°ï¼Œåæ˜¯ç§’æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰ç›¸å‡å°±æ˜¯å‘Šè¯‰ä½ ç›¸è·å¤šå°‘å¤©é›¶å¤šå°‘ç§’ï¼Œéƒ½æ˜¯æ ‡å‡†å•ä½ï¼ˆè¯¯ï¼‰ã€‚è¦å–å‡ºå¯ <code>.days</code> å’Œ `seconds``</p><h3 id=æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´>æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´
<a class=anchor href=#%e6%a0%bc%e5%bc%8f%e5%8c%96%e8%be%93%e5%87%ba%e5%bd%93%e5%89%8d%e6%97%b6%e9%97%b4>#</a></h3><pre><code>import time
print time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time()))
</code></pre><blockquote><p>2017-08-21 10:54:31</p></blockquote><h3 id=time>time
<a class=anchor href=#time>#</a></h3><pre><code>import time
time.time()     # è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰
# è¿”å›å€¼ä¸ºfloat å¯ç›´æ¥æ‹¿æ¥è¿ç®—ï¼Œè¿˜æ˜¯å¾ˆèˆ’æœçš„ã€‚
</code></pre><hr><hr><h3 id=çº¿ç¨‹-threading>çº¿ç¨‹ threading
<a class=anchor href=#%e7%ba%bf%e7%a8%8b-threading>#</a></h3><h4 id=ç”¨äºå®ç°å®šæ—¶å™¨>ç”¨äºå®ç°å®šæ—¶å™¨
<a class=anchor href=#%e7%94%a8%e4%ba%8e%e5%ae%9e%e7%8e%b0%e5%ae%9a%e6%97%b6%e5%99%a8>#</a></h4><pre><code>import threading
def hel():
    print &quot;so you sucsessful to kill 5 seconde&quot;
time = threading.Timer(5, hel)
time.start()
</code></pre><blockquote><p>so you sucsessful to kill 5 seconde
åœ¨å‘½ä»¤è¡Œä¸­æŒ‰ä¸‹å›è½¦åæ¶ˆå¤±ï¼Œå¾ˆæœ‰æ„æ€ï¼Œå¹¶ä¸”å½“ç¬¬äºŒè°ƒç”¨æ—¶time.start()æ—¶å°±ä¼šâ€”â€”</p></blockquote><blockquote><p>RuntimeError: threads can only be started once</p></blockquote><h4 id=å¾ªç¯è°ƒç”¨>å¾ªç¯è°ƒç”¨
<a class=anchor href=#%e5%be%aa%e7%8e%af%e8%b0%83%e7%94%a8>#</a></h4><p>ä»¥ä¸Šçš„ä¸èƒ½å¾ªç¯è°ƒç”¨çš„è¯å°±æ²¡å•¥ä»·å€¼äº†ï¼Œæ‰€ä»¥ä¸‹é¢æœ‰ä¸ªå¦–è‰³ç”¨æ³•ä¸ºï¼š</p><pre><code>def fun():
    print &quot;So jian&quot;
    global timer
    timer = threading.Timer(5.5, fun)
    timer.start()
timer = threading.Timer(1, fun)
timer.start()
# é€šè¿‡è‡ªè°ƒè‡ªçš„æ–¹æ³•å¾ªç¯åˆ›å»ºæ—¶é—´çº¿ç¨‹ï¼Œå¦å¤–ï¼Œtimer.cancel()å¯åœæ­¢å®šæ—¶å™¨å·¥ä½œã€‚
# å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢ä¸å¾ªç¯è°ƒç”¨çš„ åœ¨æ‰§è¡Œå®Œå‡½æ•°ä¹‹åä¾ç„¶ä¼šæŒç»­è¿è¡Œ
# æ‰€ä»¥å¾—è®°å¾—å…³é—­ã€‚
</code></pre><p>æ¯”æ–¹è¯´è¿™ä¸ªå¦–è‰³â€¦â€¦å‘ƒ æœ¬æ¥æ‰“ç®—åœ¨è°ƒç”¨å‡½æ•°é‡Œå†™ä¸Šcancelä½†æ˜¯â€¦ä¾ç„¶ä¹‹åä¸èƒ½å†æ¬¡start()</p><h4 id=çº¿ç¨‹font-color10e5a6æ± font>çº¿ç¨‹æ± 
<a class=anchor href=#%e7%ba%bf%e7%a8%8bfont-color10e5a6%e6%b1%a0font>#</a></h4><p>è‡ªå®ç°æˆ–è€…ä½¿ç”¨<code>threadpool.ThreadPool</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> threadpool  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sayhello</span>(str):
</span></span><span style=display:flex><span>        print <span style=color:#e6db74>&#34;Hello &#34;</span>,str
</span></span><span style=display:flex><span>            time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    name_list <span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;dd&#39;</span>,<span style=color:#e6db74>&#39;aa&#39;</span>,<span style=color:#e6db74>&#39;bb&#39;</span>,<span style=color:#e6db74>&#39;cc&#39;</span>]
</span></span><span style=display:flex><span>    start_time <span style=color:#f92672>=</span> time<span style=color:#f92672>.</span>time()
</span></span><span style=display:flex><span>    pool <span style=color:#f92672>=</span> threadpool<span style=color:#f92672>.</span>ThreadPool(<span style=color:#ae81ff>10</span>) 
</span></span><span style=display:flex><span>    requests <span style=color:#f92672>=</span> threadpool<span style=color:#f92672>.</span>makeRequests(sayhello, name_list) 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> req <span style=color:#f92672>in</span> requests:
</span></span><span style=display:flex><span>        pool<span style=color:#f92672>.</span>putRequest(req) 
</span></span><span style=display:flex><span>    pool<span style=color:#f92672>.</span>wait() 
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;</span><span style=color:#e6db74>%d</span><span style=color:#e6db74> second&#39;</span><span style=color:#f92672>%</span> (time<span style=color:#f92672>.</span>time()<span style=color:#f92672>-</span>start_time)
</span></span></code></pre></div><hr><hr><hr><h1 id=math-åº“>Math åº“
<a class=anchor href=#math-%e5%ba%93>#</a></h1><pre><code>import math
</code></pre><h3 id=æ•°å€¼å–æ•´>æ•°å€¼å–æ•´
<a class=anchor href=#%e6%95%b0%e5%80%bc%e5%8f%96%e6%95%b4>#</a></h3><pre><code>ceilã€floor    è¿˜æœ‰ä¸€ä¸ªä¸æ˜¯æ­¤åº“ä¸­çš„round
</code></pre><p>æ‰¾æ¥ç¿»è¯‘å°±æ˜¯ ï¼š å°åŒºã€åœ°æ¿ã€å›åˆâ€¦â€¦â€¦â€¦ å¥½å§ï¼Œæ˜¯ï¼ˆæŠ¹ç°æ³¥è£…é•¶æ¿ã€æœ€ä½çš„ï¼Œæœ€å°çš„ã€å‘¨å›´ï¼Œå›´ç»•ï¼‰</p><pre><code># ä½¿ç”¨æ–¹æ³•ä¸ºï¼š
math.ceil(3.12)
math.floor(3.24)
round(3.51)
round(3.10999999999, 10)
#å–å€¼æ—¶çš„å‚è€ƒæ­¥é•¿ï¼Œå¥½åƒï¼ˆğŸ˜­ï¼‰æ˜¯10å°±æ˜¯æœ€å¤§æ­¥é•¿äº†ï¼Œå†å¤§æ²¡æ„ä¹‰
# æ‰‹åŠ¨èµ‹å€¼è¶…è¿‡9ä½ä¹Ÿå°±æ˜¯10ä½å°æ•°çš„æ—¶å€™åœ¨PyCharmé‡Œç›´æ¥èµ‹å€¼è°ƒè¯•å°±è‡ªå·±çº¦äº†ï¼Œ
# è€Œä¸€èˆ¬äº§ç”Ÿç²¾åº¦æ¼‚ç§»éƒ½æ˜¯åå‡ ä½å°æ•°å¼€å¤–çš„ã€‚emm   å°±è¿™ä¹ˆè¡¨è¾¾äº†ï¼Œçœ‹å¾—æ‡‚
</code></pre><blockquote><p>4.0</p></blockquote><blockquote><p>3.0</p></blockquote><blockquote><p>4.0</p></blockquote><blockquote><p>3.11</p></blockquote><hr><hr><hr><hr><h1 id=ä»¤ç¨‹åºæœ‰åºæ‰§è¡Œçš„æ–¹æ³•>ä»¤ç¨‹åºæœ‰åºæ‰§è¡Œçš„æ–¹æ³•
<a class=anchor href=#%e4%bb%a4%e7%a8%8b%e5%ba%8f%e6%9c%89%e5%ba%8f%e6%89%a7%e8%a1%8c%e7%9a%84%e6%96%b9%e6%b3%95>#</a></h1><h2 id=å¯¹è±¡ä¼ªç±»é—´å˜é‡ä¼ é€’>å¯¹è±¡ï¼ˆä¼ªç±»ï¼‰é—´å˜é‡ä¼ é€’
<a class=anchor href=#%e5%af%b9%e8%b1%a1%e4%bc%aa%e7%b1%bb%e9%97%b4%e5%8f%98%e9%87%8f%e4%bc%a0%e9%80%92>#</a></h2><p>Like Thisï¼š</p><pre><code>class A(object):
&quot;&quot;&quot;docstring for A&quot;&quot;&quot;
    def __init__(self, name):
        super(A, self).__init__()
        self.name = name
        self.a = 0
    def da(self):
        print self.name
        print self.a    
a = A('I am A')
a.da()


class B(object):
&quot;&quot;&quot;docstring for B&quot;&quot;&quot;
    def __init__(self, aclass):
        super(B, self).__init__()
        self.aclass = aclass
        self.aclass.a += 1
    def dada(self):
        self.aclass.da()
b = B(a)
b.dada()

class C(object):
&quot;&quot;&quot;docstring for B&quot;&quot;&quot;
    def __init__(self, aclass):
        super(C, self).__init__()
        self.aclass = aclass
        self.aclass.a += 1
    def dada(self):
        self.aclass.da()
c = C(a)
c.dada()
</code></pre><blockquote><p>I am A</p></blockquote><blockquote><p>0</p></blockquote><blockquote><p>I am A</p></blockquote><blockquote><p>1</p></blockquote><blockquote><p>I am A</p></blockquote><blockquote><p>2</p></blockquote><p>Bä¸Cåˆ†åˆ«åœ¨å»æ”¹å˜è¯»å–åœ¨Aä¸­å®šä¹‰çš„æ•°å€¼ã€‚ å—¯ï¼Œæ²¡é”™ï¼Œè¿™ä¹ˆçœ‹çš„ç”»ç¡®å®æ—¶PythonåŸºç¡€â€¦â€¦æ‰€ä»¥æ²¡æœ‰è¿™ä¸ªåŸºç¡€çš„æˆ‘çœ‹èµ·æ¥å‰æœŸè¿˜æŒºè´¹åŠ²ã€‚å½“ç„¶ï¼Œç†è§£å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯åœ¨å®ç°æ–¹æ³•ä¸Šä¸çŸ¥åŸç†çš„è¯å°±å¾ˆéš¾è¿‡ã€‚æœ€ä¸»è¦çš„æ˜¯ï¼ŒçŸ¥é“äº†åŸç†åœ¨è‡ªå·±ç¼–å†™çš„æ—¶å€™å¯ä»¥çš„å¿ƒç”¨æ‰‹ï¼Œä¿¡æ‰‹æ‹ˆæ¥ã€‚å—¯~ o(<em>ï¿£â–½ï¿£</em>)oå°±æ˜¯è¿™ä¹ˆå†™æ„å’Œæƒ¬æ„ã€‚åœ¨VN.PYä¸­æœ‰è®°å½•ï¼Œä¸è¿‡è¿˜æ˜¯æ‹¿è¿‡æ¥å§ï¼Œæ¯•ç«Ÿpythonç”¨æ³•</p><hr><h2 id=å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„æ–¹ä¾¿è°ƒç”¨>å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„ï¼Œæ–¹ä¾¿è°ƒç”¨~
<a class=anchor href=#%e5%ad%97%e5%85%b8%e4%b8%ad%e5%bb%ba%e7%ab%8b%e5%87%bd%e6%95%b0%e6%98%a0%e5%b0%84%e6%96%b9%e4%be%bf%e8%b0%83%e7%94%a8>#</a></h2><pre><code>def add(x, y):
    return x + y
def sub(x, y):
    return x - y
a = {'add':add, 'sub':sub}
a
a['add'](1, 2)
a['sub'](1, 2)
</code></pre><blockquote><p>{&lsquo;add&rsquo;: &lt;function add at 0x02D162B0>, &lsquo;sub&rsquo;: &lt;function sub at 0x02D16530>}</p></blockquote><blockquote><p>3</p></blockquote><blockquote><p>-1</p></blockquote><h3 id=collections-æ¨¡å—>collections æ¨¡å—
<a class=anchor href=#collections-%e6%a8%a1%e5%9d%97>#</a></h3><h4 id=namedtuple-1>namedtuple
<a class=anchor href=#namedtuple-1>#</a></h4><pre><code>ç»™å…ƒç»„å…ƒç´ å‘½åï¼ˆè²Œä¼¼å†™è¿‡è¿™ä¸ªç¬”è®°æ¬¸ï¼Œä¸è¿‡ç°åœ¨æ‰å‘ç°è¿™å‡ ä¸ªéƒ½æ˜¯åœ¨ä¸€ä¸ªæ¨¡å—ä¸‹çš„ï¼‰
</code></pre><h4 id=deque>deque
<a class=anchor href=#deque>#</a></h4><pre><code>#åŒç«¯é˜Ÿåˆ—  å¿«é€Ÿæ’å…¥ ä»¥åŠå–å‡º
l.insert(0, v)
l.pop(0)

l.popleft()
l.appendleft()
# æ•°æ®é‡å¤§æ—¶ï¼Œé€Ÿåº¦ä¼˜äºåŸç”Ÿlist
</code></pre><h6 id=a-game>a Game:
<a class=anchor href=#a-game>#</a></h6><pre><code>import sys
import time
from collections import deque
fancy_loading = deque('&gt;--------------------')
while True:
    print '\r%s' % ''.join(fancy_loading),
    fancy_loading.rotate(1)
    sys.stdout.flush()
    time.sleep(0.08)
    Result:
# ä¸€ä¸ªæ— å°½å¾ªç¯çš„è·‘é©¬ç¯
</code></pre><h4 id=counter>Counter
<a class=anchor href=#counter>#</a></h4><pre><code># è®¡æ•°å™¨
from collections import Counter
s = '''A Counter is a dict subclass for counting hashable objects. 
    It is an unordered collection where elements are stored as 
    dictionary keys and their counts are stored as dictionary values. 
    Counts are allowed to be any integer value including zero or 
    negative counts. The Counter class is similar to bags or multisets in other         
    languages.'''.lower()
c = Counter(s)
print c.most_common(5)
</code></pre><blockquote><p>[(&rsquo; &lsquo;, 54), (&rsquo;e&rsquo;, 32), (&rsquo;s&rsquo;, 25), (&lsquo;a&rsquo;, 24), (&rsquo;t&rsquo;, 24)]</p></blockquote><h4 id=orderdict>OrderDict
<a class=anchor href=#orderdict>#</a></h4><pre><code># æœ‰åºå­—å…¸ï¼šè®°å½•äº†æ•°æ®å­˜å…¥æ—¶çš„å…ˆåé¡ºåº
# ä¸è¿‡å‘ç°ä¸€ä¸ªéªšæ“ä½œï¼š
</code></pre><h4 id=defaultdict>defaultdict
<a class=anchor href=#defaultdict>#</a></h4><pre><code># é»˜è®¤å­—å…¸ï¼š å½“keyä¸å­˜åœ¨æ—¶ï¼Œè¿”å›æ­¤ç»“æœ
</code></pre><hr><h2 id=çº¿ç¨‹>çº¿ç¨‹
<a class=anchor href=#%e7%ba%bf%e7%a8%8b>#</a></h2><pre><code>åˆ›å»ºçº¿ç¨‹ï¼š ä½¿ç”¨Threadingæ¨¡å—åˆ›å»ºï¼Œä»threading.Threadç»§æ‰¿ï¼Œç„¶åé‡å†™__init__ å’Œrun æ–¹æ³•
</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#f92672>import</span> threading
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    exitFlag <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>myThread</span> (threading<span style=color:#f92672>.</span>Thread):   <span style=color:#75715e>#ç»§æ‰¿çˆ¶ç±»threading.Thread</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> __init__(self, threadID, name, counter):        
</span></span><span style=display:flex><span>            threading<span style=color:#f92672>.</span>Thread<span style=color:#f92672>.</span>__init__(self)
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>threadID <span style=color:#f92672>=</span> threadID
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>counter <span style=color:#f92672>=</span> counter
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>run</span>(self):      
</span></span><span style=display:flex><span>        <span style=color:#75715e>#æŠŠè¦æ‰§è¡Œçš„ä»£ç å†™åˆ°runå‡½æ•°é‡Œé¢ çº¿ç¨‹åœ¨åˆ›å»ºåä¼šç›´æ¥è¿è¡Œrunå‡½æ•° </span>
</span></span><span style=display:flex><span>            print <span style=color:#e6db74>&#34;Starting &#34;</span> <span style=color:#f92672>+</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>            å†™åˆ°è¿™å„¿
</span></span><span style=display:flex><span>            print <span style=color:#e6db74>&#34;Exiting &#34;</span> <span style=color:#f92672>+</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    thread1 <span style=color:#f92672>=</span> myThread(<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;Thread - 1&#34;</span> , <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    thread1 <span style=color:#f92672>=</span> myThread(<span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#34;Thread - 2&#34;</span> , <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¼€å¯</span>
</span></span><span style=display:flex><span>    thread1<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    thread2<span style=color:#f92672>.</span>start()
</span></span></code></pre></div><h3 id=çº¿ç¨‹åŒæ­¥>çº¿ç¨‹åŒæ­¥
<a class=anchor href=#%e7%ba%bf%e7%a8%8b%e5%90%8c%e6%ad%a5>#</a></h3><p>ä¸åŒçº¿ç¨‹å¯¹æŸä¸ªæ•°æ®åŒæ—¶ä¿®æ”¹å°±å¾ˆåˆºæ¿€ï¼Œæ‰€ä»¥éœ€è¦åŒæ­¥ã€‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©ä¸ï¼‰
å…¶å®ä¹Ÿç®€å•ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>import threading
threadingLock = threading.Lock()
# ä»è¿™å„¿é¢†ä¸€æŠŠé”
# ç„¶ååœ¨ run()å‡½æ•°ä¸­ï¼Œâ€œå†™åˆ°è¿™å„¿â€”â€”ä¹Ÿå°±æ˜¯å·¥ä½œå‡½æ•°ä¹‹å‰ï¼Œå†™ä¸Š
threadingLock.acquire()
# éšååœ¨å·¥ä½œå‡½æ•°ä¹‹å
# threadingLock.release()
</code></pre><p>ç„¶åæ‹¿åˆ°å°é”å­çš„å‡½æ•°å°±èƒ½è¿è¡Œï¼Œè¿è¡Œå®Œäº†æŠŠå°é”å­é‡Šæ”¾æ‰ã€‚ä¸ºå•¥ä¸æ˜¯é’¥åŒ™ğŸ”‘â€¦â€¦å¥½å§ã€‚æˆ‘å°±ç§°å‘¼å®ƒæˆ‘å°±ç§°å‘¼å®ƒæ¢­å­å§â€”â€”</p><h2 id=é˜Ÿåˆ—>é˜Ÿåˆ—
<a class=anchor href=#%e9%98%9f%e5%88%97>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=display:flex><span>    çº¿ç¨‹ä¼˜å…ˆçº§é˜Ÿåˆ—
</span></span><span style=display:flex><span>    Queue.qsize()	    è¿”å›é˜Ÿåˆ—çš„é‡Œç«™äº†å‡ ä¸ª
</span></span><span style=display:flex><span>    Queue.empty()           å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›True,åä¹‹False
</span></span><span style=display:flex><span>    Queue.full()            å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å›True,åä¹‹False
</span></span><span style=display:flex><span>    Queue.full ä¸ maxsize   å¤§å°å¯¹åº”
</span></span><span style=display:flex><span>    Queue.get([block[, timeout]]) 
</span></span><span style=display:flex><span>    	è·å–é˜Ÿåˆ—,timeout`ç­‰å¾…æ—¶é—´
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    Queue.get_nowait() ç›¸å½“ 
</span></span><span style=display:flex><span>    Queue.get(False)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    Queue.put(item) å†™å…¥é˜Ÿåˆ—ï¼Œtimeout ç­‰å¾…æ—¶é—´
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    Queue.put_nowait(item) ç›¸å½“
</span></span><span style=display:flex><span>    Queue.put(item, False)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    Queue.task_done()       åœ¨å®Œæˆä¸€é¡¹å·¥ä½œä¹‹åï¼Œ
</span></span><span style=display:flex><span>    Queue.task_done()       å‡½æ•°å‘ä»»åŠ¡å·²ç»å®Œæˆçš„é˜Ÿåˆ—å‘é€ä¸€ä¸ªä¿¡å·
</span></span><span style=display:flex><span>    Queue.join()            å®é™…ä¸Šæ„å‘³ç€ç­‰åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œå†æ‰§è¡Œåˆ«çš„æ“ä½œ
</span></span></code></pre></div><p>æ¥æ®µå„¿ç¤ºä¾‹ï¼šæ¥è‡ª<a href=http://www.runoob.com/python/python-multithreading.html>è¿™å„¿</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#75715e>#!/usr/bin/python</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># -*- coding: UTF-8 -*-</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> Queue
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> threading
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    exitFlag <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>myThread</span> (threading<span style=color:#f92672>.</span>Thread):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> __init__(self, threadID, name, q):
</span></span><span style=display:flex><span>            threading<span style=color:#f92672>.</span>Thread<span style=color:#f92672>.</span>__init__(self)
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>threadID <span style=color:#f92672>=</span> threadID
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>q <span style=color:#f92672>=</span> q
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>run</span>(self):
</span></span><span style=display:flex><span>            print <span style=color:#e6db74>&#34;Starting &#34;</span> <span style=color:#f92672>+</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>            process_data(self<span style=color:#f92672>.</span>name, self<span style=color:#f92672>.</span>q)
</span></span><span style=display:flex><span>            print <span style=color:#e6db74>&#34;Exiting &#34;</span> <span style=color:#f92672>+</span> self<span style=color:#f92672>.</span>name
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>process_data</span>(threadName, q):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> <span style=color:#f92672>not</span> exitFlag:
</span></span><span style=display:flex><span>            queueLock<span style=color:#f92672>.</span>acquire()
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> workQueue<span style=color:#f92672>.</span>empty():
</span></span><span style=display:flex><span>                data <span style=color:#f92672>=</span> q<span style=color:#f92672>.</span>get()  
</span></span><span style=display:flex><span>                queueLock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span>                print <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> processing </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span> (threadName, data)   
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                queueLock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span>            time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    threadList <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;Thread-1&#34;</span>, <span style=color:#e6db74>&#34;Thread-2&#34;</span>, <span style=color:#e6db74>&#34;Thread-3&#34;</span>]
</span></span><span style=display:flex><span>    nameList <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;One&#34;</span>, <span style=color:#e6db74>&#34;Two&#34;</span>, <span style=color:#e6db74>&#34;Three&#34;</span>, <span style=color:#e6db74>&#34;Four&#34;</span>, <span style=color:#e6db74>&#34;Five&#34;</span>]
</span></span><span style=display:flex><span>    queueLock <span style=color:#f92672>=</span> threading<span style=color:#f92672>.</span>Lock()
</span></span><span style=display:flex><span>    workQueue <span style=color:#f92672>=</span> Queue<span style=color:#f92672>.</span>Queue(<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>    threads <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    threadID <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e># åˆ›å»ºæ–°çº¿ç¨‹</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> tName <span style=color:#f92672>in</span> threadList:
</span></span><span style=display:flex><span>        thread <span style=color:#f92672>=</span> myThread(threadID, tName, workQueue)
</span></span><span style=display:flex><span>        thread<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>        threads<span style=color:#f92672>.</span>append(thread)
</span></span><span style=display:flex><span>        threadID <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¡«å……é˜Ÿåˆ—</span>
</span></span><span style=display:flex><span>    queueLock<span style=color:#f92672>.</span>acquire()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> word <span style=color:#f92672>in</span> nameList:
</span></span><span style=display:flex><span>        workQueue<span style=color:#f92672>.</span>put(word)
</span></span><span style=display:flex><span>    queueLock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç­‰å¾…é˜Ÿåˆ—æ¸…ç©º</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#f92672>not</span> workQueue<span style=color:#f92672>.</span>empty():    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e># é€šçŸ¥çº¿ç¨‹æ˜¯æ—¶å€™é€€å‡º</span>
</span></span><span style=display:flex><span>    exitFlag <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> t <span style=color:#f92672>in</span> threads:
</span></span><span style=display:flex><span>        t<span style=color:#f92672>.</span>join()
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#34;Exiting Main Thread&#34;</span>
</span></span></code></pre></div><blockquote><p>Starting Thread-1</p></blockquote><blockquote><p>Starting Thread-2</p></blockquote><blockquote><p>Starting Thread-3</p></blockquote><blockquote><p>Thread-1 processing One</p></blockquote><blockquote><p>Thread-2 processing Two</p></blockquote><blockquote><p>Thread-3 processing Three</p></blockquote><blockquote><p>Thread-1 processing Four</p></blockquote><blockquote><p>Thread-2 processing Five</p></blockquote><blockquote><p>Exiting Thread-3</p></blockquote><blockquote><p>Exiting Thread-1</p></blockquote><blockquote><p>Exiting Thread-2</p></blockquote><blockquote><p>Exiting Main Thread</p></blockquote><p>å‘ƒï¼Œ ä»¥ä¸Šå°±æ˜¯æˆ‘ç°çŸ¥é“çš„ç»ˆæç”¨æ³•ï¼Œå½“ç„¶å…¶åŸºç¡€äºï¼š</p><pre><code>workQueue = Queue.Queue(10)     
# åˆ›å»º+è®¾å®šé˜Ÿåˆ—é•¿åº¦ï¼ˆemm å°å¿ƒå¡æ­»å°±æ˜¯äº†ï¼‰
# åªè¦æ»¡äº†å†å¾€é‡Œå¡ç»å¯¹æ­»ï¼Œæ— æ„å¤–â€¦â€¦(lllï¿¢Ï‰ï¿¢)
workQueue.put(word) 
# å¾€é‡Œå¡ã€‚  åŸºç¡€å°±æ˜¯å¡ä¸ªæ•°å­—ï¼Œé«˜çº§å°±æ˜¯å¡ä¸ªçº¿ç¨‹
workQueue.get() 
# é¡ºåºå¾€å¤–å–
# æ‹¬å·é‡Œé‡Œé¢å¯ä»¥å†™è¿›å‚æ•°ï¼Œç„¶è€Œï¼Œä¾ç„¶æŒ‰ç…§é¡ºåºå¾€å¤–å–ï¼Œæ’é˜ŸåŠç†å•¥çš„ä¸å­˜åœ¨
# å¦å¤–ï¼Œé˜Ÿåˆ—ç©ºçš„è¯å–ä¾ç„¶ä¼šæ­»â€¦â€¦
</code></pre><h3 id=ä¸€äº›æ–¹æ³•>ä¸€äº›æ–¹æ³•
<a class=anchor href=#%e4%b8%80%e4%ba%9b%e6%96%b9%e6%b3%95>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    q <span style=color:#f92672>=</span> queue<span style=color:#f92672>.</span>Queue(maxsize<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>) 
</span></span><span style=display:flex><span>    q<span style=color:#f92672>.</span>qsize() <span style=color:#75715e>#æŸ¥çœ‹é˜Ÿåˆ—å¤§å° </span>
</span></span><span style=display:flex><span>    q<span style=color:#f92672>.</span>empty() <span style=color:#75715e>#åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º </span>
</span></span><span style=display:flex><span>    q<span style=color:#f92672>.</span>full() 
</span></span><span style=display:flex><span>    <span style=color:#75715e>#å¦‚æœmaxsizeè®¾ç½®äº†å¤§å°(eg:2)ï¼Œå¦‚æœq.put()äº†2ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›çœŸï¼Œåä¹‹ï¼Œåˆ™ä¸ºå‡ </span>
</span></span><span style=display:flex><span>    q<span style=color:#f92672>.</span>get_nowait() 
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ äº†ï¼Œåªç”¨q.get()</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>ï¼ˆ</span>å½“ç„¶<span style=color:#960050;background-color:#1e0010>ï¼Œ</span>å¯ä»¥è®¾ç½®<span style=color:#960050;background-color:#1e0010>`</span>q<span style=color:#f92672>.</span>get(block<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span><span style=color:#960050;background-color:#1e0010>ï¼‰`ï¼‰</span>ä¼šä½¿ç¨‹åºå¡ä½<span style=color:#960050;background-color:#1e0010>ï¼Œ</span>ç”¨q<span style=color:#f92672>.</span>get_nowait()åˆ™ä¼šæŠ¥é”™è€Œä¸å¡ä½ 
</span></span><span style=display:flex><span>    q<span style=color:#f92672>.</span>put_nowait() 
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¦‚æœmaxsizeè®¾ç½®äº†å¤§å°ï¼Œç”¨q.put()è¶…è¿‡èŒƒå›´åˆ™ä¼šå¡ä½ï¼ˆå½“ç„¶</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¯ä»¥è®¾ç½®å±æ€§q.put(block=False)ï¼‰ã€‚ç”¨q.put_nowait()åˆ™ä¼šæŠ¥é”™è€Œä¸å¡ä½</span>
</span></span></code></pre></div><hr><h3 id=è€å¤«çš„demo>è€å¤«çš„Demo
<a class=anchor href=#%e8%80%81%e5%a4%ab%e7%9a%84demo>#</a></h3><p><em><strong>æ¶ˆè´¹ç”Ÿäº§è€…å…³ç³»</strong></em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> threading
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> queue
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> threadpool
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pool <span style=color:#f92672>=</span> threadpool<span style=color:#f92672>.</span>ThreadPool(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>que <span style=color:#f92672>=</span> queue<span style=color:#f92672>.</span>Queue()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>dataList <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>dataList1 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#e6db74>&#39;a&#39;</span>, <span style=color:#e6db74>&#39;b&#39;</span>]
</span></span><span style=display:flex><span>dataList2 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>]
</span></span><span style=display:flex><span>dataList3 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>printLock <span style=color:#f92672>=</span> threading<span style=color:#f92672>.</span>Lock()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>workList <span style=color:#f92672>=</span> [dataList1, dataList2, dataList3]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>worker</span>():    
</span></span><span style=display:flex><span>   <span style=color:#75715e>## æ¶ˆè´¹è€…</span>
</span></span><span style=display:flex><span>   <span style=color:#75715e>#printLock.acquire()</span>
</span></span><span style=display:flex><span>    aaa <span style=color:#f92672>=</span> que<span style=color:#f92672>.</span>get()
</span></span><span style=display:flex><span>    print(aaa)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> aaa:
</span></span><span style=display:flex><span>        print (i)
</span></span><span style=display:flex><span>    <span style=color:#75715e>#printLock.release()</span>
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>geter</span>(task):
</span></span><span style=display:flex><span>    <span style=color:#75715e>## ç”Ÿäº§è€…</span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;emm, put in_:&#34;</span>, task)
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    que<span style=color:#f92672>.</span>put(task)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    a <span style=color:#f92672>=</span> threading<span style=color:#f92672>.</span>Thread(target<span style=color:#f92672>=</span>worker)
</span></span><span style=display:flex><span>    a<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> workList:
</span></span><span style=display:flex><span>    geter(i)
</span></span></code></pre></div><hr><hr><h2 id=è¿›ç¨‹>è¿›ç¨‹
<a class=anchor href=#%e8%bf%9b%e7%a8%8b>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> multiprocessing
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>worker_1</span>(interval, lock, low):
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;worker_1&#34;</span>)
</span></span><span style=display:flex><span>    print (time<span style=color:#f92672>.</span>time())
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>acquire()
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>0.1</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;I got the lock&#34;</span>)
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(interval)
</span></span><span style=display:flex><span>    print(low)
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;end worker_1&#34;</span>)
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>worker_2</span>(interval, lock):
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;worker_2&#34;</span>)
</span></span><span style=display:flex><span>    print (time<span style=color:#f92672>.</span>time())   
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>acquire()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;I got the lock&#34;</span>)
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(interval)
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;end worker_2&#34;</span>)
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>worker_3</span>(interval, lock):
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;worker_3&#34;</span>)
</span></span><span style=display:flex><span>    print (time<span style=color:#f92672>.</span>time())
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>acquire()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;I got the lock&#34;</span>)
</span></span><span style=display:flex><span>    time<span style=color:#f92672>.</span>sleep(interval)
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;end worker_3&#34;</span>)
</span></span><span style=display:flex><span>    lock<span style=color:#f92672>.</span>release()
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    printLock <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Lock()
</span></span><span style=display:flex><span>    <span style=color:#75715e># ğŸ”’ æ¥è‡ªå…³çˆ±çš„å°é”å­ </span>
</span></span><span style=display:flex><span>    p1 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target <span style=color:#f92672>=</span> worker_1, args <span style=color:#f92672>=</span> (<span style=color:#ae81ff>2</span>, printLock, [<span style=color:#e6db74>&#34;asd&#34;</span>, {<span style=color:#e6db74>&#39;s&#39;</span>:<span style=color:#ae81ff>1</span>}, [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>]]))<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    p2 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target <span style=color:#f92672>=</span> worker_2, args <span style=color:#f92672>=</span> (<span style=color:#ae81ff>3</span>, printLock))<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    p3 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target <span style=color:#f92672>=</span> worker_3, args <span style=color:#f92672>=</span> (<span style=color:#ae81ff>4</span>, printLock))<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    w <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;a&#39;</span>:p1, <span style=color:#e6db74>&#39;b&#39;</span>:p2, <span style=color:#e6db74>&#39;c&#39;</span>:p3}
</span></span><span style=display:flex><span>    <span style=color:#75715e># åˆ›å»ºä¸‰ä¸ªè¿›ç¨‹å»è¿è¡Œè¿™ä¸‰ä¸ªå‡½æ•°</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#p1.start()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#p2.start()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#p3.start()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#for i in w:</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#    w[i].start()</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¯åŠ¨è¿›ç¨‹</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;The number of CPU is:&#34;</span> <span style=color:#f92672>+</span> str(multiprocessing<span style=color:#f92672>.</span>cpu_count()))   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> p <span style=color:#f92672>in</span> multiprocessing<span style=color:#f92672>.</span>active_children():
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;child   p.name:&#34;</span> <span style=color:#f92672>+</span> p<span style=color:#f92672>.</span>name <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>p.id&#34;</span> <span style=color:#f92672>+</span> str(p<span style=color:#f92672>.</span>pid))
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;Main All Done&#34;</span>)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e># dt 2018å¹´5æœˆ18æ—¥11ç‚¹22åˆ†</span>
</span></span></code></pre></div><blockquote><p>worker_1
1526613489.1864893
worker_2
1526613489.1932006
The number of CPU is:4
child p.name:Process-3 p.id208
child p.name:Process-1 p.id206
child p.name:Process-2 p.id207
Main All Done
worker_3
1526613489.1968668
I got the lock
[&lsquo;asd&rsquo;, {&rsquo;s&rsquo;: 1}, [1, 2, 3]]
end worker_1
I got the lock</p><p>end worker_2
I got the lock
end worker_3</p></blockquote><p>æ’ä¸€å¥è¯
çº¿ç¨‹å’Œè¿›ç¨‹çš„å…³ç³»ï¼Œè²Œä¼¼ä¸ç”µè„‘åŒç³»ç»Ÿå’Œç³»ç»Ÿå†å¼€è™šæ‹Ÿæœºçš„å…³ç³»emm å¯¹äºèµ„æºåˆ©ç”¨çš„è§’åº¦ä¸Šã€‚</p><h5 id=æ²¡æœ‰ä¼ å‚çš„è¿›ç¨‹>æ²¡æœ‰ä¼ å‚çš„è¿›ç¨‹
<a class=anchor href=#%e6%b2%a1%e6%9c%89%e4%bc%a0%e5%8f%82%e7%9a%84%e8%bf%9b%e7%a8%8b>#</a></h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> multiprocessing
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>sayHello</span>():
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;hello~ I can see you&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    p1 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target<span style=color:#f92672>=</span>sayHello)
</span></span><span style=display:flex><span>    p2 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target<span style=color:#f92672>=</span>sayHello)
</span></span><span style=display:flex><span>    p3 <span style=color:#f92672>=</span> multiprocessing<span style=color:#f92672>.</span>Process(target<span style=color:#f92672>=</span>sayHello)
</span></span><span style=display:flex><span>    p1<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    p2<span style=color:#f92672>.</span>start()
</span></span><span style=display:flex><span>    p3<span style=color:#f92672>.</span>start()
</span></span></code></pre></div><p>å¦‚æœåªæ˜¯å•çº¯è¿è¡Œï¼Œè¿™æ ·å°±å¯ä»¥äº†ï¼Œä¹‹æ‰€ä»¥åšè¿™ä¸ªæµ‹è¯•æ˜¯å› ä¸ºæˆ‘å¿Œæƒ®äºé‚£ä¸ª<code>args</code>çš„ä¼ å‚ï¼Œæ¯•ç«Ÿ<code>()</code>é‡Œé¢è‹¥æœ‰å…ƒç´ å­˜åœ¨å°±å¿…é¡»è¦æœ‰é€—å·â€¦ çœ‹æ¥æ²¡æœ‰ä¼ å‚çš„è¯å°±ä¸éœ€è¦äº†
ä¸€ä¸ªå‚æ•°<code>a</code>çš„æ—¶å€™: <code>(a, )</code>emmmğŸ¤”</p><h3 id=å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»>å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»
<a class=anchor href=#%e5%b0%86%e8%bf%9b%e7%a8%8b%e5%ae%9a%e4%b9%89%e4%b8%ba%e7%b1%bb>#</a></h3><pre><code>import multiprocessing
import time
class ClockProcess(multiprocessing.Process):
    def __init__(self, interval):
        multiprocessing.Process.__init__(self)
        self.interval = interval
    def run(self):
        n = 5
        while n &gt; 0:
            print(&quot;the time is {0}&quot;.format(time.ctime()))
            time.sleep(self.interval)
            n -= 1 
if __name__ == '__main__':
    p = ClockProcess(3)
    p.start()
</code></pre><p>ä»¥ä¸Šï¼Œ<code>p.start()</code>è¢«è°ƒç”¨æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨<code>run()</code> å¦å¤–æ—¶é—´æˆ³éƒ½æ˜¯çæˆ³çš„ï¼Œæ‰€ä»¥â€¦ emm è¿™éƒ½ä¸€å¹´ä¹‹å‰çš„ä¸œè¥¿äº†ï¼Œç°åœ¨æ‰æƒ³èµ·æ¥æˆ³æ—¶é—´æœ‰ç‚¹å„¿çºªå¿µæ„ä¹‰(âŠ™ï¹âŠ™)</p><blockquote><p>2018å¹´5æœˆ18æ—¥</p></blockquote><h4 id=å±æ€§-1>å±æ€§
<a class=anchor href=#%e5%b1%9e%e6%80%a7-1>#</a></h4><pre><code>daemon ï¼šæ˜¯å¦ä¼´éšä¸»ç¨‹åºç»“æŸè€Œç»“æŸ
Lock: é”ï¼šï¼ˆå¦‚ä¸‹ï¼Œ é˜²æ­¢è®¿é—®å…±äº«èµ„æºæ—¶å†²çªï¼Œå¦‚ä»¥ä¸Šæ‰“å°æ—¶é—´æ—¶å‡ºç°çš„ä¸è¿ç»­æ‰“å°ğŸ˜°ï¼‰
def worker(lock, var):
    try:
        ***
    finally:
        lock.release()
lock = multiprocessing.Lock()
var = 'æˆ‘æ˜¯å˜é‡'
p = multiptocessing.Process(target = worker, args = (lock, var))
</code></pre><h2 id=font-colorcc0000è­¦ä¸ªå‘Šfont><em><strong>è­¦ä¸ªå‘Š</strong></em>
<a class=anchor href=#font-colorcc0000%e8%ad%a6%e4%b8%aa%e5%91%8afont>#</a></h2><p>åˆ›å»ºè¿›ç¨‹åˆ†æ”¯çš„å‡½æ•°é€‰æ‹©åªèƒ½éš¶å±äº<code>__main__</code>ä¸‹æˆ–è€…æ˜¯éš¶å±ä¸åˆ›å»ºè¿›ç¨‹çš„å‡½æ•°çº§åˆ«ç›¸åŒçš„çº§åˆ«ï¼Œä¾‹å¦‚ä»Šå¤©åœ¨mainä¸‹ä¸€ä¸ªå‡½æ•°ä¸­é€‰æ‹©ç›®æ ‡å‡½æ•°ä¸ºæ­¤å‡½æ•°çš„å‡½æ•°å°±ä¸å¯ä»¥â€¦ å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>a</span>():
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>c</span>(para):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>    	<span style=color:#f92672>*</span>(target<span style=color:#f92672>=</span>b, args<span style=color:#f92672>=</span>(<span style=color:#ae81ff>1</span>,)) 	<span style=color:#960050;background-color:#1e0010>ğŸŒ¹</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>*</span>(target<span style=color:#f92672>=</span>c, args<span style=color:#f92672>=</span>(<span style=color:#ae81ff>1</span>,)) 	<span style=color:#960050;background-color:#1e0010>âŒ</span>
</span></span><span style=display:flex><span>    	
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>b</span>(para):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span></code></pre></div><p>emmï¼Œä¸Šè¿°è¡¨è¿°çš„å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯æ˜¨å¤©åˆé‡æ–°çŠ¯äº†è¿™ä¸ªé—®é¢˜â€¦ è¿›ç¨‹çš„æ‰§è¡Œè€…æ”¾åˆ°äº†ç±»ä¸­çš„æŸä¸ªå‡½æ•°ï¼Œç„¶ååˆæå‡ºåˆ°<code>__main__ </code>ä¸­å‡½æ•°ï¼Œæ‰€ä»¥éƒ½ä¸èƒ½æ‰§è¡Œï¼Œæœ€ç»ˆæ”¾åˆ°`<strong>main</strong>``å¤–ï¼Œä¸å®ƒåŒçº§ï¼Œä¹Ÿå°±æ˜¯def å‰æ— ç©ºæ ¼ã€‚ æ‰èƒ½â€œå—å‘½â€ã€‚</p><h4 id=é€šè¿‡é˜Ÿåˆ—æ¥å­˜å‚¨ä¸åŒè¿›ç¨‹äº§ç”Ÿçš„ç»“æœ>é€šè¿‡é˜Ÿåˆ—æ¥å­˜å‚¨ä¸åŒè¿›ç¨‹äº§ç”Ÿçš„ç»“æœ
<a class=anchor href=#%e9%80%9a%e8%bf%87%e9%98%9f%e5%88%97%e6%9d%a5%e5%ad%98%e5%82%a8%e4%b8%8d%e5%90%8c%e8%bf%9b%e7%a8%8b%e4%ba%a7%e7%94%9f%e7%9a%84%e7%bb%93%e6%9e%9c>#</a></h4><p>{æ¥è‡ª}(<a href=https://blog.csdn.net/u014556057/article/details/66974452>https://blog.csdn.net/u014556057/article/details/66974452</a>)</p><pre tabindex=0><code># -*- coding:utf-8 -*-
from multiprocessing import Process, Queue, Lock

L = [1, 2, 3]


def add(q, lock, a, b):
    lock.acquire()  # åŠ é”é¿å…å†™å…¥æ—¶å‡ºç°ä¸å¯é¢„çŸ¥çš„é”™è¯¯
    L1 = range(a, b)
    lock.release()
    q.put(L1)
    print L1

if __name__ == &#39;__main__&#39;:
    q = Queue()
    lock = Lock()
    p1 = Process(target=add, args=(q, lock, 20, 30))
    p2 = Process(target=add, args=(q, lock, 30, 40))
    p1.start()
    p2.start()
    p1.join()
    p2.join()

    L += q.get() + q.get()
    print L
</code></pre><blockquote><p>[20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
[30, 31, 32, 33, 34, 35, 36, 37, 38, 39]
[1, 2, 3, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39]</p></blockquote><hr><hr><h2 id=å†åŠ ä¸€ä¸ªåç¨‹>å†åŠ ä¸€ä¸ªåç¨‹
<a class=anchor href=#%e5%86%8d%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%8d%8f%e7%a8%8b>#</a></h2><h3 id=åŸºç¡€å®ç°>åŸºç¡€å®ç°ï¼š
<a class=anchor href=#%e5%9f%ba%e7%a1%80%e5%ae%9e%e7%8e%b0>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># yield</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>creatAor</span>():
</span></span><span style=display:flex><span>    mylist <span style=color:#f92672>=</span> range(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> mylist:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> i<span style=color:#f92672>*</span>i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mygenerator <span style=color:#f92672>=</span> creatAor()  <span style=color:#75715e># ç”Ÿæˆä¸€ä¸ªç”Ÿæˆå™¨</span>
</span></span><span style=display:flex><span>print (mygenerator)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> mygenerator:
</span></span><span style=display:flex><span>    print (i)
</span></span></code></pre></div><blockquote><p>&lt;generator object creatAor at 0x7f54ed368f10>
0
1
4</p></blockquote><p>å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œå…¶è¿”å›å¹¶ä¸ç«‹é©¬æ‰§è¡Œï¼ˆæ˜¾ç¤ºï¼‰â€”â€”emm ç»è¿‡åå‡ åˆ†é’ŸğŸ˜°çš„è§‚å¯ŸğŸ‘€è¯´é‚£ä¹ˆç„ä¹ï¼Œ.å…¶å®å°±æ˜¯åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåœ¨<code>yield</code>å¤„æŠŠåé¢ç´§æ¥çš„ä¸œè¥¿è®°å½•ä¸‹æ¥ï¼Œä¹‹åæœ€åç”Ÿæˆä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ã€‚ æ‰€ä»¥ç½‘ä¸Šè¯´æ—¶ç”Ÿæˆå™¨ä¹Ÿä¸å¯åšéï¼Œä½†è¡¨è¾¾çœŸçš„æ˜¯â€¦â€¦ä¸è¿‡è²Œä¼¼.ä¸ä»…ä»…æ˜¯è®°å½•åé¢ç´§è·Ÿçš„ä¸œè¥¿â€¦</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> vim 
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>creatAor</span>():
</span></span><span style=display:flex><span>    mylist <span style=color:#f92672>=</span> range(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;so jia nei?&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> mylist:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;pre a hou ga&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> i<span style=color:#f92672>*</span>i
</span></span><span style=display:flex><span>        print (<span style=color:#e6db74>&#34;nihoua&#34;</span>)
</span></span><span style=display:flex><span>    print (<span style=color:#e6db74>&#34;2333333&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mygenerator <span style=color:#f92672>=</span> creatAor()
</span></span><span style=display:flex><span>print (mygenerator)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> mygenerator:
</span></span><span style=display:flex><span>    print (i)
</span></span></code></pre></div><blockquote><p>&lt;generator object creatAor at 0x7fe2585a8f10>
so jia nei?
pre a hou ga
0
nihoua
pre a hou ga
1
nihoua
pre a hou ga
4
nihoua
2333333</p></blockquote><p>æ‰€ä»¥çœ‹è¿™è‹—å¤´åƒæ˜¯é‡æ–°æ‰§è¡Œäº†ä¸€æ¬¡å‡½æ•°ï¼Œä½†æ˜¯å°†åé¢ç´§è·Ÿçš„ä¸œè¥¿ä¹Ÿè¿›è¡Œäº†è®°å½•</p><p>åº”ç”¨åˆ°åç¨‹ä¸­ï¼Œä¾¿æ˜¯ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>consumer</span>():
</span></span><span style=display:flex><span>    r <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> r
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> n:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;[CONSUMER] Consuming </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>....&#39;</span> <span style=color:#f92672>%</span> n)
</span></span><span style=display:flex><span>        time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;200 OK&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>produce</span>(c):
</span></span><span style=display:flex><span>    c<span style=color:#f92672>.</span>next()
</span></span><span style=display:flex><span>    n <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> n <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>:
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;[PRODUCER] Producing </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>...&#39;</span> <span style=color:#f92672>%</span> n)
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> c<span style=color:#f92672>.</span>send(n)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#39;[PRODUCER] Consumer return: </span><span style=color:#e6db74>%s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> r)
</span></span><span style=display:flex><span>    c<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__<span style=color:#f92672>==</span><span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    c <span style=color:#f92672>=</span> consumer()
</span></span><span style=display:flex><span>    produce(c)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> c:
</span></span><span style=display:flex><span>        print(i)
</span></span></code></pre></div><blockquote><p>[PRODUCER] Producing 1&mldr;
[CONSUMER] Consuming 1&mldr;.
[PRODUCER] Consumer return: 200 OK</p><p>[PRODUCER] Producing 2&mldr;
[CONSUMER] Consuming 2&mldr;.
[PRODUCER] Consumer return: 200 OK</p><p>[PRODUCER] Producing 3&mldr;
[CONSUMER] Consuming 3&mldr;.
[PRODUCER] Consumer return: 200 OK
&mldr;
&mldr;</p></blockquote><p>é‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆé“ç†å‘¢ï¼Ÿ</p><h4 id=send-next-æ–¹æ³•çš„èƒŒåä»Šç”Ÿ>send next æ–¹æ³•çš„èƒŒåä»Šç”Ÿ
<a class=anchor href=#send-next-%e6%96%b9%e6%b3%95%e7%9a%84%e8%83%8c%e5%90%8e%e4%bb%8a%e7%94%9f>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>my</span>():
</span></span><span style=display:flex><span>    value <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    value <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> value
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#39;finally: &#39;</span>, value)
</span></span><span style=display:flex><span>ge <span style=color:#f92672>=</span> my()
</span></span><span style=display:flex><span>print(ge<span style=color:#f92672>.</span>next())
</span></span><span style=display:flex><span>print(ge<span style=color:#f92672>.</span>send(<span style=color:#ae81ff>2</span>))
</span></span><span style=display:flex><span>print(ge<span style=color:#f92672>.</span>send(<span style=color:#ae81ff>3</span>))
</span></span></code></pre></div><blockquote><p>1
2
(&lsquo;finally: &lsquo;, 3)
Traceback (most recent call last):
File &ldquo;yield_emm3.py&rdquo;, line 8, in print(ge.send(3))
StopIteration</p></blockquote><p>å¯çŸ¥ï¼š
å½“<code>next</code>æ—¶ï¼Œ<code>yield</code>æŒ‚èµ·ï¼Œä½†å°†ä¹‹åçš„<code>1</code>è¿”å›ã€‚è€Œå<code>send</code>æ¿€æ´»äº†ä¹‹å‰æŒ‚èµ·èµ‹å€¼åŠ¨ä½œï¼Œä½†æ­¤æ—¶<code>yield 1</code>è¢«æ›¿æ¢ä¸º<code>send</code>æ¥çš„<code>2</code>æ‰€ä»¥<code>value</code>è¢«ç½®ä¸º<code>2</code>. å†ç¬¬ä¸‰æ¬¡è°ƒç”¨ï¼Œå®Œæˆèµ‹å€¼åŠ¨ä½œä¹‹åï¼Œç”±äºåªè¢«æŒ‚èµ·ä¸¤æ¬¡åŠ¨ä½œï¼Œè€Œè¿™é‡Œè°ƒå–äº†ä¸‰æ¬¡ï¼Œæ‰€ä»¥æŠ¥é”™ åœæ­¢é€’å½’ ã€‚è‹¥ç›´æ¥é€’å½’åˆ™å¾—åˆ°1 å’Œ None.</p><p>æ‰€ä»¥ <code>next</code>ä¸<code>send</code>éƒ½æ˜¯ç”¨æ¥æ¿€æ´»æŒ‚èµ·åŠ¨ä½œè€Œä½¿ç”¨çš„ï¼Œä½†<code>send</code>å¥½åœ¨å¯ä»¥ä¸ä¹‹äº¤äº’ã€‚
åœ¨<code>send``ä¹‹å‰éœ€å…ˆ</code>next<code>å¦åˆ™æç¤º</code>can&rsquo;t send * to a just-started generator`(âŠ™ï¹âŠ™) æˆ‘ä¸Šé¢é˜è¿°çš„æŒ‚èµ·ï¼Œæ¿€æ´»ï¼Œæ˜¯ä¸æ˜¯å‡ºç°äº†ä»€ä¹ˆåå·®â€¦</p><blockquote><p>2018å¹´5æœˆ18æ—¥16ç‚¹30åˆ†</p></blockquote><h3 id=è¾ƒå®Œå–„æ–¹æ¡ˆ>è¾ƒå®Œå–„æ–¹æ¡ˆï¼š
<a class=anchor href=#%e8%be%83%e5%ae%8c%e5%96%84%e6%96%b9%e6%a1%88>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># 1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> gevent
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>(n):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(n):
</span></span><span style=display:flex><span>       print gevent<span style=color:#f92672>.</span>getcurrent(), i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>g2 <span style=color:#f92672>=</span> gevent<span style=color:#f92672>.</span>spawn(f, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>g3 <span style=color:#f92672>=</span> gevent<span style=color:#f92672>.</span>spawn(f, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>g1<span style=color:#f92672>.</span>join()
</span></span><span style=display:flex><span>g3<span style=color:#f92672>.</span>join()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> gevent
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> gevent <span style=color:#f92672>import</span> monkey; monkey<span style=color:#f92672>.</span>patch_all()
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> urllib2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>(url):
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;GET: </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span> url
</span></span><span style=display:flex><span>    resp <span style=color:#f92672>=</span> urllib2<span style=color:#f92672>.</span>urlopen(url)
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> resp<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>    print <span style=color:#e6db74>&#39;[</span><span style=color:#e6db74>%d</span><span style=color:#e6db74>] bytes received from </span><span style=color:#e6db74>%s</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span> <span style=color:#f92672>%</span>(len(data), url)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>gevent<span style=color:#f92672>.</span>joinall([
</span></span><span style=display:flex><span>    gevent<span style=color:#f92672>.</span>spawn(f, <span style=color:#e6db74>&#39;http://www.cnblogs.com/kaituorensheng/&#39;</span>),
</span></span><span style=display:flex><span>    gevent<span style=color:#f92672>.</span>spawn(f, <span style=color:#e6db74>&#39;https://www.python.org/&#39;</span>),
</span></span><span style=display:flex><span>    gevent<span style=color:#f92672>.</span>spawn(f, <span style=color:#e6db74>&#39;https://www.baidu.com&#39;</span>),
</span></span><span style=display:flex><span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> gevent <span style=color:#f92672>import</span> monkey  
</span></span><span style=display:flex><span>monkey<span style=color:#f92672>.</span>patch_all()  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> gevent  
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> gevent <span style=color:#f92672>import</span> Greenlet  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Task</span>(Greenlet):  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, name):  
</span></span><span style=display:flex><span>        Greenlet<span style=color:#f92672>.</span>__init__(self)  
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name      
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_run</span>(self):  
</span></span><span style=display:flex><span>        print <span style=color:#e6db74>&#34;Task </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>: some task...&#34;</span> <span style=color:#f92672>%</span> self<span style=color:#f92672>.</span>name  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>t1 <span style=color:#f92672>=</span> Task(<span style=color:#e6db74>&#34;task1&#34;</span>)  
</span></span><span style=display:flex><span>t2 <span style=color:#f92672>=</span> Task(<span style=color:#e6db74>&#34;task2&#34;</span>)  
</span></span><span style=display:flex><span>t1<span style=color:#f92672>.</span>start()  
</span></span><span style=display:flex><span>t2<span style=color:#f92672>.</span>start()  
</span></span><span style=display:flex><span><span style=color:#75715e># here we are waiting all tasks  </span>
</span></span><span style=display:flex><span>gevent<span style=color:#f92672>.</span>joinall([t1,t2])  
</span></span></code></pre></div><p>å’Œçº¿ç¨‹ è¿›ç¨‹ å·®ä¸å¤šä¸€ä¸ªç”¨æ³•ï¼Œåªä¸è¿‡æ²¡é”ï¼Œä¹Ÿä¸éœ€è¦é”ã€‚</p><hr><hr><hr><h3 id=futures>futures
<a class=anchor href=#futures>#</a></h3><h4 id=futuresthreadpoolexecutor>futures.ThreadPoolExecutor
<a class=anchor href=#futuresthreadpoolexecutor>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#66d9ef>with</span> futures<span style=color:#f92672>.</span>ThreadPoolExecutor(<span style=color:#ae81ff>16</span>) <span style=color:#66d9ef>as</span> executor:
</span></span><span style=display:flex><span>    executor<span style=color:#f92672>.</span>map(run, urls)
</span></span><span style=display:flex><span>    <span style=color:#75715e># è¿™é‡Œæ˜¯ä¸ªçˆ¬è™«ï¼Œurlså°±æ˜¯ä¸€ä¸ªå‰æ–¹runå‡½æ•°çš„è¾“å…¥å˜é‡</span>
</span></span></code></pre></div><hr><hr><hr><h2 id=çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡>çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡
<a class=anchor href=#%e7%88%b6%e7%b1%bb%e4%b8%ad%e7%9a%84%e5%8f%98%e9%87%8f%e4%b8%8e%e7%b1%bb%e4%b8%ad%e5%8f%98%e9%87%8f>#</a></h2><p>åœ¨ä½¿ç”¨<code>self.a</code> çš„æ—¶å€™â€”â€”å‘ƒå…¶å®æ˜¯å®ä¾‹åŒ–ä¹‹åa.aæ—¶ï¼Œä¼šåªåœ¨çˆ¶ç±»ä¸­å¯»æ‰¾ç›¸å…³å˜é‡ï¼Œè€Œè§£å†³åŠæ³•å±…ç„¶æ˜¯å°†<code>super(A, self).__init__(CtaEngine, setting)</code>ç§»åŠ¨åˆ°å˜é‡å®šä¹‰ä¹‹åï¼Œæ‰€ä»¥è°è¯´è¿™ç©æ„æ”¾å‰é¢å’Œæ”¾åé¢æ²¡æœ‰åŒºåˆ«çš„ï¼ï¼ˆæ¬¸?ğŸ˜˜ è¿™ä¸ªä¹‹åæœ‰è¿‡è¯´æ˜ï¼Œä¸è¿‡å¿˜è®°å†™åœ¨å“ªå„¿äº†ï¼Œå†è¯´ä¸€ä¸‹ï¼Œå°±æ˜¯super&mldr;.è¡¨ç¤ºçˆ¶ç±»çš„åˆå§‹åŒ–åŠ¨ä½œï¼Œ__init__å› ä¸ºè¿™ä¸ªå‡½æ•°åå­çˆ¶ç›¸åŒä¸ä¼šé‡å†™ï¼Œä¼šåˆå¹¶ã€‚ï¼‰</p><h3 id=åˆ—è¡¨çš„å¢åˆ æ·»>åˆ—è¡¨çš„å¢åˆ æ·»
<a class=anchor href=#%e5%88%97%e8%a1%a8%e7%9a%84%e5%a2%9e%e5%88%a0%e6%b7%bb>#</a></h3><pre><code>append      # åœ¨æœ€åæ·»åŠ ä¸€å…ƒç´ 
extend      # c.extend(a) å°†åˆ—è¡¨aä¸­å…ƒç´ åŠ åˆ°cä¸­å»ã€‚å¯è‡ªåŠ 
+           # è¿æ¥ä¸¤æ–¹æ•°ç»„å…ƒç´  c = a + c        ç„¶è€Œåˆ›å»ºæ–°å¯¹è±¡ï¼Œè€—å†…å­˜â€¦ æ‰€ä»¥æ²¡å•¥
</code></pre><p>ç”¨</p><pre><code>del         # åˆ é™¤å¯¹åº”ä¸‹æ ‡å…ƒç´  del c[0] åˆ é™¤cåˆ—è¡¨ç¬¬ä¸€ä½å…ƒç´ 
pop         # c.pop()   åˆ é™¤æœ€åä¸€ä½å…ƒç´ 
remove      # åˆ é™¤æŒ‡å®šå€¼å…ƒç´ ï¼Œæœ‰ç›¸åŒå€¼æ—¶åªä¼šåˆ é™¤ç¬¬ä¸€ä½
[ : ]           # ä½¿ç”¨åˆ‡ç‰‡è¿›è¡Œåˆ é™¤
insert      # c.insert(0, 1)å°†1æ’å…¥åˆ°cçš„æœ€å‰æ–¹ï¼Œå¯æ’åˆ—è¡¨ï¼Œæ’å…¥è¿˜æ˜¯åˆ—è¡¨
</code></pre><h3 id=ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡---ä»£ç æ—¥å¿—>ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡ - ä»£ç æ—¥å¿—
<a class=anchor href=#%e4%b8%80%e4%b8%aa%e5%87%bd%e6%95%b0%e7%9a%84%e6%9c%89%e6%95%88%e6%96%b9%e5%bc%8f%e5%8f%aa%e5%9c%a8%e5%be%aa%e7%8e%af%e4%b8%ad%e6%89%a7%e8%a1%8c%e4%b8%80%e6%ac%a1---%e4%bb%a3%e7%a0%81%e6%97%a5%e5%bf%97>#</a></h3><p><a href=https://codeday.me/bug/20170901/65228.html>è¿™</a>æ˜¯åŸé“¾æ¥
emm ä»£ç åæ­£ç…§ç€è¾“å…¥æ˜¯ä¸ä¼šæœ‰ç»“æœçš„ï¼Œä½†æ„Ÿè§‰æŒºæœ‰æˆå…ˆä¿ç•™ï¼Œä»¥åæŠ€æœ¯æå‡å†æ¥çœ‹</p><h4 id=è‡ªå·±çš„æ–¹æ³•>è‡ªå·±çš„æ–¹æ³•
<a class=anchor href=#%e8%87%aa%e5%b7%b1%e7%9a%84%e6%96%b9%e6%b3%95>#</a></h4><p>è‡ªå·±çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå¾ˆæš´åŠ›ï¼Œå°±æ˜¯ç”¨å­—å…¸å•Šâ€”â€” å½“æ‰§è¡Œè¿‡ä¸€æ¬¡ä¹‹åç›´æ¥æŠŠè°ƒç”¨å…³ç³»æ‰­åˆ°åˆ«çš„åœ°æ–¹ï¼Œåæ­£åªè¦æ˜¯çŸ¥é“ç»“æœçš„åˆ¤æ–­éƒ½å¯ä»¥ç”¨å­—å…¸æ¥ä»£æ›¿ä¹ˆã€‚</p><h3 id=å‡½æ•°è°ƒç”¨å‡½æ•°-and-è¯­æ³•ç³–->å‡½æ•°è°ƒç”¨å‡½æ•° and è¯­æ³•ç³– @
<a class=anchor href=#%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8%e5%87%bd%e6%95%b0-and-%e8%af%ad%e6%b3%95%e7%b3%96->#</a></h3><pre><code>import time

def timehel(hell):
    def wrapper():
            start = time.clock()
            hell()
            end =time.clock()
            print 'used:', end - start
        return wrapper
</code></pre><p>@timehel
def foo():
print &lsquo;a ho ga&rsquo;</p><blockquote><p>a ho ga</p></blockquote><blockquote><p>used: 0.000489465229975</p></blockquote><p>å…¶ä¸Š@timehel å’Œ foo = timehel(foo)ç­‰ä»·ï¼ˆæ„Ÿè°¢<a href=http://www.cnblogs.com/rollenholt/archive/2012/05/02/2479833.html>è¢«é—å¿˜çš„åšå®¢</a>ï¼‰â€¦ å°±æ˜¯æŠŠä¸‹æ–¹å‡½æ•°å½“æˆè¾“å…¥ï¼Œç„¶åæ‰§è¡Œé€šä¿—æ¥ç¿»è¯‘å°±æ˜¯ï¼š</p><pre><code>@ï¼šå‘¼å«timehel   æ¥æ‰§è¡Œä¸‹é¢è¿™å­™å­ã€‚
</code></pre><p>è¿™é‡Œæ˜¯å®˜æ–¹æ•™ä½ æ€ä¹ˆç”¨ï¼š
<a href=https://wiki.python.org/moin/PythonDecoratorLibrary>https://wiki.python.org/moin/PythonDecoratorLibrary</a></p><p>å…¶ä¸­ å‡½æ•°ä¸­å®šä¹‰å‡½æ•°å°±ç±»ä¼¼äºâ€œçˆ¶å­å…³ç³»â€ï¼Œä¹Ÿæˆ–è€…å«å¦è¾Ÿç©ºé—´ã€‚æ¯æ¬¡æ‰§è¡Œçˆ¶å‡½æ•°æ—¶ï¼Œå­å‡½æ•°ä¼šæœ‰ä¹Ÿå°½åœ¨æ­¤æ—¶ä¼šæœ‰è¢«æ‰§è¡Œçš„æœºä¼šï¼Œä¼šä¸ä¼šè¢«æ‰§è¡Œï¼Œå°±çœ‹å…¶åœ¨å…¶çˆ¶äº²é¢å‰çš„è¡¨ç°äº†ï¼ˆä»–çˆ¸æœ‰æ²¡æœ‰å«ä»–ï¼ˆæœ‰æ²¡æœ‰è°ƒç”¨â€¦ï¼‰ï¼‰ã€‚</p><h3 id=å˜é‡ä½œç”¨åŸŸ>å˜é‡ä½œç”¨åŸŸ
<a class=anchor href=#%e5%8f%98%e9%87%8f%e4%bd%9c%e7%94%a8%e5%9f%9f>#</a></h3><p>å› ä¸ºä»è¿™ä¸ª@ è¿™å„¿å­¦åˆ°çš„ï¼Œæ‰€ä»¥ï¼š</p><pre><code>def hel(x):
    def inner():
        print x
    return inner
p1 = hel(1)
p1 = hel(1)

p1()
</code></pre><blockquote><p>1</p></blockquote><pre><code>p2()
</code></pre><blockquote><p>2</p></blockquote><p>é—­åŒ…â€”â€”å¦‚æœæ²¡æœ‰innerè¿™ä¸œè¥¿ï¼Œä¸‹é¢ç»ä¸ä¼šè¾“å‡ºä¸œè¥¿ï¼Œåè€Œä¼šæŠ¥é”™ã€‚ ç›´æ¥<code>p1</code>,<code>p2</code>åˆä¸ä¼šå†è¾“å‡ºä»»ä½•ä¸œè¥¿ï¼Œåªæœ‰åœ¨å®šä¹‰æ—¶ä¼šè¿è¡Œä¸€æ¬¡ã€‚ å¯¹æ¯”äº<code>def hel(x): print x</code> å…¶ä¸­å†…å±‚åŸå›  å…ˆä¸æ·±ç©¶ï¼Œå°±è„‘è¡¥æˆå¤–å±‚éœ€è¿è¡Œæ—¶æ‰èƒ½å»æ‰¾é‚£äº›å˜é‡ï¼Œè€Œå…¶ä¸­çš„å‡½æ•°ä¼šä¸»åŠ¨å»å¤–å›´æ‰¾æ‰€éœ€çš„å˜é‡ã€‚</p><h4 id=åº”ç”¨æ¡ˆä¾‹>åº”ç”¨æ¡ˆä¾‹
<a class=anchor href=#%e5%ba%94%e7%94%a8%e6%a1%88%e4%be%8b>#</a></h4><pre><code>import time

def coseTime(func):
    print func
    def inner(*args, **kwargs):
        print args, kwargs
        start = time.clock()
        func(*args, **kwargs)
        end = time.clock()
        print args, kwargs

        print ('Running time: %s Seconds' % (end-start))
    return inner

@coseTime
def hel(x):
    print ('hello~')

hel(12)
</code></pre><blockquote><p>&lt;function hel at 0x02BC5070>
(12,) {}
hello~
(12,) {}
Running time: 0.000446197317167 Seconds</p></blockquote><p>ç”¨æ¥æ— è§†å˜é‡æ¥è®°å½• å‡½æ•°è¿è¡Œæ‰€éœ€æ—¶é—´çš„â€”â€”åŒæ—¶è¾“å‡ºå…¶åœ¨è¿è¡Œæ—¶æ¥å…¥çš„å˜é‡</p><hr><hr><h2 id=functools>functools
<a class=anchor href=#functools>#</a></h2><p>å°±å§‘ä¸”æ”¾è¿™å„¿å§ï¼Œæ¯•ç«Ÿä¹Ÿç®—æ˜¯ä¸ºäº†æœ‰åºæ‰§è¡Œè€Œæ¥è§¦åˆ°çš„</p><h3 id=partial>partial
<a class=anchor href=#partial>#</a></h3><pre><code>import functools
def add(a, b):
    print a, b
    return a, b
addplus = functools.partial(add, 3)
addplus(7)
</code></pre><blockquote><p>3 7</p></blockquote><pre><code>addplus(add, b = 6)
addplus(7)
</code></pre><blockquote><p>7 6</p></blockquote><p>è¿™å‡½æ•°ä½œç”¨æ˜¯ æå‰ç»™å®šå‡½æ•°ä¸€ä¸ªå˜é‡å€¼â€¦The functools module is for higher-order functions: functions that act on or return other functions. In general, any callable object can be treated as a function for the purposes of this module.</p><p>æˆ‘çš„æ¥è§¦åœºæ™¯æ˜¯åœ¨PyQt ä¸­ä¿¡å·æ§½å¾ªç¯è¿æ¥æ—¶ï¼Œç”¨äº†partialåœ¨connectä¹‹å<code>.connect(partial(self.start, i))</code>å»å”¯ä¸€åŒ–ç›¸åŒåŠŸèƒ½çš„å¤ç”¨ã€‚ä¸è¿‡æˆ‘ä¹‹å‰ä¹Ÿåº”è¯¥å†™è¿‡ç±»ä¼¼çš„ï¼Œé‚£æ—¶æˆ‘æ‰¾çš„è§£å†³åŠæ³•æ—¶åœ¨è¿æ¥è°ƒç”¨æ—¶ä¼ å‚(åœ¨Python GUIé‡Œé¢åº”è¯¥ä¼šå†™æœ‰å§ï¼Œå‡å¦‚ä¸¤ä¸‰ä¸ªæœˆå‰æˆ‘æ²¡è„‘å­çŸ­æœŸæ€§å¤±å¿†çš„è¯ğŸ˜­)ã€‚emmé‚£ä¸ªä¼ å‚æ˜¯åˆ©ç”¨Qtæœºåˆ¶ ä¸çŸ¥é“å­°ä¼˜å­°åŠ£ğŸ˜„</p><pre><code>è¿æ°”å¥½ï¼Œç›´æ¥ç¿»åˆ°ï¼š
    â€”â€”é‚£é‡Œçš„åº”ç”¨åœºæ™¯æ˜¯åœ¨é¼ æ ‡ç‚¹å‡»æŒ‰é’®æ•è·ç‚¹å‡»äº‹ä»¶clickæ—¶ä¼ é€’çš„å‚æ•°~
</code></pre><h1 id=lambda>lambda
<a class=anchor href=#lambda>#</a></h1><p>ä½¿ç”¨æ–¹æ³•ä¸ºï¼š</p><pre><code>func = lambda x:x*x
# :å‰xè¡¨ç¤ºå‡½æ•°è¾“å…¥ï¼Œ:åä¸ºè¿”å›å€¼ï¼Œx*xæ˜¯è¿™ä¸ªå‡½æ•°æ”¶åˆ°è¾“å…¥åæ‰€æ‰§è¡Œçš„åŠ¨ä½œ
w = lambda x:func(x)
</code></pre><hr><hr><hr><hr><hr><h1 id=ç½‘ç»œç¼–ç¨‹>ç½‘ç»œç¼–ç¨‹
<a class=anchor href=#%e7%bd%91%e7%bb%9c%e7%bc%96%e7%a8%8b>#</a></h1><h2 id=socket>socket
<a class=anchor href=#socket>#</a></h2><pre><code>import socket
# æœåŠ¡ç«¯
s = socket.socket()
host = socket.gethostname()
port = 12345
s.bind((host, port))
s.listen(5)
while True:
    c, addr = s.accept()
    print &quot;link address is&quot;, addr
    c.send('welcome here')
    c.close()
# å®¢æˆ·ç«¯
s = socket.socket()
host = socket.gethostname()
port = 12345
s.connect((host, port))
# æ­¤æ—¶æœåŠ¡ç«¯ä¾¿å¼¹å‡º link address isï¼š('192.168.*.*', 64*5)
print s.recv(1024)
# å®¢æˆ·ç«¯æ˜¾ç¤ºwelcome here
</code></pre><h2 id=select----ä¸socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹>select : ä¸Socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹
<a class=anchor href=#select----%e4%b8%8esocket%e9%85%8d%e5%90%88%e7%9a%84%e8%b7%a8%e5%b9%b3%e5%8f%b0%e7%9a%84%e5%bc%82%e6%ad%a5io%e6%a8%a1%e5%9e%8b>#</a></h2><p>import select
import socket
import Queue</p><p>#create a socket
server = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
server.setblocking(False)
#set option reused
server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR , 1)</p><p>server_address= (&lsquo;192.168.1.102&rsquo;,10001)
server.bind(server_address)</p><p>server.listen(10)</p><p>#sockets from which we except to read
inputs = [server]</p><p>#sockets from which we expect to write
outputs = []</p><p>#Outgoing message queues (socket:Queue)
message_queues = {}</p><p>#A optional parameter for select is TIMEOUT
timeout = 20</p><p>while inputs:
print &ldquo;waiting for next event&rdquo;
readable , writable , exceptional = select.select(inputs, outputs, inputs, timeout)</p><pre><code># When timeout reached , select return three empty lists
if not (readable or writable or exceptional) :
    print &quot;Time out ! &quot;
    break;    
for s in readable :
    if s is server:
        # A &quot;readable&quot; socket is ready to accept a connection
        connection, client_address = s.accept()
        print &quot;    connection from &quot;, client_address
        connection.setblocking(0)
        inputs.append(connection)
        message_queues[connection] = Queue.Queue()
    else:
        data = s.recv(1024)
        if data :
            print &quot; received &quot; , data , &quot;from &quot;,s.getpeername()
            message_queues[s].put(data)
            # Add output channel for response    
            if s not in outputs:
                outputs.append(s)
        else:
            #Interpret empty result as closed connection
            print &quot;  closing&quot;, client_address
            if s in outputs :
                outputs.remove(s)
            inputs.remove(s)
            s.close()
            #remove message queue 
            del message_queues[s]
for s in writable:
    try:
        next_msg = message_queues[s].get_nowait()
    except Queue.Empty:
        print &quot; &quot; , s.getpeername() , 'queue empty'
        outputs.remove(s)
    else:
        print &quot; sending &quot; , next_msg , &quot; to &quot;, s.getpeername()
        s.send(next_msg)

for s in exceptional:
    print &quot; exception condition on &quot;, s.getpeername()
    #stop listening for input on the connection
    inputs.remove(s)
    if s in outputs:
        outputs.remove(s)
    s.close()
    #Remove message queue
    del message_queues[s]
</code></pre><p><a href=http://www.cnblogs.com/coser/archive/2012/01/06/2315216.html>ç³–æ‹Œå’¸é±¼ - è®°å½•å­¦ä¹ çš„ç‚¹ç‚¹æ»´æ»´~</a></p><p>ç®€å•æ¥è¯´ä¸€ä¸‹<code>select</code>çš„ä½œç”¨ï¼š
è¿”å›å€¼ï¼šä¸‰ä¸ªåˆ—è¡¨
selectæ–¹æ³•ç”¨æ¥ç›‘è§†æ–‡ä»¶æè¿°ç¬¦(å½“æ–‡ä»¶æè¿°ç¬¦æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œselectä¼šé˜»å¡)ï¼Œå½“æŸä¸ªæ–‡ä»¶æè¿°ç¬¦çŠ¶æ€æ”¹å˜åï¼Œä¼šè¿”å›ä¸‰ä¸ªåˆ—è¡¨
1ã€å½“å‚æ•°1 åºåˆ—ä¸­çš„fdæ»¡è¶³â€œå¯è¯»â€æ¡ä»¶æ—¶ï¼Œåˆ™è·å–å‘ç”Ÿå˜åŒ–çš„fdå¹¶æ·»åŠ åˆ°fd_r_listä¸­
2ã€å½“å‚æ•°2 åºåˆ—ä¸­å«æœ‰fdæ—¶ï¼Œåˆ™å°†è¯¥åºåˆ—ä¸­æ‰€æœ‰çš„fdæ·»åŠ åˆ° fd_w_listä¸­
3ã€å½“å‚æ•°3 åºåˆ—ä¸­çš„fdå‘ç”Ÿé”™è¯¯æ—¶ï¼Œåˆ™å°†è¯¥å‘ç”Ÿé”™è¯¯çš„fdæ·»åŠ åˆ° fd_e_listä¸­
4ã€å½“è¶…æ—¶æ—¶é—´ä¸ºç©ºï¼Œåˆ™selectä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°ç›‘å¬çš„å¥æŸ„å‘ç”Ÿå˜åŒ–
å½“è¶…æ—¶æ—¶é—´ ï¼ n(æ­£æ•´æ•°)æ—¶ï¼Œé‚£ä¹ˆå¦‚æœç›‘å¬çš„å¥æŸ„å‡æ— ä»»ä½•å˜åŒ–ï¼Œåˆ™selectä¼šé˜»å¡nç§’ï¼Œä¹‹åè¿”å›ä¸‰ä¸ªç©ºåˆ—è¡¨ï¼Œå¦‚æœç›‘å¬çš„å¥æŸ„æœ‰å˜åŒ–ï¼Œåˆ™ç›´æ¥æ‰§è¡Œã€‚
<code>epoll</code>å¾ˆå¥½çš„æ”¹è¿›äº†<code>select</code> å…·ä½“è¯·çœ‹(æ·±å…¥ç†è§£pythonä¸­çš„selectæ¨¡å—)[http://blog.csdn.net/songfreeman/article/details/51179213]</p><hr><hr><hr><h2 id=å¼•ç”¨æ¨¡å—>å¼•ç”¨æ¨¡å—
<a class=anchor href=#%e5%bc%95%e7%94%a8%e6%a8%a1%e5%9d%97>#</a></h2><p>action.pyä¸­å¼•ç”¨model.pyä¸ºä¾‹</p><h3 id=åŒä¸€æ–‡ä»¶å¤¹ä¸‹>åŒä¸€æ–‡ä»¶å¤¹ä¸‹
<a class=anchor href=#%e5%90%8c%e4%b8%80%e6%96%87%e4%bb%b6%e5%a4%b9%e4%b8%8b>#</a></h3><pre><code>from model import *
# or
import model
</code></pre><h3 id=å…¶ä¸‹çº§æ–‡ä»¶hereä¸‹>å…¶ä¸‹çº§æ–‡ä»¶"here"ä¸‹
<a class=anchor href=#%e5%85%b6%e4%b8%8b%e7%ba%a7%e6%96%87%e4%bb%b6here%e4%b8%8b>#</a></h3><pre><code># åœ¨model.py æ–‡ä»¶ä¸­åˆ›å»º__init__.pyç©ºæ–‡ä»¶
from here import model
# or
form here.model import *
</code></pre><h3 id=åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹>åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹
<a class=anchor href=#%e5%9c%a8%e4%b8%8a%e7%ba%a7%e6%96%87%e4%bb%b6%e4%b8%8b>#</a></h3><pre><code>import sys
sys.path.append(&quot;..&quot;)
# æ·»åŠ ä¸Šçº§æ–‡ä»¶ è·¯å¾„
# import model
</code></pre><h3 id=åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ä¹Ÿå°±æ˜¯åœ¨éš”å£wangæ–‡ä»¶ä¸­>åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå°±æ˜¯åœ¨éš”å£â€œwangâ€æ–‡ä»¶ä¸­ï¼‰
<a class=anchor href=#%e5%9c%a8%e4%b8%8a%e7%ba%a7%e6%96%87%e4%bb%b6%e7%9a%84%e4%b8%8b%e7%ba%a7%e6%96%87%e4%bb%b6%e4%b8%ad%e4%b9%9f%e5%b0%b1%e6%98%af%e5%9c%a8%e9%9a%94%e5%a3%81wang%e6%96%87%e4%bb%b6%e4%b8%ad>#</a></h3><pre><code># éœ€è¦åˆ›å»º__init__.pyç©ºæ–‡ä»¶
# æ·»åŠ ä¸Šçº§æ–‡ä»¶è·¯å¾„
import wang.model
</code></pre><h2 id=è§£å†³ç¼–ç é—®é¢˜>è§£å†³ç¼–ç é—®é¢˜
<a class=anchor href=#%e8%a7%a3%e5%86%b3%e7%bc%96%e7%a0%81%e9%97%ae%e9%a2%98>#</a></h2><pre><code>import sys
reload(sys) 
sys.setdefaultencoding('utf8')
# è¿™æ®µç›´æ¥å¡å®ƒå˜´é‡Œ
</code></pre><h3 id=è¾“å‡ºæç¤ºæ‰“å°ä¹±ç >è¾“å‡ºæç¤ºæ‰“å°ä¹±ç 
<a class=anchor href=#%e8%be%93%e5%87%ba%e6%8f%90%e7%a4%ba%e6%89%93%e5%8d%b0%e4%b9%b1%e7%a0%81>#</a></h3><pre><code>#coding: utf-8  
n=raw_input(unicode('è¯·è¾“å…¥æ–‡å­—','utf-8').encode('gbk'))  
print n  
</code></pre><h3 id=å†…å­˜å¼‚å¸¸å ç”¨>å†…å­˜å¼‚å¸¸å ç”¨
<a class=anchor href=#%e5%86%85%e5%ad%98%e5%bc%82%e5%b8%b8%e5%8d%a0%e7%94%a8>#</a></h3><pre><code>import sys
v = 1
sys.getsizeof(v)
# å¯ä»¥è¯»å‡º æ­¤å˜é‡emm æˆ–è€…è¯´ å¯¹è±¡çš„å†…å­˜å ç”¨å¤§å°
</code></pre><h2 id=å¼‚å¸¸>å¼‚å¸¸
<a class=anchor href=#%e5%bc%82%e5%b8%b8>#</a></h2><h3 id=plan1->plan1 ï¼š
<a class=anchor href=#plan1->#</a></h3><pre><code>try:
#æ­£å¸¸çš„æ“ä½œ
except:
#å‘ç”Ÿå¼‚å¸¸ï¼Œæ‰§è¡Œè¿™å—ä»£ç 
else:
#å¦‚æœæ²¡æœ‰å¼‚å¸¸æ‰§è¡Œè¿™å—ä»£ç (åœ¨æ‰§è¡Œå®Œtryä¸‹å‡½æ•°æ²¡æœ‰å¼‚å¸¸å‘ç”Ÿ)
</code></pre><h3 id=åˆ—è¡¨çš„å‘>åˆ—è¡¨çš„å‘
<a class=anchor href=#%e5%88%97%e8%a1%a8%e7%9a%84%e5%9d%91>#</a></h3><p>å½“a ä¸ºä¸€ä¸ªåˆ—è¡¨
a = [1, 2, 3]
b = a
c = a
d = a
b.append(4)</p><p>è¿™æ—¶ï¼Œabcdå››ä¸ªåˆ—è¡¨éƒ½å˜æˆ[1, 2, 3, 4]ï¼Œemmâ€¦ æ‰€ä»¥ç›´æ¥ä»¥åä¸è¦æŠŠä¸€ä¸ªåˆ—è¡¨èµ‹å€¼ç»™ä¸¤ä¸ªå˜é‡â€¦é™¤éä¸æ¶‰åŠä¿®æ”¹ï¼Œæ…é‡æ…é‡ã€‚ã€‚ä¸è¿‡pythonä¸­åˆ—è¡¨æœ‰<code>copy</code>ä¸€è¯´ï¼Œä¸è¿‡è¿˜æ²¡è¯•è¿‡</p><h3 id=staticmethod>@staticmethod
<a class=anchor href=#staticmethod>#</a></h3><pre><code>å®šä¹‰ç±»ä¸­çš„çš„è¿™ä¸ªæ–¹æ³•ä¸ºé™æ€æ–¹æ³•ï¼ŒåŒç†çš„è¿˜æœ‰`@classmethod`ç±»æ–¹æ³•ã€‚
</code></pre><h3 id=å¸¸è§å¼‚å¸¸>å¸¸è§å¼‚å¸¸
<a class=anchor href=#%e5%b8%b8%e8%a7%81%e5%bc%82%e5%b8%b8>#</a></h3><pre><code>1.AssertionErrorï¼šå½“assertæ–­è¨€æ¡ä»¶ä¸ºå‡çš„æ—¶å€™æŠ›å‡ºçš„å¼‚å¸¸
2.AttributeErrorï¼šå½“è®¿é—®çš„å¯¹è±¡å±æ€§ä¸å­˜åœ¨çš„æ—¶å€™æŠ›å‡ºçš„å¼‚å¸¸
3.IndexErrorï¼šè¶…å‡ºå¯¹è±¡ç´¢å¼•çš„èŒƒå›´æ—¶æŠ›å‡ºçš„å¼‚å¸¸
4.KeyErrorï¼šåœ¨å­—å…¸ä¸­æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨çš„keyæŠ›å‡ºçš„å¼‚å¸¸
5.NameErrorï¼šè®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„å˜é‡æ—¶æŠ›å‡ºçš„å¼‚å¸¸
6.OSErrorï¼šæ“ä½œç³»ç»Ÿäº§ç”Ÿçš„å¼‚å¸¸
7.SyntaxErrorï¼šè¯­æ³•é”™è¯¯æ—¶ä¼šæŠ›å‡ºæ­¤å¼‚å¸¸
8.TypeErrorï¼šç±»å‹é”™è¯¯ï¼Œé€šå¸¸æ˜¯ä¸é€šç±»å‹ä¹‹é—´çš„æ“ä½œä¼šå‡ºç°æ­¤å¼‚å¸¸
9.ZeroDivisionErrorï¼šè¿›è¡Œæ•°å­¦è¿ç®—æ—¶é™¤æ•°ä¸º0æ—¶ä¼šå‡ºç°æ­¤å¼‚å¸¸Â·Â·
</code></pre><hr><hr><hr><h1 id=äº‹ä»¶æ¨¡å¼ä¸­äº‹ä»¶ç¯¡æ”¹äº‹æ•…>äº‹ä»¶æ¨¡å¼ä¸­ï¼Œäº‹ä»¶ç¯¡æ”¹äº‹æ•…
<a class=anchor href=#%e4%ba%8b%e4%bb%b6%e6%a8%a1%e5%bc%8f%e4%b8%ad%e4%ba%8b%e4%bb%b6%e7%af%a1%e6%94%b9%e4%ba%8b%e6%95%85>#</a></h1><p>åœ¨å¾ªç¯åˆ›å»ºäº‹ä»¶æ—¶ï¼Œå°†<code>event</code> <code>put</code>åˆ°é˜Ÿåˆ—ä¸­ï¼Œæ­¤æ—¶ï¼Œè¢«å¤„ç†ä¸€åŠï¼Œå› ä¸ºä¸åœ¨ä¸€ä¸ªçº¿ç¨‹æ‰€ä»¥ä¸‹ä¸€ä¸ªå¾ªç¯æ¥ä¸´å°±å°†<code>event</code>çš„å†…å®¹è¿›è¡Œäº†ä¿®æ”¹ã€‚ æœç»æ­¤æ–¹æ³•é™¤äº†æ·»åŠ é”ï¼Œåªå¥½å°†äº‹ä»¶<code>copy</code>ä¹‹åå†ä¼ å…¥æ—¶é—´å¼•æ“ã€‚å¦‚æ­¤ä¾¿å¯æš‚é˜²æ­¢äº‹ä»¶å¤„ç†ä¸€åŠè¢«ä¿®æ”¹çš„äº‹æƒ…å‘ç”Ÿã€‚</p><hr><hr><hr><h1 id=ä»£ç å—æ³¨é‡Š>ä»£ç å—æ³¨é‡Š
<a class=anchor href=#%e4%bb%a3%e7%a0%81%e5%9d%97%e6%b3%a8%e9%87%8a>#</a></h1><p><a href=https://www.jetbrains.com/help/pycharm/surrounding-blocks-of-code-with-language-constructs.html>Surrounding Blocks of Code with Language Constructs</a></p><h3 id=visualstudioæ¨¡å¼>VisualStudioæ¨¡å¼ï¼š
<a class=anchor href=#visualstudio%e6%a8%a1%e5%bc%8f>#</a></h3><pre><code>#region Description(è¯´æ˜)
print &quot;code here&quot;
#endregion
</code></pre><h3 id=netbeansæ¨¡å¼>NetBeansæ¨¡å¼ï¼š
<a class=anchor href=#netbeans%e6%a8%a1%e5%bc%8f>#</a></h3><pre><code>// &lt;editor-fold desc=&quot;Description&quot;&gt;
code here
// &lt;/editor-fold&gt;
</code></pre><h1 id=ç±»>ç±»
<a class=anchor href=#%e7%b1%bb>#</a></h1><pre><code>ä»¥åè¯¦è°ˆï¼Œæœ¬ç€ä¸€åˆ‡çš†å¯¹è±¡çš„åŸåˆ™ï¼Œæ‰€ä»¥å¯¹äºç±»çš„äº†è§£å†³å®šäº†Pythonçš„è®¤çŸ¥ï¼Œå…ˆè®°ä¸€ä¸ª
def __init__(self):
        super(Proformance, self).__init__()
#è¿™ä¸ªsuperè¡¨ç¤ºäº†ç»§æ‰¿ç±»å’Œè¢«ç»§æ‰¿ç±»çš„ __init__è°ƒç”¨æ—¶åºï¼Œå…¶å®ƒé‡åå‡½æ•°æ˜¯è¦†ç›–ï¼Œè¿™ä¸ªâ€¦â€¦
</code></pre><h2 id=æ•°æ®ç±»>æ•°æ®ç±»
<a class=anchor href=#%e6%95%b0%e6%8d%ae%e7%b1%bb>#</a></h2><p>ç”¨ä¸€ä¸ªç±»æ¥è¡¨ç¤ºä¸€ä¸ªæ•°æ®ç±»å‹ï¼ˆè¿™å‡ å¤©æƒ³ç€è¿™ä¸ªè¡¨ç¤ºä¸åŒæ•°æ®ç±»å‹çš„ç»„åˆæ–¹æ³•æ°ç±»ä¼¼äºCä¸­çš„ç»“æ„ä½“ï¼Œç„¶å<code>Python</code>ä¸­çš„æ•°ç»„å…ƒç´ å­˜å‚¨å„ç§ä¸œè¥¿ä»€ä¹ˆç±»å•Šã€æ•°ç»„å¥—æ•°ç»„å•Šï¼Œå­—å…¸å­˜å‚¨å•Šï¼Œæ°å·§ä¸Cä¸­çš„æŒ‡é’ˆæŒ‡å‘æŒ‡é’ˆâ€¦â€¦emm ï¼‰å¦‚ï¼š</p><pre><code>class A(object):
    def __init__(self):
    self.a = 'a'
    self.b = 'b'
A().__dict__
</code></pre><blockquote><p>{&lsquo;a&rsquo;: &lsquo;a&rsquo;, &lsquo;b&rsquo;: &lsquo;b&rsquo;}</p></blockquote><p>ä½†æ˜¯<code>A().__dict__['a'] = 'It is a'</code> è™½ç„¶ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¹‹åå†æ¬¡è°ƒç”¨<code>A().__dict__</code>æ˜¾ç¤ºç»“æœè¿˜æ˜¯ä¸€æ ·ï¼Œä½†ï¼š</p><pre><code>a = A()
a.__dict__['a'] = 'It is a'
a.__dict__
</code></pre><blockquote><p>{&lsquo;a&rsquo;: &lsquo;It is a&rsquo;, &lsquo;b&rsquo;: &lsquo;b&rsquo;}</p></blockquote><p>è¿™æ ·æˆ‘å°±ç”¨è¿‡ä¸€æ¬¡ï¼Œåœ¨ä¸ç¡®å®šæ•°æ®ç±»ä¼šæœ‰å‡ ä¸ªå…ƒç´ ç”šè‡³ä¸çŸ¥é“ä¼šæ˜¯ä»€ä¹ˆåç§°çš„æ—¶å€™æ¥åˆ›å»ºçš„ï¼Œæ¯•ç«Ÿï¼š(è¿™æ ·çš„æ–¹å¼å¯ä»¥éšä¾¿æ·»åŠ å˜›)</p><pre><code>a.__dict__['w'] = 'It is www'
a.__dict__
</code></pre><blockquote><p>{&lsquo;a&rsquo;: &lsquo;It is a&rsquo;, &lsquo;b&rsquo;: &lsquo;b&rsquo;, &lsquo;w&rsquo;: &lsquo;It is www&rsquo;</p></blockquote><h3 id=è‹¥å‡ºç°docxæ¨¡å—pyinstalleræ‰“åŒ…é—®é¢˜>è‹¥å‡ºç°docxæ¨¡å—pyInstalleræ‰“åŒ…é—®é¢˜
<a class=anchor href=#%e8%8b%a5%e5%87%ba%e7%8e%b0docx%e6%a8%a1%e5%9d%97pyinstaller%e6%89%93%e5%8c%85%e9%97%ae%e9%a2%98>#</a></h3><p>å¤§æ¦‚çš„è§£å†³æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š
æ‰¾åˆ°python-docxåŒ…å®‰è£…è·¯å¾„ä¸‹çš„ä¸€ä¸ªåä¸ºdefault.docxçš„æ–‡ä»¶ï¼Œæˆ‘æ˜¯é€šè¿‡everythingè¿™ä¸ªå¼ºå¤§çš„æœç´¢å·¥å…·å…¨å±€æœç´¢æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶çš„ï¼Œå®ƒåœ¨æˆ‘æœ¬åœ°æ‰€åœ¨çš„è·¯å¾„æ˜¯ï¼šE:\code\env.env\Lib\site-packages\docx\templates
æŠŠæ‰¾åˆ°çš„default.docxæ–‡ä»¶å¤åˆ¶åˆ°æˆ‘çš„pyè„šæœ¬æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹ã€‚
ä¿®æ”¹è„šæœ¬ä¸­åˆ›å»ºDocumentå¯¹è±¡çš„æ–¹å¼ï¼š
ä»åŸæ¥çš„åˆ›å»ºæ–¹å¼ï¼š
document = Document()
ä¿®æ”¹ä¸ºï¼š
import os
document = Document(docx=os.path.join(os.getcwd(), &lsquo;default.docx&rsquo;))
å†æ¬¡ç”¨pyinstallerå·¥å…·æ‰“åŒ…è„šæœ¬ä¸ºexeæ–‡ä»¶
æŠŠdefault.docxæ–‡ä»¶å¤åˆ¶åˆ°ä¸ç”Ÿæˆçš„exeæ–‡ä»¶ç›¸åŒçš„è·¯å¾„ä¸‹ï¼Œå†æ¬¡è¿è¡Œexeæ–‡ä»¶ï¼Œé¡ºåˆ©è¿è¡Œé€šè¿‡ï¼Œæ²¡æœ‰å†å‡ºç°ä¹‹å‰çš„æŠ¥é”™ï¼Œé—®é¢˜å¾—åˆ°è§£å†³ã€‚
ä½œè€…ï¼š(m2fox)[https://www.jianshu.com/p/94ac13f6633e]
ä¾†æºï¼šç®€ä¹¦</p><h4 id=æ‹¼æ¥listå­—ç¬¦ä¸²>æ‹¼æ¥Listå­—ç¬¦ä¸²
<a class=anchor href=#%e6%8b%bc%e6%8e%a5list%e5%ad%97%e7%ac%a6%e4%b8%b2>#</a></h4><p>å°†listä¸­çš„å…ƒç´ æ‹¼æ¥èµ·æ¥ï¼Œå¹¶ä½¿ç”¨<code>,</code>éš”å¼€å¯è¿™ä¹ˆæ¥ï¼š</p><pre><code>import itertools 
list = ['123', '567']
xlist = &quot;,&quot;.join(list)
or
ylist = &quot;,&quot;.join(*list)
s = .join(itertools.chain(kwargs.keys()))
</code></pre><p>åŒºåˆ«åœ¨äºxä¸ºä¸€ä¸ªå…ƒç´ æ·»åŠ ä¸€ä¸ª<code>,</code>ï¼Œyä¸ºæŠŠåˆ—è¡¨ä¸­çš„ç´ ä¹Ÿæ‹†åˆ†ä¹‹åå†æ·»åŠ </p><h3 id=simplehttpserver>SimpleHTTPServer
<a class=anchor href=#simplehttpserver>#</a></h3><p>å°å‹çš„å±€åŸŸç½‘å˜›â˜ºï¼Œå¾ˆå¸¸ç”¨ï¼Œä¸è¿‡åœ¨Python3ä¸­æœ‰äº†å˜åŒ–â€¦</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>$</span> Python2
</span></span><span style=display:flex><span>    python <span style=color:#f92672>-</span>m SimpleHTTPServer 
</span></span><span style=display:flex><span>    <span style=color:#f92672>---</span>
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>$</span> Python3
</span></span><span style=display:flex><span>    python <span style=color:#f92672>-</span>m http<span style=color:#f92672>.</span>server
</span></span></code></pre></div><p>é¡ºå¸¦ä¸€æï¼š<code>-m</code>æ˜¯å¯ä»¥åœ¨å¤–æ‰§è¡Œå†…åº“çš„æ“ä½œï¼ŒğŸ¦‘å¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€å§â€”â€” ç”¨<code>pdb</code>çš„æ—¶å€™ä¹Ÿæ˜¯è¿™ä¹ˆç”¨çš„â€¦</p><h3 id=è€å¤«çš„æœˆä»½ç”Ÿæˆ>è€å¤«çš„æœˆä»½ç”Ÿæˆ
<a class=anchor href=#%e8%80%81%e5%a4%ab%e7%9a%84%e6%9c%88%e4%bb%bd%e7%94%9f%e6%88%90>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># -*- coding:utf-8 -*-</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> datetime
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> copy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>splitMonth</span>(start, end):
</span></span><span style=display:flex><span>    start <span style=color:#f92672>=</span> str2Date(start)
</span></span><span style=display:flex><span>    end <span style=color:#f92672>=</span> str2Date(end)
</span></span><span style=display:flex><span>    _delta <span style=color:#f92672>=</span> end <span style=color:#f92672>-</span> start
</span></span><span style=display:flex><span>    datelist <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> _delta<span style=color:#f92672>.</span>days <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ‹†åˆ†</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æŒ‰*æœˆ*æ‹†åˆ†ï¼ˆ10æ—¥é—´éš”ï¼‰</span>
</span></span><span style=display:flex><span>        n <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        _start <span style=color:#f92672>=</span> copy<span style=color:#f92672>.</span>copy(start)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> _delta<span style=color:#f92672>.</span>days <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            n <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> _start<span style=color:#f92672>.</span>day <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>                _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> end <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(_end)))
</span></span><span style=display:flex><span>                    _start <span style=color:#f92672>=</span> _end <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(end)))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> _start<span style=color:#f92672>.</span>day <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span>:
</span></span><span style=display:flex><span>                _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> end <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(_end)))
</span></span><span style=display:flex><span>                    _start <span style=color:#f92672>=</span> _end <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(end)))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, _start<span style=color:#f92672>.</span>day) <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span>                _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_end<span style=color:#f92672>.</span>year, _end<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>1</span>) <span style=color:#f92672>-</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> end <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(_end)))
</span></span><span style=display:flex><span>                    _start <span style=color:#f92672>=</span> _end <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append(date2str(_start), date2str(end))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            _delta <span style=color:#f92672>=</span> end <span style=color:#f92672>-</span> _start <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> datelist
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [(date2str(start), date2str(end))]
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>splitMouthBySE_N</span>(start, end, n):
</span></span><span style=display:flex><span>    start <span style=color:#f92672>=</span> str2Date(start)
</span></span><span style=display:flex><span>    end <span style=color:#f92672>=</span> str2Date(end)
</span></span><span style=display:flex><span>    _delta <span style=color:#f92672>=</span> end <span style=color:#f92672>-</span> start
</span></span><span style=display:flex><span>    datelist <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> _delta<span style=color:#f92672>.</span>days <span style=color:#f92672>&gt;</span> n:
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ‹†åˆ†</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æŒ‰*æœˆ*æ‹†åˆ†ï¼ˆ10æ—¥é—´éš”ï¼‰</span>
</span></span><span style=display:flex><span>        _start <span style=color:#f92672>=</span> copy<span style=color:#f92672>.</span>copy(start)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> _delta<span style=color:#f92672>.</span>days <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            _loop <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> _n <span style=color:#f92672>in</span> range(int(<span style=color:#ae81ff>30</span><span style=color:#f92672>/</span>n)):
</span></span><span style=display:flex><span>                _loop <span style=color:#f92672>=</span> _loop <span style=color:#f92672>+</span> n
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> _start<span style=color:#f92672>.</span>day <span style=color:#f92672>&lt;</span> _loop:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> _start<span style=color:#f92672>.</span>month <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>and</span> _loop <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>28</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> _start<span style=color:#f92672>.</span>year<span style=color:#f92672>%</span><span style=color:#ae81ff>4</span>:
</span></span><span style=display:flex><span>                            _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>28</span>)
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                            _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>29</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                        _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, _loop)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> end <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                        datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(_end)))
</span></span><span style=display:flex><span>                        _start <span style=color:#f92672>=</span> _end <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                        datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(end)))
</span></span><span style=display:flex><span>                        _delta <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>                    _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_start<span style=color:#f92672>.</span>year, _start<span style=color:#f92672>.</span>month, _start<span style=color:#f92672>.</span>day) <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>15</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                _end <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>date(_end<span style=color:#f92672>.</span>year, _end<span style=color:#f92672>.</span>month, <span style=color:#ae81ff>1</span>) <span style=color:#f92672>-</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> end <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> _start <span style=color:#f92672>&gt;</span> _end:
</span></span><span style=display:flex><span>                        _delta <span style=color:#f92672>=</span> end <span style=color:#f92672>-</span> _start <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                        datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(_end)))
</span></span><span style=display:flex><span>                    _start <span style=color:#f92672>=</span> _end <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    datelist<span style=color:#f92672>.</span>append((date2str(_start), date2str(end)))
</span></span><span style=display:flex><span>                    _delta <span style=color:#f92672>=</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                _delta <span style=color:#f92672>=</span> end <span style=color:#f92672>-</span> _start <span style=color:#f92672>+</span> datetime<span style=color:#f92672>.</span>timedelta(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> datelist
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [(date2str(start), date2str(end))]
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>gropdate</span>(datelist, itemNum<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>, gropNum<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>):
</span></span><span style=display:flex><span>    <span style=color:#75715e>#å°†ä¼ å…¥datelist[(str(start1), str(end1)), (str(start2), str(end2))...] -&gt; ä¼ å…¥ä¸ºæœˆç¢ç‰‡</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ‰“æŒ‰æœˆå¯¹æœˆç¢ç‰‡è¿›è¡Œæ‰“ç»„ã€‚ </span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ä¼ å…¥å‚æ•° itemNum: ä¸€ä¸ªç»„å«å‡ ä¸ªæœˆ, gropNum: å°†è¿™äº›ç¢ç‰‡æ‰“ä¸ºå‡ ç»„</span>
</span></span><span style=display:flex><span>    _dic <span style=color:#f92672>=</span> collections<span style=color:#f92672>.</span>OrderedDict()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> datelist:
</span></span><span style=display:flex><span>        <span style=color:#75715e># æŒ‰æœˆåˆ†ç»„</span>
</span></span><span style=display:flex><span>        keyName <span style=color:#f92672>=</span> i[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;-&#39;</span>)[<span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> keyName <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> _dic:
</span></span><span style=display:flex><span>            _dic[keyName] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        _dic[keyName]<span style=color:#f92672>.</span>append(i)
</span></span><span style=display:flex><span>    monthList <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    groups <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    groupListTemp <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    groupList <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> _dic<span style=color:#f92672>.</span>keys():
</span></span><span style=display:flex><span>        <span style=color:#75715e># å¾—åˆ°æœˆä»½åˆ—è¡¨</span>
</span></span><span style=display:flex><span>        monthList<span style=color:#f92672>.</span>append(i) <span style=color:#75715e>#[1,2,3...,7,8,9]</span>
</span></span><span style=display:flex><span>    monthNum <span style=color:#f92672>=</span> len(monthList)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> gropNum:
</span></span><span style=display:flex><span>        itemNum <span style=color:#f92672>=</span> round(float(monthNum)<span style=color:#f92672>/</span>gropNum)
</span></span><span style=display:flex><span>        itemNum <span style=color:#f92672>=</span> int(itemNum)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> itemNum:
</span></span><span style=display:flex><span>        slipNum <span style=color:#f92672>=</span> int(monthNum<span style=color:#f92672>/</span>itemNum)
</span></span><span style=display:flex><span>        start <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        end <span style=color:#f92672>=</span> int(itemNum)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> mon <span style=color:#f92672>in</span> range(slipNum):
</span></span><span style=display:flex><span>            groups<span style=color:#f92672>.</span>append(monthList[int(start):int(end)])
</span></span><span style=display:flex><span>            start <span style=color:#f92672>=</span> copy<span style=color:#f92672>.</span>copy(end)
</span></span><span style=display:flex><span>            end <span style=color:#f92672>=</span> end <span style=color:#f92672>+</span> itemNum
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> monthNum<span style=color:#f92672>%</span>itemNum:
</span></span><span style=display:flex><span>            groups<span style=color:#f92672>.</span>append(monthList[start:monthNum])    <span style=color:#75715e># éæ•´é™¤è¡¥è¶³</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> groups:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> ii <span style=color:#f92672>in</span> i:
</span></span><span style=display:flex><span>                groupListTemp<span style=color:#f92672>.</span>append(_dic[ii])
</span></span><span style=display:flex><span>            groupList<span style=color:#f92672>.</span>append(groupListTemp)
</span></span><span style=display:flex><span>            groupListTemp <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> groupList
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span><span style=color:#75715e># region æ—¥æœŸ`date`æ ¼å¼ä¸`str`è½¬æ¢å¤„ç†</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>date2str</span>(_date):
</span></span><span style=display:flex><span>    <span style=color:#75715e># datetime.date è½¬æ¢ä¸º str    (æœ‰ä¸ºäº†é€‚é…åŸç¨‹åºçš„è¡¥é›¶æ“ä½œâ€¦)</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> _date<span style=color:#f92672>.</span>month <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>        strDate <span style=color:#f92672>=</span> str(_date<span style=color:#f92672>.</span>year) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;0&#39;</span><span style=color:#f92672>+</span>str(_date<span style=color:#f92672>.</span>month) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> str(_date<span style=color:#f92672>.</span>day)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        strDate <span style=color:#f92672>=</span> str(_date<span style=color:#f92672>.</span>year) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> str(_date<span style=color:#f92672>.</span>month) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;-&#39;</span> <span style=color:#f92672>+</span> str(_date<span style=color:#f92672>.</span>day)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> _date<span style=color:#f92672>.</span>day <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>        strDate <span style=color:#f92672>=</span> strDate[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;0&#39;</span><span style=color:#f92672>+</span>str(_date<span style=color:#f92672>.</span>day)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> strDate
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>str2Date</span>(_str):
</span></span><span style=display:flex><span>    <span style=color:#75715e># str è½¬æ¢ä¸º datetime.date</span>
</span></span><span style=display:flex><span>    y, m, d <span style=color:#f92672>=</span> _str<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;-&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> datetime<span style=color:#f92672>.</span>date(int(y), int(m), int(d))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># endregion </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    print(splitMouthBySE_N(<span style=color:#e6db74>&#39;2016-01-02&#39;</span>, <span style=color:#e6db74>&#39;2018-03-01&#39;</span>, <span style=color:#ae81ff>5</span>))
</span></span></code></pre></div><h2 id=python36ä¹‹åçš„å¥‡æ·«æŠ€å·§>Python3.6ä¹‹åçš„å¥‡æ·«æŠ€å·§
<a class=anchor href=#python36%e4%b9%8b%e5%90%8e%e7%9a%84%e5%a5%87%e6%b7%ab%e6%8a%80%e5%b7%a7>#</a></h2><ol><li>å¯ä½¿ç”¨ä¸‹åˆ’çº¿å°†é•¿æ•°å­—éš”å¼€ï¼Œä¾¿äºé˜…è¯» <code>10000</code>=<code>10_000</code></li><li>å­—ç¬¦ä¸²æ“ä½œé™¤äº† <code>%</code>å’Œ<code>format</code>ä¹‹å¤–è¿˜æœ‰<code>f</code>æ“ä½œ</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> <span style=color:#f92672>%</span>
</span></span><span style=display:flex><span>s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> is </span><span style=color:#e6db74>%d</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span> (<span style=color:#e6db74>&#39;two&#39;</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> format
</span></span><span style=display:flex><span>s <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{fruit}</span><span style=color:#e6db74> is </span><span style=color:#e6db74>{color}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(fruit<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;apple&#39;</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;red&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>$</span> f
</span></span><span style=display:flex><span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Bob&#39;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Hello, </span><span style=color:#e6db74>{</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>!&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>### ç”šè‡³</span>
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>b <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Five plus ten is </span><span style=color:#e6db74>{</span>a <span style=color:#f92672>+</span> b<span style=color:#e6db74>}</span><span style=color:#e6db74> and not </span><span style=color:#e6db74>{</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> (a <span style=color:#f92672>+</span> b)<span style=color:#e6db74>}</span><span style=color:#e6db74>.&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#### ç²¾åº¦</span>
</span></span><span style=display:flex><span>PI <span style=color:#f92672>=</span> <span style=color:#ae81ff>3.141592653</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Pi is </span><span style=color:#e6db74>{</span>PI<span style=color:#e6db74>:</span><span style=color:#e6db74>.2f</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#e6db74>&#39;Pi is 3.14&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> error <span style=color:#f92672>=</span> <span style=color:#ae81ff>50159747054</span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### ä»¥16è¿›åˆ¶æ ¼å¼åŒ–</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Programmer Error: </span><span style=color:#e6db74>{</span>error<span style=color:#e6db74>:</span><span style=color:#e6db74>#x</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span><span style=color:#e6db74>&#39;Programmer Error: 0xbadc0ffee&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>##### ä»¥äºŒè¿›åˆ¶æ ¼å¼åŒ–</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;Programmer Error: </span><span style=color:#e6db74>{</span>error<span style=color:#e6db74>:</span><span style=color:#e6db74>#b</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#e6db74>&#39;Programmer Error: 0b101110101101110000001111111111101110&#39;</span>
</span></span></code></pre></div><p>3.å˜é‡æ³¨é‡Š <code>def my_add(a: int, b: int) -> int: \n return 0</code> ä»…ä»…ç”¨æ¥æ³¨é‡Šï¼Œå…¶å®ä¼ å‚å‡ºå‚å¹¶ä¸å—æ§åˆ¶â€¦</p><hr><h1 id=é­”æ³•æ–¹æ³•>é­”æ³•æ–¹æ³•
<a class=anchor href=#%e9%ad%94%e6%b3%95%e6%96%b9%e6%b3%95>#</a></h1><p>å‡è®¾å®šä¹‰ç±» <code>EmmNe</code>, <code>EmmNe</code>æ‹¥æœ‰<code>self.aaa</code>ä¸<code>self.aaadict</code>ã€åˆ—è¡¨<code>self.aaalist</code> ä¸”<code>__init__</code>å…è®¸ä¸¤ä¸ªä¼ å‚</p><p>__len__:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> __len__(self):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> len(self<span style=color:#f92672>.</span>aaa)
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ™åœ¨å¤–`len`æ­¤å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œä¼šè¿”å›è¿™ä¸ªç»“æœ</span>
</span></span></code></pre></div><p>__getitem__:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> __getitem__(self, key)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>aaadict[key]
</span></span><span style=display:flex><span>en <span style=color:#f92672>=</span> EmmNe(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>print(en[<span style=color:#960050;background-color:#1e0010>`</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#å°±åƒä¸Šé¢é‚£æ ·ã€‚ ä¸è¿‡è¿˜æœ‰ä¸‹é¢çš„ç”¨æ³•</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> __getitem__(self, index):
</span></span><span style=display:flex><span>    retrun self<span style=color:#f92672>.</span>aaalist[index]
</span></span><span style=display:flex><span>w <span style=color:#f92672>=</span> Emm(<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> w:
</span></span><span style=display:flex><span>    print (i)
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ™è¾“å‡ºåˆ—è¡¨ä¸­å†…å®¹</span>
</span></span></code></pre></div><p>__setitem__:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> __setitem__(self, key, value)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>aaadict[key] <span style=color:#f92672>=</span> value
</span></span><span style=display:flex><span><span style=color:#75715e># æ‹¥æœ‰æ­¤æ–¹æ³•ï¼Œåˆ™åœ¨å¤–å¯å°†å®ä¾‹å¯¹è±¡å½“ä½œå­—å…¸æ“ä½œ:</span>
</span></span><span style=display:flex><span>enp[<span style=color:#e6db74>&#39;a&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;asd&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># å°±åƒè¿™æ ·</span>
</span></span></code></pre></div><h3 id=collectionss>collectionss
<a class=anchor href=#collectionss>#</a></h3><p>æ€»ç»“ä¸€å¥è¯ï¼š <code>collections</code>å‡ºå“ï¼Œ å¿…å±ç²¾å“ã€‚
é©¬ä¸Šèƒ½æƒ³åˆ°çš„ æœ‰åºå­—å…¸ï¼Œè¿˜æœ‰é‚£å•¥éƒ½æ˜¯å‡ºè‡ªæ­¤ä¸ªæ¨¡å—ä¹‹ä¸‹ã€‚
ä»Šå¤©ç”¨çš„ è®¡æ•°ä¹Ÿæ˜¯å‡ºè‡ªæ­¤å¤„ åæ­£ä¹‹å è¿™ä¸ªé‡Œé¢èƒ½å®ç°çš„åŠŸèƒ½ï¼Œé‚£å°±æ”¾å¼ƒæ‰‹å†™å§â€”â€”â€”â€”ğŸ˜“
from collections import Counter</p><h3 id=function-annotations>Function Annotations
<a class=anchor href=#function-annotations>#</a></h3><p>Annotations are stored in the <strong>annotations</strong> attribute of the function as a dictionary and have no effect on any other part of the function. Parameter annotations are defined by a colon after the parameter name, followed by an expression evaluating to the value of the annotation. Return annotations are defined by a literal ->, followed by an expression, between the parameter list and the colon denoting the end of the def statement. The following example has a positional argument, a keyword argument, and the return value annotated:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>f</span>(ham: str, eggs: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;eggs&#39;</span>) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Annotations:&#34;</span>, f<span style=color:#f92672>.</span>__annotations__)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Arguments:&#34;</span>, ham, eggs)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> ham <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; and &#39;</span> <span style=color:#f92672>+</span> eggs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>f(<span style=color:#e6db74>&#39;spam&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> Annotations: {<span style=color:#e6db74>&#39;ham&#39;</span>: <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#a6e22e>str</span><span style=color:#e6db74>&#39;&gt;, &#39;</span><span style=color:#66d9ef>return</span><span style=color:#e6db74>&#39;: &lt;class &#39;</span>str<span style=color:#e6db74>&#39;&gt;, &#39;</span>eggs<span style=color:#e6db74>&#39;: &lt;class &#39;</span>str<span style=color:#e6db74>&#39;&gt;}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> Arguments: spam eggs
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> <span style=color:#e6db74>&#39;spam and eggs&#39;</span>
</span></span></code></pre></div><h3 id=logger>Logger
<a class=anchor href=#logger>#</a></h3><p>æ¨¡å—åï¼š logging
ä¸Šæ‰‹å®¹æ˜“ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œæ€§èƒ½è‚¯å®šä¹Ÿå¥½è¿‡è‡ªå·±âœ
å¦å¤–ï¼Œæ‡’â€”â€”â€”</p><pre tabindex=0><code>import sys
import logging
import logging_error

logger1 = logging.getLogger(&#39;loger1&#39;)
logger2 = logging.getLogger(&#39;loger2&#39;)
#å®ä¾‹åŒ–ä¸¤ä¸ªlogger,é»˜è®¤åç§°ä¸ºï¼š`root`
&#34;&#34;&#34;
æˆ‘å±…ç„¶ä»¥ä¸ºrootæ˜¯ç¨‹åºæ‰§è¡Œå¤„çš„åå­—ï¼Œä»¥ä¸ºæ”¾åˆ°å‡½æ•°ä¸­å°±ä¼šæ˜¾ç¤ºå‡½æ•°åã€‚emm
æ‰€ä»¥æ‰æœ‰äº†ä¸‹é¢å¤šå±‚å‡½æ•°åµŒå¥—â€¦ï¼Œä»¥åŠè°ƒç”¨å¤–éƒ¨`import`
&#34;&#34;&#34;

formatter = logging.Formatter(&#39;[%(name)s]%(asctime)s %(levelname)-8s: %(message)s&#39;)
#å®šä¹‰æ—¥å¿—æ ¼å¼ï¼š
&#34;&#34;&#34;
%(name)s Loggerçš„åå­—
%(levelno)s æ•°å­—å½¢å¼çš„æ—¥å¿—çº§åˆ«
%(levelname)s æ–‡æœ¬å½¢å¼çš„æ—¥å¿—çº§åˆ«
%(pathname)s è°ƒç”¨æ—¥å¿—è¾“å‡ºå‡½æ•°çš„æ¨¡å—çš„å®Œæ•´è·¯å¾„åï¼Œå¯èƒ½æ²¡æœ‰
%(filename)s è°ƒç”¨æ—¥å¿—è¾“å‡ºå‡½æ•°çš„æ¨¡å—çš„æ–‡ä»¶å
%(module)s è°ƒç”¨æ—¥å¿—è¾“å‡ºå‡½æ•°çš„æ¨¡å—å|
%(funcName)s è°ƒç”¨æ—¥å¿—è¾“å‡ºå‡½æ•°çš„å‡½æ•°å|
%(lineno)d è°ƒç”¨æ—¥å¿—è¾“å‡ºå‡½æ•°çš„è¯­å¥æ‰€åœ¨çš„ä»£ç è¡Œ
%(created)f å½“å‰æ—¶é—´ï¼Œç”¨UNIXæ ‡å‡†çš„è¡¨ç¤ºæ—¶é—´çš„æµ®ç‚¹æ•°è¡¨ç¤º|
%(relativeCreated)d è¾“å‡ºæ—¥å¿—ä¿¡æ¯æ—¶çš„ï¼Œè‡ªLoggeråˆ›å»ºä»¥æ¥çš„æ¯«ç§’æ•°|
%(asctime)s å­—ç¬¦ä¸²å½¢å¼çš„å½“å‰æ—¶é—´ã€‚é»˜è®¤æ ¼å¼æ˜¯â€œ2003-07-08 16:49:45,896â€ã€‚é€—å·åé¢çš„æ˜¯æ¯«ç§’
%(thread)d çº¿ç¨‹IDã€‚å¯èƒ½æ²¡æœ‰
%(threadName)s çº¿ç¨‹åã€‚å¯èƒ½æ²¡æœ‰
%(process)d è¿›ç¨‹IDã€‚å¯èƒ½æ²¡æœ‰
%(message)s ç”¨æˆ·è¾“å‡ºçš„æ¶ˆæ¯
&#34;&#34;&#34;

fileHandler = logging.FileHandler(&#39;loger.log&#39;)
fileHandler.setFormatter(formatter)

consoleHandler = logging.StreamHandler(sys.stdout)
consoleHandler.formatter = formatter
#é…ç½®æ–‡ä»¶ã€ç»ˆç«¯æ—¥å¿—å¤„ç†å™¨ã€‚å¯ä»¥ä½¿ç”¨ä¸åŒæ ¼å¼ï¼Œæ¥åŒºåˆ†å¤„ç†

logger1.addHandler(fileHandler)
logger2.addHandler(fileHandler)
logger1.addHandler(consoleHandler)
logger2.addHandler(consoleHandler)
#ä¸ºæ—¥å¿—æœºæ·»åŠ å¤„ç†å™¨

logger1.setLevel(logging.INFO)
#logger2.setLevel()
#è®¾ç½®å„æ—¥å¿—æœºæ‰“å°ç­‰çº§


logger1.debug(&#39;debugO&#39;)
logger1.info(&#39;info&#39;)
logger2.info(&#39;info&#39;)
logger1.error(&#39;error&#39;)
def warn_msg():
    logger1.warn(&#39;warn msg&#39;)
    warn_msg2()
def warn_msg2():
    logger2.warn(u&#39;warn ä¿¡æ¯&#39;)
    logging_error.error_demo()
warn_msg()
</code></pre><p>å½“ç„¶ï¼Œloggerè¿˜æœ‰åˆ«çš„è°ƒç”¨æ–¹æ³•ï¼Œä¸è¿‡è¿™åº”è¯¥å°±å¤Ÿäº†ï¼Œ
å…·ä½“è¦æ€ä¹ˆå®ç°ï¼Œå°±å»æ‰¾å®˜æ–¹æ–‡æ¡£äº†ã€‚
é¢„é˜²é’ˆï¼š å¤šç§é…ç½®æ–¹æ³•ã€æ—¥å¿—é‡å¤è¾“å‡º:<a href=http://python.jobbole.com/86887/>è§æ­¤</a></p><h2 id=lambdaå‡½æ•°>lambdaå‡½æ•°
<a class=anchor href=#lambda%e5%87%bd%e6%95%b0>#</a></h2><h3 id=æ’åº>æ’åº
<a class=anchor href=#%e6%8e%92%e5%ba%8f>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>aaa
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> [{<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>3</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>2</span>}]
</span></span><span style=display:flex><span>sorted(aaa, key <span style=color:#f92672>=</span> <span style=color:#66d9ef>lambda</span> x: x[<span style=color:#e6db74>&#34;time&#34;</span>])
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> [{<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>1</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>3</span>}]
</span></span><span style=display:flex><span>sorted(aaa, key <span style=color:#f92672>=</span> <span style=color:#66d9ef>lambda</span> x: x[<span style=color:#e6db74>&#34;time&#34;</span>], reverse<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>&gt;&gt;&gt;</span> [{<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>3</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>2</span>}, {<span style=color:#e6db74>&#39;time&#39;</span>: <span style=color:#ae81ff>1</span>}]
</span></span></code></pre></div><h2 id=mock>Mock
<a class=anchor href=#mock>#</a></h2><p>ä½¿ç”¨: unittest</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    mock<span style=color:#f92672>.</span>patch<span style=color:#f92672>.</span>object: Mock <span style=color:#75715e># ä¸€ä¸ªç±», åæ¥æ–¹æ³•</span>
</span></span><span style=display:flex><span>    mock<span style=color:#f92672>.</span>patch: Mock <span style=color:#75715e># ä¸€ä¸ªæ–¹æ³•, æŒ‰è·¯å¾„</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@mock.patch</span>(<span style=color:#e6db74>&#34;databases.wx_service.get_user_base_info&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@mock.patch.object</span>(wx_service<span style=color:#f92672>.</span>WeChat_OAP, <span style=color:#e6db74>&#34;send_template_msg&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_create_weawarning</span>(self, mock_send_template_msg, mock_get_user_base_info):
</span></span><span style=display:flex><span>        <span style=color:#75715e># è£…é¥°å™¨ç”Ÿæ•ˆä»å†…åˆ°å¤–, ä¼ å…¥å‚æ•°é¡ºåº, ä»å·¦åˆ°å³</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        mock_send_template_msg<span style=color:#f92672>.</span>return_value <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span><span style=color:#f92672>/</span>{}<span style=color:#f92672>/</span>[]<span style=color:#f92672>/</span>() çš†å¯  è®¾å®šmockè¿”å›å€¼
</span></span><span style=display:flex><span>        mock_get_user_base_info<span style=color:#f92672>.</span>side_effect <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;&#39;</span><span style=color:#f92672>/</span>{}<span style=color:#f92672>/</span>[]<span style=color:#f92672>/</span>(), <span style=color:#e6db74>&#39;&#39;</span><span style=color:#f92672>/</span>{}<span style=color:#f92672>/</span>[]<span style=color:#f92672>/</span>()] è®¾å®šæ¯æ¬¡è°ƒç”¨mockå‡½æ•°ä¾æ¬¡è¿”å›è¿”å›å€¼
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#å½»åº•æ‘†è„±to_dictå’Œfrom_dict>å½»åº•æ‘†è„±<code>to_dict</code>å’Œ<code>from_dict</code></a><ul><li><a href=#ä½¿ç”¨-pydantic>ä½¿ç”¨ <code>pydantic</code></a></li></ul></li><li><a href=#å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼>å¤šä¸ªç±»å±æ€§ä¸€æ¬¡èµ‹å€¼</a></li><li><a href=#åˆ—è¡¨è¡¨è¾¾å¼-äºŒç»´æ•°ç»„è¾¹ä¸€ç»´-å–å­—å…¸å†…å˜ä¸€ç»´>åˆ—è¡¨è¡¨è¾¾å¼ äºŒç»´æ•°ç»„è¾¹ä¸€ç»´ å–å­—å…¸å†…å˜ä¸€ç»´</a></li><li><a href=#pip-not-found-issue>PiP Not Found Issue</a></li><li><a href=#modulenotfounderror-no-module-named-pip>ModuleNotFoundError: No module named &lsquo;pip&rsquo;</a><ul><li><a href=#å‡çº§pipæ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤>å‡çº§<code>PiP</code>æ—¶å‡ºç°é—®é¢˜å¯ç”±ä¸‹æ–¹å‘½ä»¤ä¿®å¤</a></li></ul></li><li><a href=#sslæ ¡éªŒ>SSLæ ¡éªŒ</a><ul><li><a href=#ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½python>ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½Python</a></li><li><a href=#å£°æ˜å‚æ•°ç±»å‹>å£°æ˜å‚æ•°ç±»å‹</a></li><li><a href=#æ—¶é—´å¤„ç†>æ—¶é—´å¤„ç†</a></li><li><a href=#åˆå¹¶å­—å…¸>åˆå¹¶å­—å…¸</a></li><li><a href=#èŠèƒœäºæ— çš„å°ç©æ„-preety-tools>èŠèƒœäºæ— çš„å°ç©æ„ preety tools</a></li><li><a href=#ide>IDE?</a></li><li><a href=#beautifulsoup>BeautifulSoup</a></li><li><a href=#datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´--æ—¶é—´è½¬å­—ç¬¦ä¸²>datetimeå­—ç¬¦ä¸²è½¬æ—¶é—´ æ—¶é—´è½¬å­—ç¬¦ä¸²:</a></li><li><a href=#ä¿å­˜æ•¸æ“šåˆ°xlsxsqlite3csv>ä¿å­˜æ•¸æ“šåˆ°xlsxï¼Œsqlite3ã€csvï¼š</a></li><li><a href=#imageä¸‹>Imageä¸‹ï¼š</a></li><li><a href=#pandas>Pandas:</a></li></ul></li><li><a href=#é—²è¯­>é—²è¯­ï¼š</a><ul><li></li></ul></li></ul><ul><li><ul><li></li><li><a href=#å˜é‡>å˜é‡</a></li></ul></li><li><a href=#å˜æ¢æ•°æ®ç±»å‹>å˜æ¢æ•°æ®ç±»å‹</a><ul><li></li></ul></li><li><a href=#python3>Python3</a><ul><li><a href=#ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•>ä¸€ä¸å°å¿ƒå‘ç°çš„è¯­æ³•</a></li><li><a href=#-ä¸--æ–¹æ³•>* ä¸ ** æ–¹æ³•:</a></li><li><a href=#è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨>è·å–æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ååˆ—è¡¨</a></li><li><a href=#if-else>IF ELSE</a></li><li><a href=#python-2-ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»>Python 2 ä¸­çš„objectæ–°å¼ç±»å’Œç»å…¸ç±»</a></li><li><a href=#queue>Queue</a></li><li><a href=#serieså’Œdataframe>serieså’Œdataframe</a></li><li><a href=#è‡ªå‘½ååˆ›å»ºæ–¹å¼>è‡ªå‘½ååˆ›å»ºæ–¹å¼</a></li><li><a href=#æŸ¥çœ‹>æŸ¥çœ‹</a></li><li><a href=#zip-å’Œ-æ•°ç»„å˜å­—å…¸>zip å’Œ æ•°ç»„å˜å­—å…¸</a></li><li><a href=#å­—å…¸æ“ä½œ>å­—å…¸æ“ä½œ</a></li><li><a href=#csv>CSV</a></li><li><a href=#txtä¿å­˜>txtä¿å­˜</a></li><li><a href=#json>json</a></li><li><a href=#shelve>Shelve</a></li></ul></li><li><a href=#æ¥å£>æ¥å£ã€‚</a></li><li><a href=#åˆ—è¡¨list>åˆ—è¡¨List</a><ul><li><a href=#åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹å‡½æ•°:</a></li><li><a href=#åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•>åˆ—è¡¨æ“ä½œåŒ…å«ä»¥ä¸‹æ–¹æ³•:</a></li></ul></li><li><a href=#å­—ç¬¦ä¸²è¿æ¥>å­—ç¬¦ä¸²è¿æ¥</a><ul><li><a href=#æ–¹æ³•ä¸€>æ–¹æ³•ä¸€</a></li><li><a href=#æ–¹æ³•äºŒ>æ–¹æ³•äºŒ</a></li><li><a href=#æ–¹æ³•ä¸‰>æ–¹æ³•ä¸‰</a></li></ul></li><li><a href=#æ‰‹åŠ¨ç¼–è¯‘pyæ–‡ä»¶>æ‰‹åŠ¨ç¼–è¯‘Pyæ–‡ä»¶</a></li><li><a href=#æ—¶é—´>æ—¶é—´</a><ul><li></li><li><a href=#æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´>æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´</a></li><li><a href=#time>time</a></li><li><a href=#çº¿ç¨‹-threading>çº¿ç¨‹ threading</a></li></ul></li></ul><ul><li><ul><li><a href=#æ•°å€¼å–æ•´>æ•°å€¼å–æ•´</a></li></ul></li></ul><ul><li><a href=#å¯¹è±¡ä¼ªç±»é—´å˜é‡ä¼ é€’>å¯¹è±¡ï¼ˆä¼ªç±»ï¼‰é—´å˜é‡ä¼ é€’</a></li><li><a href=#å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„æ–¹ä¾¿è°ƒç”¨>å­—å…¸ä¸­å»ºç«‹å‡½æ•°æ˜ å°„ï¼Œæ–¹ä¾¿è°ƒç”¨~</a><ul><li><a href=#collections-æ¨¡å—>collections æ¨¡å—</a></li></ul></li><li><a href=#çº¿ç¨‹>çº¿ç¨‹</a><ul><li><a href=#çº¿ç¨‹åŒæ­¥>çº¿ç¨‹åŒæ­¥</a></li></ul></li><li><a href=#é˜Ÿåˆ—>é˜Ÿåˆ—</a><ul><li><a href=#ä¸€äº›æ–¹æ³•>ä¸€äº›æ–¹æ³•</a></li><li><a href=#è€å¤«çš„demo>è€å¤«çš„Demo</a></li></ul></li><li><a href=#è¿›ç¨‹>è¿›ç¨‹</a><ul><li></li><li><a href=#å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»>å°†è¿›ç¨‹å®šä¹‰ä¸ºç±»</a></li></ul></li><li><a href=#font-colorcc0000è­¦ä¸ªå‘Šfont><em><strong>è­¦ä¸ªå‘Š</strong></em></a><ul><li></li></ul></li><li><a href=#å†åŠ ä¸€ä¸ªåç¨‹>å†åŠ ä¸€ä¸ªåç¨‹</a><ul><li><a href=#åŸºç¡€å®ç°>åŸºç¡€å®ç°ï¼š</a></li><li><a href=#è¾ƒå®Œå–„æ–¹æ¡ˆ>è¾ƒå®Œå–„æ–¹æ¡ˆï¼š</a></li><li><a href=#futures>futures</a></li></ul></li><li><a href=#çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡>çˆ¶ç±»ä¸­çš„å˜é‡ä¸ç±»ä¸­å˜é‡</a><ul><li><a href=#åˆ—è¡¨çš„å¢åˆ æ·»>åˆ—è¡¨çš„å¢åˆ æ·»</a></li><li><a href=#ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡---ä»£ç æ—¥å¿—>ä¸€ä¸ªå‡½æ•°çš„æœ‰æ•ˆæ–¹å¼åªåœ¨å¾ªç¯ä¸­æ‰§è¡Œä¸€æ¬¡ - ä»£ç æ—¥å¿—</a></li><li><a href=#å‡½æ•°è°ƒç”¨å‡½æ•°-and-è¯­æ³•ç³–->å‡½æ•°è°ƒç”¨å‡½æ•° and è¯­æ³•ç³– @</a></li><li><a href=#å˜é‡ä½œç”¨åŸŸ>å˜é‡ä½œç”¨åŸŸ</a></li></ul></li><li><a href=#functools>functools</a><ul><li><a href=#partial>partial</a></li></ul></li></ul><ul><li><a href=#socket>socket</a></li><li><a href=#select----ä¸socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹>select : ä¸Socketé…åˆçš„è·¨å¹³å°çš„å¼‚æ­¥ioæ¨¡å‹</a></li><li><a href=#å¼•ç”¨æ¨¡å—>å¼•ç”¨æ¨¡å—</a><ul><li><a href=#åŒä¸€æ–‡ä»¶å¤¹ä¸‹>åŒä¸€æ–‡ä»¶å¤¹ä¸‹</a></li><li><a href=#å…¶ä¸‹çº§æ–‡ä»¶hereä¸‹>å…¶ä¸‹çº§æ–‡ä»¶"here"ä¸‹</a></li><li><a href=#åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹>åœ¨ä¸Šçº§æ–‡ä»¶ä¸‹</a></li><li><a href=#åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ä¹Ÿå°±æ˜¯åœ¨éš”å£wangæ–‡ä»¶ä¸­>åœ¨ä¸Šçº§æ–‡ä»¶çš„ä¸‹çº§æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå°±æ˜¯åœ¨éš”å£â€œwangâ€æ–‡ä»¶ä¸­ï¼‰</a></li></ul></li><li><a href=#è§£å†³ç¼–ç é—®é¢˜>è§£å†³ç¼–ç é—®é¢˜</a><ul><li><a href=#è¾“å‡ºæç¤ºæ‰“å°ä¹±ç >è¾“å‡ºæç¤ºæ‰“å°ä¹±ç </a></li><li><a href=#å†…å­˜å¼‚å¸¸å ç”¨>å†…å­˜å¼‚å¸¸å ç”¨</a></li></ul></li><li><a href=#å¼‚å¸¸>å¼‚å¸¸</a><ul><li><a href=#plan1->plan1 ï¼š</a></li><li><a href=#åˆ—è¡¨çš„å‘>åˆ—è¡¨çš„å‘</a></li><li><a href=#staticmethod>@staticmethod</a></li><li><a href=#å¸¸è§å¼‚å¸¸>å¸¸è§å¼‚å¸¸</a></li></ul></li></ul><ul><li><ul><li><a href=#visualstudioæ¨¡å¼>VisualStudioæ¨¡å¼ï¼š</a></li><li><a href=#netbeansæ¨¡å¼>NetBeansæ¨¡å¼ï¼š</a></li></ul></li></ul><ul><li><a href=#æ•°æ®ç±»>æ•°æ®ç±»</a><ul><li><a href=#è‹¥å‡ºç°docxæ¨¡å—pyinstalleræ‰“åŒ…é—®é¢˜>è‹¥å‡ºç°docxæ¨¡å—pyInstalleræ‰“åŒ…é—®é¢˜</a></li><li><a href=#simplehttpserver>SimpleHTTPServer</a></li><li><a href=#è€å¤«çš„æœˆä»½ç”Ÿæˆ>è€å¤«çš„æœˆä»½ç”Ÿæˆ</a></li></ul></li><li><a href=#python36ä¹‹åçš„å¥‡æ·«æŠ€å·§>Python3.6ä¹‹åçš„å¥‡æ·«æŠ€å·§</a></li></ul><ul><li><ul><li><a href=#collectionss>collectionss</a></li><li><a href=#function-annotations>Function Annotations</a></li><li><a href=#logger>Logger</a></li></ul></li><li><a href=#lambdaå‡½æ•°>lambdaå‡½æ•°</a><ul><li><a href=#æ’åº>æ’åº</a></li></ul></li><li><a href=#mock>Mock</a></li></ul></nav></div></aside></main></body></html>