<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>mysql on Ian's Blog</title><link>http://example.org/tags/mysql/</link><description>Recent content in mysql on Ian's Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 15 May 2018 09:51:09 +0000</lastBuildDate><atom:link href="http://example.org/tags/mysql/index.xml" rel="self" type="application/rss+xml"/><item><title>æ•°æ®åº“-MongoDBç¯‡</title><link>http://example.org/docs/programmer/database/note-of-db-data-mongodb/</link><pubDate>Tue, 15 May 2018 09:51:09 +0000</pubDate><guid>http://example.org/docs/programmer/database/note-of-db-data-mongodb/</guid><description>DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # MongoDBç¬”è®° # å­¦ä¹ ç½‘ç«™ï¼šhttp://www.runoob.com/mongodb/mongodb-tutorial.html (å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)
æ•°æ®è¿ç§» # insert into device_data_current select * from device_data; ä½¿ç”¨ mysqldump # å¾ˆæ…¢ å¾ˆå¤§ å¾ˆæ–¹ä¾¿ å¾ˆï¼ä¸å¥½ï¼ä½¿ç”¨ï¼åœ¨ä½¿ç”¨&amp;ndash;hostæ—¶ ä¸‹é¢å‘½ä»¤æ²¡ä¸€æ¬¡æ­£å¸¸å·¥ä½œçš„ï¼Œå¾ˆéš¾å—
mysqldump -h192.168.0.25 -u{user} -p{passwd} {dbname} {tablename} &amp;gt; {tablename}.sql sed -i &amp;#39;s/{tablename}/{new_tablename}/g&amp;#39; {tablename}.sql mysql -u{user} -p{passwd} {dbname} &amp;lt; {table}.sql # å¢åŠ æ¡æ•°é™åˆ¶ bash-4.2# mysqldump -u{user} -p{passwd} test demo --host {host} --where=&amp;#34;true limit 5000&amp;#34; &amp;gt; demo.sql è¿˜æ˜¯ç”¨è‡ªå·±å†™çš„è„šæœ¬å¥½ä½¿ sql_one2one.py
æ³¨æ„äº‹é¡¹ # Mongo æ•°æ®åº“é” # mongoåªæä¾›åº“çº§ç²’åº¦é”ï¼Œæ‰€ä»¥ä¸€ä¸ªå†™æ“ä½œé”å®šæ—¶ï¼Œå…¶ä»–è¯»å†™æ“ä½œéƒ½ç­‰å¾…â€¦ æ‰€ä»¥è¿™ä¸ªå¯¼è‡´äº†Mongoå¤šçº¿ç¨‹å†™æ“ä½œåè€Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å†™æ¥çš„å¿«ï¼Ÿ
å‰å°å»ºç«‹ç´¢å¼•æ—¶ï¼ŒMongoéœ€å ç”¨ä¸€ä¸ªå†™é”ï¼ˆä¸”ä¸åŒä¸Šè¿°ã€ä¸ä¼šä¸´æ—¶æ”¾å¼ƒï¼‰ ä¸ºé¿å…æ­¤é—®é¢˜éœ€é‡‡ç”¨backgroundæ–¹å¼</description></item><item><title>æ•°æ®åº“-MongoDBç¯‡</title><link>http://example.org/docs/programmer/database/note-of-db-data/</link><pubDate>Tue, 15 May 2018 09:51:09 +0000</pubDate><guid>http://example.org/docs/programmer/database/note-of-db-data/</guid><description>DBæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # MongoDBç¬”è®° # å­¦ä¹ ç½‘ç«™ï¼šhttp://www.runoob.com/mongodb/mongodb-tutorial.html (å…¶å­¦ä¹ æ•™ç¨‹è¿˜æŒºå¯è§‚ï¼Œå¾ˆå¤šï¼Œä¸è¿‡è¿˜ä¸æ¸…æ¥šå¥½ä¸å¥½)
æ•°æ®è¿ç§» # insert into device_data_current select * from device_data; ä½¿ç”¨ mysqldump # å¾ˆæ…¢ å¾ˆå¤§ å¾ˆæ–¹ä¾¿ å¾ˆï¼ä¸å¥½ï¼ä½¿ç”¨ï¼åœ¨ä½¿ç”¨&amp;ndash;hostæ—¶ ä¸‹é¢å‘½ä»¤æ²¡ä¸€æ¬¡æ­£å¸¸å·¥ä½œçš„ï¼Œå¾ˆéš¾å—
mysqldump -h192.168.0.25 -u{user} -p{passwd} {dbname} {tablename} &amp;gt; {tablename}.sql sed -i &amp;#39;s/{tablename}/{new_tablename}/g&amp;#39; {tablename}.sql mysql -u{user} -p{passwd} {dbname} &amp;lt; {table}.sql # å¢åŠ æ¡æ•°é™åˆ¶ bash-4.2# mysqldump -u{user} -p{passwd} test demo --host {host} --where=&amp;#34;true limit 5000&amp;#34; &amp;gt; demo.sql è¿˜æ˜¯ç”¨è‡ªå·±å†™çš„è„šæœ¬å¥½ä½¿ sql_one2one.py
æ³¨æ„äº‹é¡¹ # Mongo æ•°æ®åº“é” # mongoåªæä¾›åº“çº§ç²’åº¦é”ï¼Œæ‰€ä»¥ä¸€ä¸ªå†™æ“ä½œé”å®šæ—¶ï¼Œå…¶ä»–è¯»å†™æ“ä½œéƒ½ç­‰å¾…â€¦ æ‰€ä»¥è¿™ä¸ªå¯¼è‡´äº†Mongoå¤šçº¿ç¨‹å†™æ“ä½œåè€Œæ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹å†™æ¥çš„å¿«ï¼Ÿ
å‰å°å»ºç«‹ç´¢å¼•æ—¶ï¼ŒMongoéœ€å ç”¨ä¸€ä¸ªå†™é”ï¼ˆä¸”ä¸åŒä¸Šè¿°ã€ä¸ä¼šä¸´æ—¶æ”¾å¼ƒï¼‰ ä¸ºé¿å…æ­¤é—®é¢˜éœ€é‡‡ç”¨backgroundæ–¹å¼</description></item><item><title>æ•°æ®åº“-MySQLç¯‡</title><link>http://example.org/docs/programmer/database/note-of-db-data-mysql/</link><pubDate>Tue, 15 May 2018 09:51:09 +0000</pubDate><guid>http://example.org/docs/programmer/database/note-of-db-data-mysql/</guid><description>MySQLæ•°æ®åº“ ğŸ–¥ ğŸ“ŠğŸ–¥ # è¿æ¥ # ä½¿ç”¨MySQLå‘½ä»¤è¡Œå·¥å…·è¿æ¥MySQLæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ï¼š
å¯ç”¨å‹ç¼©ä¼ è¾“ # mysql --compress -u username -p å®Œæ•´å‘½ä»¤å¦‚ï¼š
mysql --compress -u{username} -p{passwd} --host {host} {db name} 2024-05-27: ä½†æ˜¯å¾ˆå¯æƒœï¼Œå¾ˆå¤šç¬¬ä¸‰æ–¹è¿æ¥åº“éƒ½ä¸æ”¯æŒè¿™ä¸ªå‚æ•°ã€‚
MySQL 8.0 # å› ä¸ºåœ¨æ›´æ–°8.0 ä¹‹åæ›´æ”¹äº†ç”¨æˆ·å¯†ç åŠ å¯†å½¢å¼æ‰€ä»¥åœ¨ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥çš„æ—¶å€™ä¼šå‡ºç°é”™è¯¯ï¼Œæ‰€ä»¥éœ€è¦
ALTER USER 'root'@'localhost' IDENTIFIED BY 'password' PASSWORD EXPIRE NEVER; #ä¿®æ”¹åŠ å¯†è§„åˆ™ ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password'; #æ›´æ–°ç”¨æˆ·çš„å¯†ç  FLUSH PRIVILEGES; #åˆ·æ–°æƒé™ ç»æ­¤æ­¥éª¤ï¼Œå°±å¯ä»¥å°†å¯†ç åŠ å¯†å½¢å¼æ”¹ä¸ºå›¾å½¢åŒ–å®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†å½¢å¼ï¼Œä¹Ÿæˆ–è€…æ›´å¾…å®¢æˆ·ç«¯è·Ÿç€æœåŠ¡ç«¯åŒæ­¥æ›´æ–°ã€‚
å¦å¤–ï¼Œé…ç½®ä¹‹åˆï¼Œwindows ä¸­é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š
æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡path ä¸ºMySQL/bin åˆå§‹åŒ– mysqld --initialize --user=mysql --console æ ¹æ®åˆå§‹åŒ–éšæœºç”Ÿæˆå¯†ç ç™»é™† ä¿®æ”¹å¯†ç  emm è¿™é‡Œè¯´çš„æ˜¯åœ¨å¤–éƒ¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åœ¨ä¿®æ”¹åŠ å¯†å½¢å¼çš„æ—¶å€™ä¸€å¹¶ä¿®æ”¹ ğŸ˜„ mysqladmin -u root -p password æ·»åŠ ç³»ç»ŸæœåŠ¡ mysqld -install å¯åŠ¨æœåŠ¡ net start mysql å¦å¤–åœ¨å›¾åƒåŒ–é‡Œé¢æ³¨æ„å¯†ç æ ¼å¼å‘¦ï¼Œè¿˜æœ‰ä½¿ç”¨navicatçš„è¯éœ€è¦æœ€æ–°ç‰ˆæœ¬ï¼Œå¦åˆ™æ— æ³•è®¾ç½®åŠ å¯†æ ¼å¼ï¼Œè¿˜å¾—ç”¨å‘½ä»¤è¡Œå»ä¿®æ”¹â€¦â€¦æœç„¶è¿˜æ˜¯å‘½ä»¤è¡Œæ°¸è¿œæœ€å¥½ç”¨</description></item></channel></rss>